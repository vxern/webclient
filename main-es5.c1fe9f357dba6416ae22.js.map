{"version":3,"sources":["webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///(webpack)/buildin/global.js","webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/footer/footer.component.ts","webpack:///src/app/footer/footer.component.html","webpack:///src/app/footer/footer.module.ts","webpack:///src/app/header/header.component.html","webpack:///src/app/header/header.component.ts","webpack:///src/app/header/header.module.ts","webpack:///src/app/mail/dialogs/create-folder/create-folder.component.html","webpack:///src/app/mail/dialogs/create-folder/create-folder.component.ts","webpack:///src/app/mail/dialogs/payment-failure-notice/payment-failure-notice.component.ts","webpack:///src/app/mail/dialogs/payment-failure-notice/payment-failure-notice.component.html","webpack:///src/app/mail/mail-contact/mail-contact.component.html","webpack:///src/app/mail/mail-contact/mail-contact.component.ts","webpack:///src/app/mail/mail-contact/save-contact/save-contact.component.html","webpack:///src/app/mail/mail-contact/save-contact/save-contact.component.ts","webpack:///src/app/mail/mail-detail/mail-detail.component.html","webpack:///src/app/mail/mail-detail/mail-detail.component.ts","webpack:///src/app/mail/mail-footer/mail-footer.component.html","webpack:///src/app/mail/mail-footer/mail-footer.component.ts","webpack:///src/app/mail/mail-header/mail-header.component.html","webpack:///src/app/mail/mail-header/mail-header.component.ts","webpack:///src/app/mail/mail-list/mail-folder/generic-folder/generic-folder.component.html","webpack:///src/app/mail/mail-list/mail-folder/generic-folder/generic-folder.component.ts","webpack:///src/app/mail/mail-list/mail-list.component.html","webpack:///src/app/mail/mail-list/mail-list.component.ts","webpack:///src/app/mail/mail-routing.module.ts","webpack:///src/app/mail/mail-settings/addresses-signature/addresses-signature.component.html","webpack:///src/app/mail/mail-settings/addresses-signature/addresses-signature.component.ts","webpack:///src/app/mail/mail-settings/custom-domains/custom-domains.component.html","webpack:///src/app/mail/mail-settings/custom-domains/custom-domains.component.ts","webpack:///src/app/mail/mail-settings/folders/folders.component.html","webpack:///src/app/mail/mail-settings/folders/folders.component.ts","webpack:///src/app/mail/mail-settings/invite-codes/invite-codes.component.html","webpack:///src/app/mail/mail-settings/invite-codes/invite-codes.component.ts","webpack:///src/app/mail/mail-settings/mail-autoresponder/mail-autoresponder.component.html","webpack:///src/app/mail/mail-settings/mail-autoresponder/mail-autoresponder.component.ts","webpack:///src/app/mail/mail-settings/mail-filters/mail-filters.component.html","webpack:///src/app/mail/mail-settings/mail-filters/mail-filters.component.ts","webpack:///src/app/mail/mail-settings/mail-forwarding/mail-forwarding.component.html","webpack:///src/app/mail/mail-settings/mail-forwarding/mail-forwarding.component.ts","webpack:///src/app/mail/mail-settings/mail-settings.component.html","webpack:///src/app/mail/mail-settings/mail-settings.component.ts","webpack:///src/app/mail/mail-settings/organization/organization-users/organization-users.component.html","webpack:///src/app/mail/mail-settings/organization/organization-users/organization-users.component.ts","webpack:///src/app/mail/mail-settings/save-list-contact/save-list-contact.component.html","webpack:///src/app/mail/mail-settings/save-list-contact/save-list-contact.component.ts","webpack:///src/app/mail/mail-settings/security/security.component.html","webpack:///src/app/mail/mail-settings/security/security.component.ts","webpack:///src/app/mail/mail-sidebar/compose-mail-dialog/compose-mail-dialog.component.html","webpack:///src/app/mail/mail-sidebar/compose-mail-dialog/compose-mail-dialog.component.ts","webpack:///src/app/mail/mail-sidebar/compose-mail/compose-mail.component.html","webpack:///src/app/mail/mail-sidebar/compose-mail/compose-mail.component.ts","webpack:///src/app/mail/mail-sidebar/mail-sidebar.component.html","webpack:///src/app/mail/mail-sidebar/mail-sidebar.component.ts","webpack:///src/app/mail/mail.component.html","webpack:///src/app/mail/mail.component.ts","webpack:///src/app/mail/mail.module.ts","webpack:///src/app/pages/pages-donate/pages-donate.component.ts","webpack:///src/app/pages/pages-donate/pages-donate.component.html","webpack:///src/app/pages/pages-donate/payment-options/payment-options.component.ts","webpack:///src/app/pages/pages-donate/payment-options/payment-options.component.html","webpack:///src/app/pages/pages-routing.module.ts","webpack:///src/app/pages/pages.module.ts","webpack:///src/app/shared/components/bitcoin-form/bitcoin-form.component.ts","webpack:///src/app/shared/components/bitcoin-form/bitcoin-form.component.html","webpack:///src/app/shared/components/countdown-timer/countdown-timer.component.ts","webpack:///src/app/shared/components/countdown-timer/countdown-timer.component.html","webpack:///src/app/shared/components/pricing-plans/pricing-plans.component.ts","webpack:///src/app/shared/components/pricing-plans/pricing-plans.component.html","webpack:///src/app/shared/components/stripe-form/stripe-form.component.ts","webpack:///src/app/shared/components/stripe-form/stripe-form.component.html","webpack:///src/app/shared/components/users-billing-info/users-billing-info.component.html","webpack:///src/app/shared/components/users-billing-info/users-billing-info.component.ts","webpack:///src/app/shared/config.ts","webpack:///src/app/shared/directives/click-outside.directive.ts","webpack:///src/app/shared/directives/is-ie.directive.ts","webpack:///src/app/shared/loading-spinner/loading-spinner.component.ts","webpack:///src/app/shared/loading-spinner/loading-spinner.component.html","webpack:///src/app/shared/loading/loading.component.ts","webpack:///src/app/shared/loading/loading.component.html","webpack:///src/app/shared/pipes/creditcard-number.pipe.ts","webpack:///src/app/shared/pipes/email-formatting.pipe.ts","webpack:///src/app/shared/pipes/filename.pipe.ts","webpack:///src/app/shared/pipes/filesize.pipe.ts","webpack:///src/app/shared/pipes/last-action.pipe.ts","webpack:///src/app/shared/pipes/moment-date.pipe.ts","webpack:///src/app/shared/pipes/remaining-time.pipe.ts","webpack:///src/app/shared/pipes/replace-linebreak-brtag.pipe.ts","webpack:///src/app/shared/pipes/safe.pipe.ts","webpack:///src/app/shared/progress-bar/progress-bar.component.ts","webpack:///src/app/shared/progress-bar/progress-bar.component.html","webpack:///src/app/shared/services/browser-detector.service.ts","webpack:///src/app/shared/services/dynamic-script-loader.service.ts","webpack:///src/app/shared/services/logger.service.ts","webpack:///src/app/shared/services/push-notification.service.ts","webpack:///src/app/shared/services/websocket.service.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/shared/spinner-image/spinner-image.component.ts","webpack:///src/app/shared/spinner-image/spinner-image.component.html","webpack:///src/app/shared/spinner/components/spinner.component.ts","webpack:///src/app/shared/spinner/components/spinner.component.html","webpack:///src/app/shared/spinner/services/spinner.service.ts","webpack:///src/app/store/actions/auth.action.ts","webpack:///src/app/store/actions/bitcoin.action.ts","webpack:///src/app/store/actions/compose-mail.actions.ts","webpack:///src/app/store/actions/contacts.action.ts","webpack:///src/app/store/actions/donate.actions.ts","webpack:///src/app/store/actions/index.ts","webpack:///src/app/store/actions/keyboard.action.ts","webpack:///src/app/store/actions/loading.action.ts","webpack:///src/app/store/actions/mail.actions.ts","webpack:///src/app/store/actions/router.action.ts","webpack:///src/app/store/actions/search.action.ts","webpack:///src/app/store/actions/secure-message.actions.ts","webpack:///src/app/store/actions/timezone.action.ts","webpack:///src/app/store/actions/users.action.ts","webpack:///src/app/store/datatypes.ts","webpack:///src/app/store/effects/auth.effects.ts","webpack:///src/app/store/effects/bitcoin.effects.ts","webpack:///src/app/store/effects/compose-mail.effects.ts","webpack:///src/app/store/effects/contacts.effects.ts","webpack:///src/app/store/effects/donate.effects.ts","webpack:///src/app/store/effects/index.ts","webpack:///src/app/store/effects/mail.effects.ts","webpack:///src/app/store/effects/mailbox.effects.ts","webpack:///src/app/store/effects/router.effect.ts","webpack:///src/app/store/effects/secure-message.effects.ts","webpack:///src/app/store/effects/timezone.effects.ts","webpack:///src/app/store/effects/users.effects.ts","webpack:///src/app/store/index.ts","webpack:///src/app/store/models/filter.model.ts","webpack:///src/app/store/models/index.ts","webpack:///src/app/store/models/mail.model.ts","webpack:///src/app/store/models/users.model.ts","webpack:///src/app/store/organization.store.ts","webpack:///src/app/store/quotes.ts","webpack:///src/app/store/reducers/auth.reducers.ts","webpack:///src/app/store/reducers/bitcoin.reducers.ts","webpack:///src/app/store/reducers/compose-mail.reducers.ts","webpack:///src/app/store/reducers/contacts.reducers.ts","webpack:///src/app/store/reducers/index.ts","webpack:///src/app/store/reducers/keyboard.reducers.ts","webpack:///src/app/store/reducers/loading.reducers.ts","webpack:///src/app/store/reducers/mail.reducers.ts","webpack:///src/app/store/reducers/mailboxes.reducers.ts","webpack:///src/app/store/reducers/search.reducers.ts","webpack:///src/app/store/reducers/secure-message.reducers.ts","webpack:///src/app/store/reducers/timezone.reducer.ts","webpack:///src/app/store/reducers/users.reducers.ts","webpack:///src/app/store/selectors/index.ts","webpack:///src/app/store/services/auth.guard.ts","webpack:///src/app/store/services/bitcoin.service.ts","webpack:///src/app/store/services/breakpoint.service.ts","webpack:///src/app/store/services/compose-mail.service.ts","webpack:///src/app/store/services/datetime-util.service.ts","webpack:///src/app/store/services/donation.service.ts","webpack:///src/app/store/services/index.ts","webpack:///src/app/store/services/mail-settings.service.ts","webpack:///src/app/store/services/mail.service.ts","webpack:///src/app/store/services/notification.service.ts","webpack:///src/app/store/services/openpgp.service.ts","webpack:///src/app/store/services/shared.service.ts","webpack:///src/app/store/services/timezone.service.ts","webpack:///src/app/store/services/token.interceptor.ts","webpack:///src/app/store/services/users.service.ts","webpack:///src/app/store/store.module.ts","webpack:///src/app/store/websocket.store.ts","webpack:///src/app/users/decrypt/decrypt-message.component.html","webpack:///src/app/users/decrypt/decrypt-message.component.ts","webpack:///src/app/users/dialogs/display-name-dialog/display-name-dialog.component.html","webpack:///src/app/users/dialogs/display-name-dialog/display-name-dialog.component.ts","webpack:///src/app/users/dialogs/user-account-init-dialog/user-account-init-dialog.component.html","webpack:///src/app/users/dialogs/user-account-init-dialog/user-account-init-dialog.component.ts","webpack:///src/app/users/display-secure-message/display-secure-message.component.ts","webpack:///src/app/users/display-secure-message/display-secure-message.component.html","webpack:///src/app/users/reply-secure-message/reply-secure-message.component.html","webpack:///src/app/users/reply-secure-message/reply-secure-message.component.ts","webpack:///src/app/users/users-create-account/users-create-account.component.html","webpack:///src/app/users/users-create-account/users-create-account.component.ts","webpack:///src/app/users/users-routing.module.ts","webpack:///src/app/users/users-sign-in/users-sign-in.component.html","webpack:///src/app/users/users-sign-in/users-sign-in.component.ts","webpack:///src/app/users/users-sign-up/users-sign-up.component.ts","webpack:///src/app/users/users-sign-up/users-sign-up.component.html","webpack:///src/app/users/users.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///util (ignored)?913b","webpack:///buffer (ignored)?5791","webpack:///buffer (ignored)?2388","webpack:///buffer (ignored)","webpack:///buffer (ignored)?1198","webpack:///buffer (ignored)?2a28","webpack:///buffer (ignored)?9b21","webpack:///readable-stream (ignored)","webpack:///util (ignored)?27e0","webpack:///util (ignored)","webpack:///util (ignored)?752d","webpack:///buffer (ignored)?52be","webpack:///buffer (ignored)?1934","webpack:///crypto (ignored)","webpack:///util (ignored)?901d","webpack:///util (ignored)?52f1"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","webpackContextKeys","Object","resolve","module","exports","g","Function","window","webpackEmptyAsyncContext","Promise","then","AppComponent","router","sharedService","activatedRoute","store","translate","hideFooter","hideHeader","windowIsResized","isLoading","isMail","dispatch","loadingState","subscribe","data","setDefaultLang","setTimeout","updateLoadingStatus","queryParams","pipe","parameters","referral_code","localStorage","setItem","refferalId","toUpperCase","promoCode","quote","Math","floor","random","length","select","state","auth","authState","isAuthenticated","loading","Loading","selector","templateUrl","styleUrls","HttpLoaderFactory","http","SentryErrorHandler","error","originalError","AppModule","provide","useClass","multi","forRoot","loader","useFactory","deps","declarations","imports","providers","bootstrap","FooterComponent","primaryWebsite","FooterModule","HeaderComponent","document","usersService","navIsFixed","menuIsOpened","externalPageCallToAction","selectedLanguage","name","locale","languages","isExternalPage","isLoggedIn","getUserKey","lang","use","bool","number","scrollY","documentElement","scrollTop","body","getElementById","offsetHeight","toggleState","closeMenu","HeaderModule","CreateFolderComponent","fb","activeModal","folder","color","folderColors","selectedColorIndex","customFolderForm","group","folderName","required","pattern","maxLength","indexOf","user","userState","inProgress","callback","self","method","value","close","get","valueChanges","checkFolderExist","submitted","invalid","customFolder","customFolders","filter","toLowerCase","duplicateFoldername","onHide","onSubmit","PaymentFailureNoticeComponent","navigateByUrl","updatePayment","$event","preventDefault","ContactsProviderType","MailContactComponent","modalService","breakpointsService","composeMailService","translateService","config","cdr","contactsProviderType","selectedContacts","isLayoutSplitted","checkAll","notifyContactsMail","MAX_EMAIL_PAGE_LIMIT","LIMIT","OFFSET","PAGE","autoClose","updateUsersStatus","searchText","search","limit","offset","q","isMobile","innerWidth","event","detectChanges","currentPlan","settings","plan_type","FREE","contacts","contactsState","totalContacts","contactsCount","mailboxes","mailBoxesState","currentMailbox","isSM","isXS","isMenuOpened","classList","remove","contains","isNewContact","selectedContact","addUserContent","open","centered","windowClass","beforeDismiss","contact","addUserContactModalOpen","initSplitContactLayout","selectAll","markForDelete","modalReference","item","confirmModalRef","status","toggleSelectAll","deleteContacts","join","message","receiverEmails","email","openComposeMailDialog","receivers","isFullScreen","is_composer_full_screen","forEach","selectedContactsProvider","importContactsError","importContactsModalRef","importContactsModal","notifyContactsModalRef","display_name","mailbox","sender","receiver","notifyContactsModal","files","file","provider","closeImportContactsModal","toggleMenu","editContact","openNotifyContactsModal","showComposeMailDialog","openConfirmDeleteModal","openImportContactsModal","destroySplitContactLayout","Document","SaveContactComponent","openpgp","userSaved","newContactModel","address","note","phone","enabled_encryption","public_key","handleUserState","changes","currentValue","contactEmail","getDomain","substring","internalUser","isContactsEncrypted","is_contacts_encrypted","isError","emit","newContactForm","toLocaleLowerCase","encryptContact","createNewContact","MailDetailComponent","route","pgpService","shareService","dateTimeUtilService","mailService","composeMailData","mailFolderTypes","decryptedContents","decryptedContentsPlain","decryptedAttachments","decryptedHeaders","mailOptions","isDecrypting","parentMailCollapsed","childMailCollapsed","loadingImage","showRawContent","xssPipe","hasDraft","plainTextViewState","canScroll","mails","shouldChangeMail","hasExternalImages","webSocket","webSocketState","isClosed","mail","parent_id","read","markAsRead","mailState","loaded","changeMail","mailDetail","noUnreadCountChange","is_subject_encrypted","scrambleText","has_children","children","decryptedContent","OUTBOX","is_encrypted","content","undefined","decrypt","subject","content_plain","parseHeaders","incomingHeaders","handleEmailLinks","scrollTo","querySelector","markedAsRead","makeArrayOf","decryptChildEmails","child","backupChildDecryptedContent","total_mail_count","currentMailIndex","findIndex","currentMailNumber","EMAILS_PER_PAGE","page","mailFolder","SEARCH","draft_children","params","disableMoveTo","DRAFT","getMailDetail","isDarkMode","is_night_mode","emails_per_page","disableExternalImages","is_disable_loading_images","includeOriginMessage","include_original_message","forceLightMode","lightMode","elementId","Scrambler","target","speed","text","index","forceReload","anchorElements","querySelectorAll","i","hasOwnProperty","href","split","addEventListener","win","location","focus","starred","showGmailExtraContent","array","childDecryptedContent","headers","JSON","parse","headersArray","header","key","push","messageId","attachment","downloadAttachment","getAttachment","response","tranformToFilename","fileInfo","type","file_type","decryptAttachment","atob","decryptedAttachment","console","log","errorResponse","downloadFile","decryptedDocument","ids","mailID","toString","goBack","selectedHeaders","incomingHeadersModal","isChildMail","mainReply","action_parent_id","previousMails","getPreviousMail","allRecipients","Set","cc","bcc","parentId","getMessageHistory","selectedMailbox","find","has","reply_to","lastSender","lastReceiver","action","REPLY","setActionParent","isComposeMailVisible","includes","Array","isArray","REPLY_ALL","getForwardMessageSummary","selectedMailToForward","FORWARD","attachments","forwardAttachmentsModalRef","forwardAttachmentsModal","confirmForwardAttachments","shouldForward","forwardAttachmentsMessageId","dismiss","withChildren","TRASH","parent_only","some","sourceFolder","allowUndo","onDeleteCollapseMail","excepted_children","isMailDetailPage","splice","SPAM","INBOX","fromTrash","delayed_delivery","updatedMail","draft","wait","openCreateFolderDialog","isPrime","popupWin","innerHTML","from","to","date","hasCC","write","elementReference","top","offsetTop","behavior","isForwarding","previousMail","history","getMessageSummary","formattedDateTime","sent_at","formatDateTimeStr","created_at","transformToFormattedEmail","sender_display","receiver_display","childIndex","onDelete","MailFooterComponent","searchInput","MailHeaderComponent","searchPlaceholder","language","setSearchPlaceholder","url","events","searchState","setValue","emitEvent","emitModelToViewChange","emitViewToModelChange","isContactsPage","navigate","add","logoutModal","backdrop","logout","GenericFolderComponent","authService","noEmailSelected","MAX_DECRYPT_NUMBER","queueForDecryptSubject","isEnabledToDecryptSubject","isMoveMailClicked","isDeleteDraftClicked","showProgress","fetchMails","SENT","getMailReceiverList","isMailsMoved","refresh","setIsSelectAll","is_subject_auto_decrypt","decryptAllSubjects","isInitialized","isNeedFetchMails","paramMap","parametersMap","charAt","slice","removeEventListener","onBeforeLoader","receiver_list","markAllMails","isSomeEmailsSelected","marked","count","isRead","getMailIDs","getMarkedMails","starred_mails","moveToFolder","decryptingMail","isExistMatchMail","processDecryptSubject","queuedMail","mailId","mailToDecrypt","confirmEmptyTrashModalRef","confirmEmptyTrashModal","delateDraftModalRef","delateDraftModal","allString","info_by_folder","is_not_first_page","is_dirty","folders","cachedMails","markReadMails","markUnreadMails","markStarredMails","markUnstarredMails","moveToTrash","MailListComponent","routes","path","component","canActivate","redirectTo","pathMatch","MailRoutingModule","forChild","register","AddressesSignatureComponent","formBuilder","openPgpService","settingsService","newAddressOptions","reorderInProgress","signatureChanged","quillModules","mailboxesState","isUpdatingOrder","reorder","isBusy","onDiscardNewAddress","currentMailBox","selectedMailboxForSignature","selectedMailboxForKey","onSelectedMailboxForKeyChanged","customDomains","is_domain_verified","is_mx_verified","domain","newAddressForm","username","minLength","updateMailboxSettings","handleUsernameAvailability","customDomain","reset","isCustomDomainSelected","setValidators","updateValueAndValidity","isAddingNew","isSubmitted","valid","usernameExists","controls","generateUserKeys","getUserKeys","addNewAddress","waitForPGPKeys","requestData","getEmail","selectedMailboxPublicKey","btoa","selectedMailboxPrivateKey","private_key","next","isQuillEditorOpen","mailboxToDelete","deleteAliasModal","sortOrder","sort_order","sort","a","b","unmodifiedMailboxes","x","payload","mailbox_list","mailbox_id","errors","checkUsernameAvailability","exists","updateSettings","CustomDomainsComponent","onGotoTab","domains","isAddingNewDomain","currentStep","newDomain","newCustomDomain","newDomainError","newCustomDomainError","currentCreationStep","domainNameForm","domainNameCtrl","verifyForm","mxForm","spfForm","dkimForm","dmarcForm","isEditing","copyToClipboard","gotoNextStep","reverify","confirmDeleteModal","FoldersComponent","notificationService","mergeById","a1","a2","itm","customFolderMessageCount","confirmationModal","selectedFolder","edit","options","componentInstance","showSnackBar","unmodifiedFolders","folder_list","folder_id","addFolder","InviteCodesComponent","inviteCodes","isLoaded","generateCode","MailAutoresponderComponent","autoresponder","startTime","hour","minute","second","endTime","initData","errorMessage","autoResponderErrorMessage","start_time","getNgbTimeStructFromTimeStr","end_time","startDate","start_date","getNgbDateStructFromDateStr","endDate","end_date","startDatePicker","navigateTo","endDatePicker","is_time_range_restricted","createTimeStrFromNgbTimeStruct","isBefore","vacationautoresponder_active","createDateStrFromNgbDateStruct","editorFocused","save","MailFiltersComponent","folderIcons","ARCHIVE","mailFolderType","filterCondition","filterParameter","filters","customFilterModalRef","filtersError","createFilterForm","filterText","moveTo","markAsStarred","checkFilterExist","createFilterData","selectedFilter","hasDuplicateFilterName","filter_text","move_to","mark_as_read","mark_as_starred","customFilterModal","condition","parameter","deleteFilterModalRef","deleteFilterModal","openCustomFilterModal","MailForwardingComponent","isVerificationCodeSent","isForwardingVerificationCodeSent","emailForwardingErrorMessage","isCodeFormSubmitted","addAddressModalRef","emailForm","codeForm","showFormErrorMessages","addAddressModal","onAddAddress","forwarding_address","confirmDeleteAddressModalRef","confirmDeleteAddressModal","enable_forwarding","enable_copy_forwarding","MailSettingsComponent","pushNotificationService","creditcardnumber","fonts","autosaveDurations","planType","selectedIndex","cards","payment","paymentMethod","userPlanType","newListContact","show","deleteAccountOptions","autosave_duration","notificationPermissionType","selectedTabQueryParams","isAddNewCard","isCardUpdateMode","timeZoneFilter","initAutoSaving","notificationsPermission","Notification","permission","loadPricingPlans","timezone","payment_transaction","invoices","PRICING_PLANS","duration","Number","newDuration","timezonesState","timezones","deleteAccountInfoForm","contact_email","password","timeZoneFilteredOptions","_filterTimeZone","currentSettingsTab","changeUrlParams","tabSet","option","isEditingRecoveryEmail","autosave_durations","perduration","autosave_duration_list","tabSelected","nextId","billingInfoModal","card","billingInfoContent","is_conversation_mode","deleteAccountInfoModalRef","deleteAccountInfoModal","showErrors","confirmDeleteAccountModalRef","confirmDeleteAccountModal","input","requestPermission","element","scroll","scrollIntoView","icon","create","notif","notification","invoice","viewInvoice","print","invoiceItems","items","invoice_date","format","payment_method","description","quantity","amount","toFixed","invoiceData","invoice_id","payment_type","total_amount","storage","email_addresses","custom_domains","navigateToTab","onUpdateSettingsBtnClick","addUserForm","OrganizationUsersComponent","confirmPwd","recoveryEmail","validator","MatchPassword","organization","organizationState","users","isAddingUserInProgress","closeAddUserModal","isDeleteInProgress","cancelDelete","isAddingUser","addUserModalRef","addUserModal","result","addUserModalClosed","addNewUser","unmodifiedUser","selectedUser","confirmDeleteModalRef","userExistError","SaveListContactComponent","contactType","closed","contactForm","openModal","modalRef","modalContent","showFormErrors","enable_2fa","SecurityComponent","showChangePasswordFormErrors","apiUrl","auth2FAForm","planTypeEnum","auth2FA","updatedPrivateKeys","canDispatchChangePassphrase","changePasswordConfirmed","changePasswordModalRef","isChangePasswordError","revertChangedPassphrase","changePasswordForm","oldPassword","deleteData","privKeys","pubKeys","clearData","decryptPrivateKeys","is_anti_phishing_enabled","anti_phishing_phrase","auth2FAModal","passcode","auth2FAStep","changePasswordModal","decryptContactsModalRef","decryptContactsModal","reason","isDecryptingContacts","confirmEncryptContactsModal","clearCount","decryptAllContacts","contactsToDecrypt","changePassphrase","old_password","confirm_password","new_keys","delete_data","openChangePasswordModal","openConfirmEncryptContactsModal","openDecryptContactsModal","updateAntiPhishing","ComposeMailDialogComponent","hide","minimize","fullScreen","mailSubject","appState","isPopupClosed","isComposerPopUp","composeMail","res","hasData","saveInDrafts","draftMail","discardEmail","hideMailComposeDialog","isMinimized","toggleMinimized","toggleFullScreen","onClose","subjectChanged","valueChanged$","Quill","FontAttributor","whitelist","SizeAttributor","QuillBlockEmbed","Inline","ImageBlot","node","setAttribute","content_id","getAttribute","blotName","tagName","SignatureBlot","replace","innerText","className","OriginalBlot","PasswordValidation","AC","confirmPassword","setErrors","ComposeMailComponent","filesizePipe","filenamePipe","showSaveButton","popUpChange","colors","mailData","inputTextValue","ccInputTextValue","bccInputTextValue","selfDestruct","delayedDelivery","deadManTimer","isTrialPrimeFeaturesAvailable","isDownloadingAttachmentCounter","insertLinkData","mailAction","isPasted","ccIsPasted","bccIsPasted","isMailSent","isSavedInDraft","defaultLocale","attachmentsQueue","downloadingAttachments","inlineAttachmentContentIds","isSignatureAdded","encryptionData","loadContacts","encryptForm","passwordHint","days","min","max","hours","resetMailData","initializeDraft","drafts","draftId","isProcessingAttachments","encryptAttachment","handleAttachment","is_html","is_html_disabled","emailContacts","display","loadEmailContacts","saveDraftOnLogout","updateEmail","updateSignature","addDecryptedContent","now","Date","datePickerMinDate","year","getFullYear","month","getMonth","day","getDate","initializeAutoSave","validateEmail","re","test","String","receiverInputRange","nativeElement","ccReceiverInputRange","bccReceiverInputRange","initializeComposeMail","editor","initializeQuillEditor","firstChild","getPlainText","html","createElement","textContent","is_inline","encryption","password_hint","expiryHours","expiry_hours","progress","transform","attachmentId","performance","usersKeys","decryptAttachments","uint8Array","base64ToUint8Array","newDocument","File","buffer","byteOffset","byteLength","newAttachment","quill","modules","toolbar","clipboard","matchVisual","default_font","getModule","addHandler","quillImageHandler","on","delta","oldDelta","source","dangerouslyPasteHTML","formatContent","setSelection","link","updateContents","retain","getSelection","getLength","insert","attributes","insertLinkModal","autoSaveSubscription","attachImagesModalRef","attachImagesModal","oldMailbox","FR","FileReader","readAsDataURL","uploadAttachment","isInline","checkAttachmentSizeLimit","attachmentHolder","size","attachmentLimitInMBs","attachment_size_limit","attachment_size_error","assign","isUploadingAttachment","isRemoved","is_forwarded","embedImageInQuill","isSaving","resetValues","sendEmailCheck","is_enabled","invalidAddress","rfcStandardValidateEmail","sendEmail","generateEmailSshKeys","setMailData","emails","shouldSave","shouldSend","signature","oldSig","newSig","container","RegExp","insertText","setText","getNgbDateTimeStructsFromDateTimeStr","resetSelfDestructValues","selfDestructModalRef","selfDestructModal","resetDelayedDeliveryValues","delayedDeliveryModalRef","delayedDeliveryModal","resetDeadManTimerValues","deadManTimerModalRef","deadManTimerModal","encryptionModalRef","encryptionModal","time","dateTimeString","createDateTimeStrFromNgbDateTimeStruct","isDateTimeInPast","closeSelfDestructModal","clearDelayedDeliveryValue","clearDeadManTimerValue","closeDelayedDeliveryModal","clearSelfDestructValue","isNaN","closeDeadManTimerModal","showEncryptFormErrors","closeEncryptionModal","contentId","selection","insertEmbed","encrypt","destruct_date","dead_man_duration","tokens","send","last_action","last_action_parent_id","action_parent","forward_attachments_of_message","parent","checkInlineAttachments","isPGPInProgress","contents","getContents","ops","currentAttachments","image","attachmentToRemove","removeAttachment","unSubscribeAutoSave","unsubscribe","isCcVisible","isBccVisible","meridian","stopPropagation","onFilesSelected","dataTransfer","tag","parsedEmail","local","token","trim","onAddingReceiver","ccUpdateInputTextValue","ccOnPaste","ccOnTagEdited","onCcClick","bccUpdateInputTextValue","bccOnPaste","bccOnTagEdited","onBccClick","onSubjectChange","onFilesDrop","onImagesSelected","openEncryptionModal","setHtmlEditor","MailSidebarComponent","websocketService","titleService","EMAIL_LIMIT","isComposeVisible","nextPage","getItem","currentRoute","connect","total_count","is_from_socket","showNotification","updateUnreadCount","is_outbox_mail_sent","unread_count","currentFolder","marked_as_read","isGranted","handleDarkMode","handleCustomCss","custom_css","updateTitle","capitalize","title","unreadMailsCount","setTitle","s","isNightMode","customCss","totalItems","isMD","isSidebarOpened","sender_display_name","createFolder","MailComponent","autoresponder_status","canLoadNotification","currentDate","isLoadedData","dsn","enabled","is_enable_report_bugs","autoresponder_active","vacationautoresponder_message","has_notification","notifications","notificationMessage","hideEntireFooter","getWindowWidth","initComposeMailContainer","composeMailContainer","destroyAllComposeMailDialogs","encapsulation","None","MailModule","entryComponents","PagesDonateComponent","dynamicScriptLoader","loadStripeScripts","load","stripeKeyLoaded","PaymentOptionsComponent","PagesRoutingModule","PagesModule","BitcoinFormComponent","CountdownTimerComponent","finished","calculate","durationCopy","minutes","seconds","PricingPlansComponent","paymentType","ANNUALLY","availableStorage","availableEmailAddress","availableCustomDomain","pricingPlans","paymentTypeEnum","selectedPaymentType","MONTHLY","STRIPE","selectedCurrency","setPricingPlans","PRICING_PLANS_ARRAY","plan","selectedPlan","currency","openBillingInfoInModal","billingInfoModalRef","StripeFormComponent","_zone","donationService","stripePaymentValidation","param","expiryMonth","expiryYear","months","years","billingForm","cardNumber","checkStripeValidation","Stripe","validateCardNumber","validateExpiry","validateCVC","cvc","createToken","exp_month","exp_year","run","performStripeDonationTransaction","stripe_token","donationAmount","submitStripeForm","UsersBillingInfoComponent","paymentMethodType","isUpgradeAccount","upgradeAmount","new_amount","bitcoin","bitcoinState","is_valid","bitcoinRequired","new_amount_btc","checkTransactionResponse","PENDING","RECEIVED","paymentSuccess","signupState","snapshot","PRIME","billing","validatePromoCode","BITCOIN","selectBitcoinMethod","validateSignupData","timerObservable","timerReference","t","getUpgradeAmount","btcTimer","isScriptsLoading","isScriptsLoaded","stripeSignup","is_renew","isRenew","getToken","bitcoinSignup","getSignupData","openAccountInitModal","newWalletAddress","from_address","userKeys","pgpKeyGenerationCompleted","promo_code","currentLocale","currentLang","pgpGenerationCompleted","forceLoad","selectPaymentType","showPaymentPending","timer","createNewWallet","checkTransaction","MONERO","keyboard","removeStripeFromDOM","onCancel","IS_ELECTRON","protocol","getBaseUrl","PRIMARY_DOMAIN","production","PRIMARY_WEBSITE","COLORS","FOLDER_COLORS","LANGUAGES","ESCAPE_KEYCODE","MAX_FOLDERS_COUNT","VALID_EMAIL_REGEX","FONTS","AUTOSAVE_DURATION","REFFERAL_CODE_KEY","PROMO_CODE_KEY","REFFERAL_ID_KEY","JWT_AUTH_COOKIE","SummarySeparator","QUILL_FORMATTING_MODULES","list","indent","direction","background","align","imageResize","getWindowConfig","host","hostname","darkModeCss","ClickOutsideDirective","clickOutside","targetElement","clickedInside","IsIeDirective","templateReference","viewContainer","browserDetector","isIEBrowser","createEmbeddedView","clear","LoadingSpinnerComponent","optionalClasses","LoadingComponent","CreditCardNumberPipe","plainCreditCard","defaultCardNumberLength","padStart","EmailFormatPipe","displayName","isHtmlFormat","formattedEmail","FilenamePipe","arguments_","filePathTokens","FilesizePipe","units","bytes","preferredUnit","precision","parseFloat","isFinite","unit","LastActionPipe","MomentDatePipe","isSame","RemainingTimePipe","hoursOnly","getTimeRemainingFromHours","getTimeRemaining","getFormattedTime","end","diff","asSeconds","hrs","mnts","padLeft","LineBreakToBrTag","mailContent","SafePipe","sanitizer","fromEmail","removeTitle","cssFilter","onIgnoreAttr","styleName","styleValue","blackList","position","blackValueList","value_","safeAttributeValue","xssValue","stripIgnoreTag","stripIgnoreTagBody","onTag","isClosing","htmlAttributes","reg","match","exec","containsTargetAttribute","attributesHtml","attributeName","attributeValue","whiteList","whiteAttributeList","isWhiteAttribute","returnValue1","returnValue2","outputHtml","onIgnoreTagAttr","onTagAttr","replaceLinksInText","bypassSecurityTrustHtml","bypassSecurityTrustUrl","processSanitization","allowedTags","br","div","font","h1","h2","h3","h4","h5","h6","hr","img","label","li","ol","p","span","strong","table","td","th","tr","u","ul","headingAttributes","allowedAttributes","attribute","attributeWhitelist","inputText","urlPattern","pseudoUrlPattern","emailAddressPattern","ProgressBarComponent","BrowserDetectorService","checkIEVersion","ua","navigator","userAgent","msie","parseInt","trident","rv","ScriptStore","src","DynamicScriptLoaderService","scripts","script","promises","loadScript","all","reject","append","removeChild","stripe","LoggerService","optionalParameters","PushNotificationService","isSupported","obs","complete","_notify","onclose","alertContent","notify","providedIn","PushNotificationOptions","WebsocketService","retryCount","userId","WebSocket","onmessage","disconnect","SharedModule","SpinnerImageComponent","SpinnerComponent","spinnerService","isShowing","showChange","unregister","SpinnerService","spinnerCache","spinner","spinnerName","spinnerGroup","showing","spinnerToRemove","AuthActionTypes","LogIn","LOGIN","LogInSuccess","LOGIN_SUCCESS","LogInFailure","LOGIN_FAILURE","SignUp","SIGNUP","SignUpSuccess","SIGNUP_SUCCESS","SignUpFailure","SIGNUP_FAILURE","Logout","LOGOUT","SaveDraftOnLogout","SAVE_DRAFT_ON_LOGOUT","GetStatus","GET_STATUS","UpdateSignupData","UPDATE_SIGNUP_DATA","CheckUsernameAvailability","CHECK_USERNAME_AVAILABILITY","CheckUsernameAvailabilitySuccess","CHECK_USERNAME_AVAILABILITY_SUCCESS","CheckUsernameAvailabilityError","CHECK_USERNAME_AVAILABILITY_ERROR","RecoverPassword","RECOVER_PASSWORD","RecoverPasswordSuccess","RECOVER_PASSWORD_SUCCESS","RecoverPasswordFailure","RECOVER_PASSWORD_FAILURE","ResetPassword","RESET_PASSWORD","ResetPasswordSuccess","RESET_PASSWORD_SUCCESS","ResetPasswordFailure","RESET_PASSWORD_FAILURE","UpgradeAccount","UPGRADE_ACCOUNT","UpgradeAccountSuccess","UPGRADE_ACCOUNT_SUCCESS","UpgradeAccountFailure","UPGRADE_ACCOUNT_FAILURE","ChangePassword","CHANGE_PASSWORD","ChangePasswordSuccess","CHANGE_PASSWORD_SUCCESS","ChangePasswordFailed","CHANGE_PASSWORD_FAILED","ChangePassphraseSuccess","CHANGE_PASSPHRASE_SUCCESS","DeleteAccount","DELETE_ACCOUNT","DeleteAccountSuccess","DELETE_ACCOUNT_SUCCESS","DeleteAccountFailure","DELETE_ACCOUNT_FAILURE","ClearSignUpState","CLEAR_SIGNUP_STATE","ClearAuthErrorMessage","CLEAR_AUTH_ERROR_MESSAGE","GetCaptcha","GET_CAPTCHA","GetCaptchaSuccess","GET_CAPTCHA_SUCCESS","VerifyCaptcha","VERIFY_CAPTCHA","VerifyCaptchaSuccess","VERIFY_CAPTCHA_SUCCESS","VerifyCaptchaFailure","VERIFY_CAPTCHA_FAILURE","ExpireSession","EXPIRE_SESSION","Get2FASecret","GET_2FA_SECRET","Get2FASecretSuccess","GET_2FA_SECRET_SUCCESS","Update2FA","UPDATE_2FA","Update2FASuccess","UPDATE_2FA_SUCCESS","RefreshToken","REFRESH_TOKEN","SetAuthenticatedState","SET_AUTHENTICATED","BitcoinActionTypes","CreateNewWallet","CREATE_NEW_WALLET","CheckTransaction","CHECK_TRANSACTION","CheckTransactionSuccess","CHECK_TRANSACTION_SUCCESS","CreateNewWalletSuccess","CREATE_NEW_WALLET_SUCCESS","ClearWallet","CLEAR_WALLET","ComposeMailActionTypes","CreateMail","CREATE_MAIL","CreateMailSuccess","CREATE_MAIL_SUCCESS","UpdateLocalDraft","UPDATE_LOCAL_DRAFT","CloseMailbox","CLOSE_MAILBOX","SendMail","SEND_MAIL","SendMailSuccess","SEND_MAIL_SUCCESS","SendMailFailure","SEND_MAIL_FAILURE","UpdatePGPEncryptedContent","UPDATE_PGP_ENCRYPTED_CONTENT","UpdatePGPSshKeys","UPDATE_PGP_SSH_KEYS","UploadAttachment","UPLOAD_ATTACHMENT","UploadAttachmentProgress","UPLOAD_ATTACHMENT_PROGRESS","UploadAttachmentRequest","UPLOAD_ATTACHMENT_REQUEST","UploadAttachmentSuccess","UPLOAD_ATTACHMENT_SUCCESS","UploadAttachmentFailure","UPLOAD_ATTACHMENT_FAILURE","DeleteAttachment","DELETE_ATTACHMENT","DeleteAttachmentSuccess","DELETE_ATTACHMENT_SUCCESS","DeleteAttachmentFailure","DELETE_ATTACHMENT_FAILURE","StartAttachmentEncryption","START_ATTACHMENT_ENCRYPTION","GetUsersKeys","GET_USERS_KEYS","GetUsersKeysSuccess","GET_USERS_KEYS_SUCCESS","NewDraft","NEW_DRAFT","ClearDraft","CLEAR_DRAFT","UpdateDraftAttachment","UPDATE_DRAFT_ATTACHMENT","ContactsActionTypes","ContactsGet","CONTACT_GET","ContactGetSuccess","CONTACT_GET_SUCCESS","ContactGetFailure","CONTACT_GET_FAILURE","ContactAdd","CONTACT_ADD","ContactAddSuccess","CONTACT_ADD_SUCCESS","ContactAddError","CONTACT_ADD_ERROR","ContactDelete","CONTACT_DELETE","ContactDeleteSuccess","CONTACT_DELETE_SUCCESS","ContactNotify","CONTACT_NOTIFY","ContactNotifySuccess","CONTACT_NOTIFY_SUCCESS","ContactNotifyFailure","CONTACT_NOTIFY_FAILURE","ContactImport","CONTACT_IMPORT","ContactImportSuccess","CONTACT_IMPORT_SUCCESS","ContactImportFailure","CONTACT_IMPORT_FAILURE","ContactDecryptSuccess","CONTACT_DECRYPT_SUCCESS","GetEmailContacts","GET_EMAIL_CONTACTS","GetEmailContactsSuccess","GET_EMAIL_CONTACTS_SUCCESS","ClearContactsToDecrypt","CLEAR_CONTACTS_TO_DECRYPT","UpdateBatchContacts","CONTACT_BATCH_UPDATE","UpdateBatchContactsSuccess","CONTACT_BATCH_UPDATE_SUCCESS","DonationActionTypes","MakeStripDonation","MAKE_STRIPE_DONATION","MakeStripeDonationSuccess","MAKE_STRIPE_DONATION_SUCCESS","MakeStripeDonationFailure","MAKE_STRIPE_DONATION_FAILURE","KeyboardActionTypes","KeyboardFocus","KEYBOARD_FOCUSED","KeyboardFocusOut","KEYBOARD_FOCUSED_OUT","KeyPressed","KEY_PRESSED","FocusedInputID","FOCUSED_INPUT","LoadingActionTypes","RelatedBlogLoading","RELATED_LOADING","RecentBlogLoading","RECENT_LOADING","FinalLoading","FINAL_LOADING","MailActionTypes","GetMails","GET_MAILS","GetMailsSuccess","GET_MAILS_SUCCESS","SetIsComposerPopUp","SET_IS_COMPOSER_POPUP","GetUnreadMailsCount","GET_UNREAD_MAILS_COUNT","GetUnreadMailsCountSuccess","GET_UNREAD_MAILS_COUNT_SUCCESS","GetCustomFolderMessageCount","GET_CUSTOMFOLDER_MESSAGE_COUNT","GetCustomFolderMessageCountSuccess","GET_CUSTOMFOLDER_MESSAGE_COUNT_SUCCESS","StopGettingUnreadMailsCount","STOP_GETTING_UNREAD_MAILS_COUNT","GetMailboxes","GET_MAILBOXES","GetMailboxesSuccess","GET_MAILBOXES_SUCCESS","GetMailDetail","GET_MAIL_DETAIL","ClearMailsOnConversationModeChange","CLEAR_MAILS_ON_CONVERSATION_MODE_CHANGE","ClearMailsOnLogout","CLEAR_MAILS_ON_LOGOUT","ClearMailDetail","CLEAR_MAIL_DETAIL","GetMailDetailSuccess","GET_MAIL_DETAIL_SUCCESS","UpdateMailDetailChildren","UPDATE_MAIL_DETAIL_CHILDREN","MoveMail","MOVE_MAIL","MoveMailSuccess","MOVE_MAIL_SUCCESS","DeleteMail","DELETE_MAIL","ReadMail","READ_MAIL","ReadMailSuccess","READ_MAIL_SUCCESS","StarMail","STAR_MAIL","StarMailSuccess","STAR_MAIL_SUCCESS","DeleteMailSuccess","DELETE_MAIL_SUCCESS","SetDecryptInProgress","SET_DECRYPT_INPROGRESS","SetDecryptedKey","SET_DECRYPTED_KEY","SetCurrentMailbox","SET_CURRENT_MAILBOX","UndoDeleteMail","UNDO_DELETE_MAIL","UndoDeleteMailSuccess","UNDO_DELETE_MAIL_SUCCESS","SetCurrentFolder","SET_CURRENT_FOLDER","UpdatePGPDecryptedContent","UPDATE_PGP_DECRYPTED_CONTENT","UpdateCurrentFolder","UPDATE_CURRENT_FOLDER","MailboxSettingsUpdate","MAILBOX_SETTINGS_UPDATE","MailboxSettingsUpdateSuccess","MAILBOX_SETTINGS_UPDATE_SUCCESS","MailboxSettingsUpdateFailure","MAILBOX_SETTINGS_UPDATE_FAILURE","CreateMailbox","CREATE_MAILBOX","CreateMailboxSuccess","CREATE_MAILBOX_SUCCESS","CreateMailboxFailure","CREATE_MAILBOX_FAILURE","SetDefaultMailbox","SET_DEFAULT_MAILBOX","SetDefaultMailboxSuccess","SET_DEFAULT_MAILBOX_SUCCESS","UpdateMailboxOrder","UPDATE_MAILBOX_ORDER","UpdateMailboxOrderSuccess","UPDATE_MAILBOX_ORDER_SUCCESS","EmptyFolder","EMPTY_FOLDER","EmptyFolderSuccess","EMPTY_FOLDER_SUCCESS","EmptyFolderFailure","EMPTY_FOLDER_FAILURE","DeleteMailForAll","DELETE_MAIL_FOR_ALL","DeleteMailForAllSuccess","DELETE_MAIL_FOR_ALL_SUCCESS","DeleteMailbox","DELETE_MAILBOX","DeleteMailboxSuccess","DELETE_MAILBOX_SUCCESS","MoveTab","MOVE_TAB","EmptyOnlyFolder","EMPTY_ONLY_FOLDER","GO","BACK","Go","Back","Forward","SearchActionTypes","ClearSearch","CLEAR_SEARCH","SecureMessageActionTypes","GetMessage","GET_MESSAGE","GetMessageSuccess","GET_MESSAGE_SUCCESS","GetMessageFailure","GET_MESSAGE_FAILURE","UpdateSecureMessageKey","UPDATE_SECURE_MESSAGE_KEY","UpdateSecureMessageContent","UPDATE_SECURE_MESSAGE_CONTENT","UpdateSecureMessageEncryptedContent","UPDATE_SECURE_MESSAGE_ENCRYPTED_CONTENT","SendSecureMessageReply","SEND_SECURE_MESSAGE_REPLY","SendSecureMessageReplySuccess","SEND_SECURE_MESSAGE_REPLY_SUCCESS","SendSecureMessageReplyFailure","SEND_SECURE_MESSAGE_REPLY_FAILURE","GetSecureMessageUserKeys","GET_SECURE_MESSAGE_USERS_KEYS","GetSecureMessageUserKeysSuccess","GET_SECURE_MESSAGE_USERS_KEYS_SUCCESS","TimezoneActionTypes","TimezoneGet","TIMEZONE_GET","TimezoneGetSuccess","TIMEZONE_GET_SUCCESS","UsersActionTypes","GetNotification","GET_NOTIFICATION","GetNotificationSuccess","GET_NOTIFICATION_SUCCESS","Accounts","ACCOUNTS","AccountsReadSuccess","ACCOUNTS_READ_SUCCESS","CardGet","CARD_GET","CardReadSuccess","CARD_READ_SUCCESS","CardAdd","CARD_ADD","CardAddSuccess","CARD_ADD_SUCCESS","CardAddError","CARD_ADD_ERROR","CardDelete","CARD_DELETE","CardDeleteSuccess","CARD_DELETE_SUCCESS","CardMakePrimary","CARD_MAKE_PRIMARY","CardMakePrimarySuccess","CARD_MAKE_PRIMARY_SUCCESS","WhiteListGet","WHITELIST_GET","WhiteListsReadSuccess","WHITELIST_READ_SUCCESS","WhiteListAdd","WHITELIST_ADD","WhiteListAddSuccess","WHITELIST_ADD_SUCCESS","WhiteListAddError","WHITELIST_ADD_ERROR","WhiteListDelete","WHITELIST_DELETE","WhiteListDeleteSuccess","WHITELIST_DELETE_SUCCESS","BlackListGet","BLACKLIST_GET","BlackListsReadSuccess","BLACKLIST_READ_SUCCESS","BlackListAdd","BLACKLIST_ADD","BlackListAddSuccess","BLACKLIST_ADD_SUCCESS","BlackListAddError","BLACKLIST_ADD_ERROR","BlackListDelete","BLACKLIST_DELETE","BlackListDeleteSuccess","BLACKLIST_DELETE_SUCCESS","AccountDetailsGet","ACCOUNT_DETAILS_GET","AccountDetailsGetSuccess","ACCOUNT_DETAILS_GET_SUCCESS","SnackPush","SNACK_PUSH","SnackPushSuccess","SNACK_PUSH_SUCCESS","SnackErrorPush","SNACK_ERROR_PUSH","SnackErrorPushSuccess","SNACK_ERROR_PUSH_SUCCESS","MembershipUpdate","MEMBERSHIP_UPDATE","SettingsUpdate","SETTINGS_UPDATE","SettingsUpdateSuccess","SETTINGS_UPDATE_SUCCESS","SettingsUpdateUsedStorage","SETTINGS_UPDATE_USED_STORAGE","CreateFolder","CREATE_FOLDER","CreateFolderSuccess","CREATE_FOLDER_SUCCESS","CreateFolderFailure","CREATE_FOLDER_FAILURE","DeleteFolder","DELETE_FOLDER","DeleteFolderSuccess","DELETE_FOLDER_SUCCESS","GetFilters","GET_FILTERS","GetFiltersSuccess","GET_FILTERS_SUCCESS","CreateFilter","CREATE_FILTER","CreateFilterSuccess","CREATE_FILTER_SUCCESS","CreateFilterFailure","CREATE_FILTER_FAILURE","UpdateFilter","UPDATE_FILTER","UpdateFilterSuccess","UPDATE_FILTER_SUCCESS","UpdateFilterFailure","UPDATE_FILTER_FAILURE","DeleteFilter","DELETE_FILTER","DeleteFilterSuccess","DELETE_FILTER_SUCCESS","DeleteFilterFailure","DELETE_FILTER_FAILURE","GetDomains","GET_DOMAINS","GetDomainsSuccess","GET_DOMAINS_SUCCESS","CreateDomain","CREATE_DOMAIN","CreateDomainSuccess","CREATE_DOMAIN_SUCCESS","CreateDomainFailure","CREATE_DOMAIN_FAILURE","UpdateDomain","UPDATE_DOMAIN","UpdateDomainSuccess","UPDATE_DOMAIN_SUCCESS","UpdateDomainFailure","UPDATE_DOMAIN_FAILURE","ReadDomain","READ_DOMAIN","ReadDomainSuccess","READ_DOMAIN_SUCCESS","ReadDomainFailure","READ_DOMAIN_FAILURE","DeleteDomain","DELETE_DOMAIN","DeleteDomainSuccess","DELETE_DOMAIN_SUCCESS","DeleteDomainFailure","DELETE_DOMAIN_FAILURE","VerifyDomain","VERIFY_DOMAIN","VerifyDomainSuccess","VERIFY_DOMAIN_SUCCESS","VerifyDomainFailure","VERIFY_DOMAIN_FAILURE","PaymentFailure","PAYMENT_FAILURE","SendEmailForwardingCode","SEND_EMAIL_FORWARDING_CODE","SendEmailForwardingCodeSuccess","SEND_EMAIL_FORWARDING_CODE_SUCCESS","SendEmailForwardingCodeFailure","SEND_EMAIL_FORWARDING_CODE_FAILURE","VerifyEmailForwardingCode","VERIFY_EMAIL_FORWARDING_CODE","VerifyEmailForwardingCodeSuccess","VERIFY_EMAIL_FORWARDING_CODE_SUCCESS","VerifyEmailForwardingCodeFailure","VERIFY_EMAIL_FORWARDING_CODE_FAILURE","UpdateFolderOrder","UPDATE_FOLDER_ORDER","UpdateFolderOrderSuccess","UPDATE_FOLDER_ORDER_SUCCESS","SaveAutoResponder","SAVE_AUTORESPONDER","SaveAutoResponderSuccess","SAVE_AUTORESPONDER_SUCCESS","SaveAutoResponderFailure","SAVE_AUTORESPONDER_FAILURE","GetInvoices","GET_INVOICES","GetInvoicesSuccess","GET_INVOICES_SUCCESS","GetUpgradeAmount","GET_UPGRADE_AMOUNT","GetUpgradeAmountSuccess","GET_UPGRADE_AMOUNT_SUCCESS","ValidatePromoCode","VALIDATE_PROMO_CODE","ValidatePromoCodeSuccess","VALIDATE_PROMO_CODE_SUCCESS","ClearPromoCode","CLEAR_PROMO_CODE","GetInviteCodes","INVITE_CODE_GET","GetInviteCodesSuccess","INVITE_CODE_GET_SUCCESS","GenerateInviteCode","INVITE_CODE_GENERATE","GenerateInviteCodeSuccess","INVITE_CODE_GENERATE_SUCCESS","GenerateInviteCodeFailure","INVITE_CODE_GENERATE_FAILURE","Auth2FA","secret","secret_url","encodeURIComponent","UserState","PromoCode","Settings","Payment","MailStateFolderInfo","SecureContent","incoming_headers","isSubjectEncrypted","TransactionStatus","PaymentMethod","PaymentType","PlanType","NotificationPermission","MailAction","AuthEffects","actions","signIn","is_2fa_enabled","refreshToken","monthlyPrice","annualPricePerMonth","annualPriceTotal","signUp","LogOut","signOut","expireSession","recoverPassword","resetPassword","upgradeAccount","changePassword","deleteAccount","detail","getCaptcha","verifyCaptcha","get2FASecret","enable2FA","update2FA","BitcoinEffects","bitcoinService","createWalletAddress","checkPendingTransaction","ComposeMailEffects","createMailEffect","createMail","uploadAttachmentEffect","observer","request","uploadFile","UploadProgress","round","total","deleteAttachmentEffect","deleteAttachment","sendMailEffect","last_action_data","isDraft","getUsersKeysEffect","getUsersPublicKeys","ContactsEffects","userService","Contact","getContact","results","is_decryptionInProgress","decryptContact","encrypted_data","addContact","isUpdating","deleteContact","notifyContact","msg","importContacts","getEmailsContactsEffect","getEmailContacts","updateBatchContacts","DonateEffects","makeStripeDonation","payment_success","makeStripeDonationSuccess","effects","MailEffects","getMailsEffect","getMessages","previous","getUnreadMailsCountEffect","getUnreadMailsCount","getCustomFolderMessageCountEffect","getCustomFolderMessageCount","moveMailEffect","moveMail","updateFolderActions","shouldDeleteFolder","folderToDelete","deleteMailEffect","deleteMails","deleteMailForAllEffect","deleteMailForAll","readMailEffect","starMailEffect","getMailDetailEffect","getMessage","undoDeleteDraftMailEffect","emptyTrashEffect","emptyFolder","MailboxEffects","getMailboxesEffect","getMailboxes","mailboxSettingsUpdate","updateMailBoxSettings","successMsg","createMailbox","setDefaultMailbox","is_default","updateMailboxOrder","deleteMailbox","RouterEffects","actions$","navigate$","query","extras","navigateBack$","back","navigateForward$","forward","SecureMessageEffects","getMessageEffect","getSecureMessage","hash","sendReplyEffect","secureReply","getSecureMessageKeys","TimezoneEffects","timezoneService","getTimezones","UsersEffects","getAccounts","AccountDetails","getAccountDetails","WhiteLists","getWhiteList","addWhiteList","deleteWhiteList","CardLists","getPaymentMethods","cardList","addPaymentMethod","deletePaymentMethod","makePaymentPrimary","BlackLists","getBlackList","addBlackList","deleteBlackList","settingsUpdate","requestSnacks$","showUndo","requestErrorSnacks$","snackPushAction","createFolderEffect","deleteFolderEffect","deleteFolder","updateFoldersOrder","getFiltersEffect","getFilters","createFilterEffect","createFilter","updateFilterEffect","deleteFilterEffect","deleteFilter","Domains","getDomains","emailDomains","DomainCreate","createDomain","updateDomain","DomainRead","readDomain","err","DomainDelete","deleteDomain","DomainVerify","verifyDomain","step","paymentFailureEffect","showPaymentFailureDialog","sendEmailForwardingCode","verifyEmailForwardingCode","saveAutoResponder","getInvoicesEffect","getInvoices","getUpgradeAmountEffect","getInviteCodes","generateInviteCode","generateInviteCodes","GetNotificationsEffect","getUserNotifications","resp","FilterParameter","FilterCondition","EncryptionNonCTemplar","MailFolderType","Membership","User","OrganizationUser","user_id","recovery_email","fingerprint","StorageData","price","PaymentData","annualDiscountRate","classId","monthlyDiscountRate","monthlyFee","selected","totalAnnualFee","OrganizationActionTypes","GetOrganizationUsers","GET_ORGANIZATION_USERS","GetOrganizationUsersSuccess","GET_ORGANIZATION_USERS_SUCCESS","GetOrganizationUsersFailure","GET_ORGANIZATION_USERS_FAILURE","AddOrganizationUser","ADD_ORGANIZATION_USER","AddOrganizationUserSuccess","ADD_ORGANIZATION_USER_SUCCESS","AddOrganizationUserFailure","ADD_ORGANIZATION_USER_FAILURE","DeleteOrganizationUser","DELETE_ORGANIZATION_USER","DeleteOrganizationUserSuccess","DELETE_ORGANIZATION_USER_SUCCESS","DeleteOrganizationUserFailure","DELETE_ORGANIZATION_USER_FAILURE","UpdateOrganizationUser","UPDATE_ORGANIZATION_USER","UpdateOrganizationUserSuccess","UPDATE_ORGANIZATION_USER_SUCCESS","UpdateOrganizationUserFailure","UPDATE_ORGANIZATION_USER_FAILURE","OrganizationEffects","getOrganizationUsers","addOrganizationUser","deleteOrganizationUser","updateOrganizationUser","reducer","quotes","author","initialState","recaptcha","resetPasswordErrorMessage","isRecoveryCodeSent","captcha","logoutReducer","reducerAction","removeItem","show2FALogin","recovery_key","isInvalid","verified","WAITING","isSent","oldDraft","getUserKeyInProgress","encryptedContent","isSshInProgress","noOfDecryptedContacts","contact_list","phone2","concat","isDecryptedFrontend","reducers","secureMessage","keyboardFocused","keyPressed","focusedInput","Map","inbox","canGetUnreadCount","decryptedSubjects","target_folder_mails","old_folder_info","folder_info","set","mailIDs","unread_folder_mails","UNREAD","unread_folder_info","thread_count","children_count","all_folder_mails","ALL_EMAILS","all_folder_info","totalUnreadMailCount","getTotalUnreadCount","unreadMailData","total_unread_count","listOfIDs","oldMails","info_keys","undo_mails","sortByDueDate","current_folder_info","unread_mails","new_unread_mails","folder_content","need_to_update","currentIndex","STARRED","new_starred","folder_keys","transformFilename","isDecryptingAllSubjects","newEntry","sortArray","next_updated","updated","previous_updated","decryptKeyInProgress","encryptionInProgress","decryptedKey","updatedCurrentMailBox","previousDefaultMailBox","isKeyDecryptionInProgress","isContentDecryptionInProgress","isEncryptionInProgress","membership","cardsPayload","is_primary","non_field_errors","is_prime","joinedDate","joined_date","custom_folders","customDomainsLoaded","isInvoiceLoaded","prorated_price","discount_amount","CustomSerializer","routerState","root","AuthGuard","BitcoinService","post","defaultBreakpoints","xs","sm","md","lg","BreakpointsService","breakpoints","currentSize","MAX_SAFE_INTEGER","getBreakpoint","ComposeMailService","componentFactoryResolver","componentRefList","minimizedWidth","originWidth","maxComposeCount","setEncryptedContent","publicKeys","hasSshEncryption","is_attachments_encrypted","encryptedAttachments","responses","width","windowWidth","countCommonCompose","trunc","composesWidth","instance","temporaryWidth","componentReference","inputData","oldComponentReference","factory","resolveComponentFactory","newComponentReference","createComponent","getComposesWidth","destroyComponent","temporaryCount","destroy","countNewCompose","DateTimeUtilService","ISO8601_DATETIME_FORMAT","preDefinedFormats","medium","full","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","fullTime","setDefault","utc","datetime","dateString","timeString","start","DonationService","MailSettingsService","MailService","searchMessages","newData","patch","isMailRead","isMailStarred","with_children","from_trash","formData","FormData","reportProgress","randomSecret","operation","NotificationService","snackBar","snackBarReference","onAction","OpenPgpService","pubkeysArray","subjects","pgpWorker","Worker","listenWorkerPostMessages","privkeys","pubkeys","hasNewPrivateKey","primaryMailbox","decryptInProgress","userSettings","userKey","postMessage","mailboxId","privkey","user_key","generateKeys","forEmail","callerId","decryptedPrivKeys","decrypted","decryptSecureMessageKey","decryptSecureMessageContent","encrypted","encryptedAttachment","oldDocument","lastModified","decryptedSecureMessageAttachment","subjectId","encryptSecureMessageReply","encryptJson","isAddContact","decryptJson","isContact","isContactsArray","totalDecryptedContacts","stringify","reader","Uint8Array","fileData","readAsArrayBuffer","asObservable","privKey","decryptSecureMessageAttachment","userIds","numBits","passphrase","sshKeys","callbackFn","revertPassphrase","BaseImageFormat","ImageFormatAttributesList","ImageFormat","domNode","removeAttribute","reduce","formats","hasAttribute","SharedService","isReady","sortField","getTime","modal","PARAGON","paymentFailureModalRef","selBox","style","left","opacity","execCommand","base64Data","decodedData","charCodeAt","URL","createObjectURL","download","click","revokeObjectURL","sortByString","field","isComposeEditorOpen","LOADING_IMAGE","TimezoneService","TokenInterceptor","injector","clone","withCredentials","handle","ok","session_expired","UsersService","current","expiration","doesHttpOnlyCookieExist","setTokenExpiration","trimUsername","hashData","setLoginData","salt","createSalt","tokenResponse","confirmationMessage","returnValue","timezone_offset","getTimezoneOffset","referralCode","updateSignupDataWithPromo","authenticatedUrls","authenticated","referralId","cookie","row","startsWith","filterId","autoResponder","card_id","cookiename","d","setTime","expires","toUTCString","AppStoreModule","metaReducers","instrument","maxAge","logOnly","WebSocketActionTypes","WebSocketNewMessage","WEB_SOCKET_NEW_MESSAGE","WebSocketClose","WEB_SOCKET_CLOSE","WebSocketEffects","webSocketNewMessage","webSocketClose","DecryptMessageComponent","decryptForm","senderId","decodeURIComponent","isMessageExpired","secureMessageState","decryptedSubject","decryptSecureMessagePrivKey","isReplying","DisplayNameDialogComponent","changeDisplayNameForm","recoveryKey","dispName","submitDisplayNameForm","UserAccountInitDialogComponent","isDisplayNameOpened","isAccountCreationComplete","isPgpGenerationComplete","event_","onAnimationStart","onAnimationDone","animations","DisplaySecureMessageComponent","reply","expired","expiryDurationInSeconds","getDiffFromCurrentDateTime","getSecureMessageAttachment","onExpired","onReply","ReplySecureMessageComponent","cancel","replySuccess","sourceMessage","encryptSecureMessageContent","onSend","UsersCreateAccountComponent","isTextToggled","isRecoveryEmail","isConfirmedPrivacy","signupInProgress","signupForm","navigateToBillingPage","signupFormCompleted","captchaResponse","invite_code","inviteCode","signup","togglePassword","toggleText","UsersRoutingModule","UsersSignInComponent","showResetPasswordFormErrors","layout","inputFields","InputFields","loginForm","rememberMe","recoverPasswordForm","resetPasswordForm","isRecoverFormSubmitted","resetModalRef","otpInput","isRecoveryKeyMode","resetPasswordModal","otp","isOtp","isGeneratingKeys","resetPasswordConfirmed","onChange","onKeyPress","button","USERNAME","isKeyboardOpened","getInput","onInputChange","PASSWORD","currentInput","handleShift","setInput","currentLayout","layoutName","shiftToggle","setOptions","passwordVC","usernameVC","openOSK","keyCode","UsersSignUpComponent","selectedPayment","storageList","selectedStorage","mainPayments","checked","moMoney","totalMoney","makePayments","UsersModule","AppConfig","debug","preserveWhitespaces"],"mappings":"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;;;;AA1H9G;;AACE;;;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AAKF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;;;AACF;;AACF;;AACA;;AACE;;AACE;;;;AACF;;AACF;;AACA;;AACE;;AACE;;;;AACF;;AACF;;AACA;;AACE;;AACE;;;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAS;;;;AAAqD;;AAChE;;AACA;;AACE;;AAGF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAAS;;;;AAA+C;;AAC1D;;AACA;;AACE;;AAGF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;;;;;AArKiB,yFAAuB,WAAvB,EAAuB,uEAAvB;;AAC4G;;AAAA;;AAcvG;;AAAA;;AAoBA;;AAAA;;AAKA;;AAAA;;AAKA;;AAAA;;AAKA;;AAAA;;AAwDW;;AAAA;;AAGL;;AAAA;;AASK;;AAAA;;AAGL;;AAAA;;;;;;AAuD9B;;AACE;;AACE;;AACF;;AACF;;;;;;;;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;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;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AAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,QAAYC,gBAAZ;;AAAA,eAAYA,gBAAZ,EAA4B;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AA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;A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vDxC;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAQ;;AAA2B;;AACrC;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AAAyB;;AAAI;;AAC7B;;AAAyB;;AAAkC;;AAC7D;;AACF;;AACA;;AACE;;AACE;;AACE;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAsE;AAAA,mBAAS,IAAAK,MAAA,EAAT;AAAiB,WAAjB;;AAAoI;;AAAkD;;AAA6B;;AAAI;;AAAO;;AACtS;;AACA;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AAKF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AAA+D;;AAAK;;AACtE;;AACA;;AACE;;AAA4D;;AAAM;;AACpE;;AACA;;AACE;;AAA+D;;AAAK;;AACtE;;AACA;;AACE;;AAA8D;;AAAI;;AACpE;;AACF;;AACF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACE;;AAAgC;;AAAQ;;AAAgB;;AAAS;;AACjE;;AACE;;AAGF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AAAgC;;AAAQ;;AAAU;;AAAS;;AAC3D;;AACE;;AAGF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AA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","file":"main-es5.c1fe9f357dba6416ae22.js","sourcesContent":["var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","<app-loading [isLoading]=\"isLoading\" [quote]=\"quote\"></app-loading>\n<div class=\"app-outer\" [class.resize-active]=\"windowIsResized\" *ngIf=\"!isLoading\" [class.app-outer-secondary]=\"!isMail\">\n  <app-header [hidden]=\"hideHeader\"></app-header>\n  <main id=\"main\" role=\"main\">\n    <div class=\"content\">\n      <router-outlet></router-outlet>\n    </div>\n  </main>\n  <app-footer [hidden]=\"hideHeader\"></app-footer>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { TranslateService } from '@ngx-translate/core';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { SharedService } from './store/services';\n// import { UsersService } from './users/shared/users.service';\nimport { AppState, AuthState, LoadingState } from './store/datatypes';\nimport { quotes } from './store/quotes';\nimport { FinalLoading } from './store/actions';\nimport { PROMO_CODE_KEY, REFFERAL_CODE_KEY, REFFERAL_ID_KEY } from './shared/config';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  public hideFooter = false;\n\n  public hideHeader = false;\n\n  public windowIsResized = false;\n\n  public isLoading = true;\n\n  public isMail = true;\n\n  quote: object;\n\n  isAuthenticated: boolean;\n\n  constructor(\n    public router: Router,\n    private sharedService: SharedService,\n    private activatedRoute: ActivatedRoute,\n    private store: Store<AppState>,\n    private translate: TranslateService,\n  ) {\n    // this.store.dispatch(new RefreshToken());\n    this.store.dispatch(new FinalLoading({ loadingState: true }));\n    this.sharedService.hideHeader.subscribe(data => (this.hideHeader = data));\n    this.sharedService.hideFooter.subscribe(data => (this.hideFooter = data));\n    this.sharedService.isMail.subscribe(data => (this.isMail = data));\n\n    // this language will be used as a fallback when a translation isn't found in the current language\n    this.translate.setDefaultLang('en');\n    setTimeout(() => {\n      this.updateLoadingStatus();\n      this.store.dispatch(new FinalLoading({ loadingState: false }));\n    }, 3000);\n\n    this.activatedRoute.queryParams.pipe(untilDestroyed(this)).subscribe((parameters: any) => {\n      if (parameters) {\n        if (parameters.referral_code) {\n          localStorage.setItem(REFFERAL_CODE_KEY, parameters.referral_code);\n        }\n        const refferalId = parameters[REFFERAL_ID_KEY] || parameters[REFFERAL_ID_KEY.toUpperCase()];\n        if (refferalId) {\n          localStorage.setItem(REFFERAL_ID_KEY, refferalId);\n        }\n        const promoCode = parameters[PROMO_CODE_KEY] || parameters[PROMO_CODE_KEY.toUpperCase()];\n        if (promoCode) {\n          localStorage.setItem(PROMO_CODE_KEY, promoCode);\n        }\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.quote = quotes[Math.floor(Math.random() * quotes.length)];\n    this.store\n      .select((state: AppState) => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        this.isAuthenticated = authState.isAuthenticated;\n      });\n  }\n\n  private updateLoadingStatus(): void {\n    this.store\n      .select(state => state.loading)\n      .pipe(untilDestroyed(this))\n      .subscribe((loadingState: LoadingState) => {\n        this.isLoading = loadingState.Loading;\n      });\n  }\n\n  ngOnDestroy(): void {}\n}\n","import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HTTP_INTERCEPTORS, HttpClient, HttpClientModule } from '@angular/common/http';\nimport { NgModule, ErrorHandler, Injectable } from '@angular/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport * as Sentry from '@sentry/browser';\n\nimport { AppComponent } from './app.component';\nimport { AppStoreModule } from './store/store.module';\nimport { FooterModule } from './footer/footer.module';\nimport { HeaderModule } from './header/header.module';\nimport { MailModule } from './mail/mail.module';\nimport { PagesModule } from './pages/pages.module';\nimport { SharedModule } from './shared/shared.module';\nimport { UsersModule } from './users/users.module';\nimport {\n  AuthGuard,\n  BitcoinService,\n  MailService,\n  OpenPgpService,\n  SharedService,\n  TokenInterceptor,\n} from './store/services';\nimport { BreakpointsService } from './store/services/breakpoint.service';\nimport { DateTimeUtilService } from './store/services/datetime-util.service';\nimport { DonationService } from './store/services/donation.service';\nimport { NotificationService } from './store/services/notification.service';\nimport { TimezoneService } from './store/services/timezone.service';\n\n// AoT requires an exported function for factories\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n@Injectable()\nexport class SentryErrorHandler implements ErrorHandler {\n  constructor() {}\n\n  handleError(error) {\n    Sentry.captureException(error.originalError || error);\n    // Sentry.showReportDialog({ eventId });\n  }\n}\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    AppStoreModule,\n    BrowserAnimationsModule,\n    BrowserModule,\n    FooterModule,\n    HeaderModule,\n    HttpClientModule,\n    MailModule,\n    MatButtonModule,\n    MatIconModule,\n    MatSnackBarModule,\n    NgbModule,\n    PagesModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient],\n      },\n    }),\n    SharedModule,\n    UsersModule,\n  ],\n  providers: [\n    AuthGuard,\n    BitcoinService,\n    BreakpointsService,\n    DateTimeUtilService,\n    DonationService,\n    MailService,\n    NotificationService,\n    OpenPgpService,\n    SharedService,\n    TimezoneService,\n    { provide: HTTP_INTERCEPTORS, useClass: TokenInterceptor, multi: true },\n    { provide: ErrorHandler, useClass: SentryErrorHandler },\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { Component } from '@angular/core';\n\nimport { PRIMARY_WEBSITE } from '../shared/config';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss'],\n})\nexport class FooterComponent {\n  primaryWebsite = PRIMARY_WEBSITE;\n}\n","<!-- REUSABLE COMPONENT :: FOOTER -->\n<footer id=\"colphon\" class=\"site-footer bg-inverse\" role=\"contentinfo\">\n  <div class=\"container\">\n    <div class=\"row footer-widgets\">\n      <div class=\"col-6 footer-col footer-col-5\">\n        <div class=\"footer-widget\">\n          <h4 class=\"footer-widget-title\">CTemplar</h4>\n          <div class=\"footer-widget-body\">\n            <ul class=\"lists lists-arrow\">\n              <li><a href=\"https://ctemplar.com/security\" [translate]=\"'home_header.security'\">Security</a></li>\n              <li><a href=\"https://ctemplar.com/pricing\" [translate]=\"'home_header.pricing'\">Pricing</a></li>\n              <li><a href=\"https://ctemplar.com/media-kit\" [translate]=\"'footer.media_kit'\">Media Kit</a></li>\n              <li><a href=\"https://ctemplar.com/tor-onion\" [translate]=\"'footer.onion_site'\">Onion site</a></li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-6 footer-col footer-col-5\">\n        <div class=\"footer-widget\">\n          <h4 class=\"footer-widget-title\" [translate]=\"'footer.company'\">Company</h4>\n          <div class=\"footer-widget-body\">\n            <ul class=\"lists lists-arrow\">\n              <li><a href=\"https://ctemplar.com/about\" [translate]=\"'home_header.about'\">About</a></li>\n              <li>\n                <a href=\"https://ctemplar.com/blog\" target=\"_blank\" rel=\"noopener\" [translate]=\"'home_header.blog'\">Blog</a>\n              </li>\n              <li><a routerLink=\"/donate\" [translate]=\"'settings.donate.name'\">Donate</a></li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-6 footer-col footer-col-5\">\n        <div class=\"footer-widget\">\n          <h4 class=\"footer-widget-title\" [translate]=\"'footer.social'\">Social</h4>\n          <div class=\"footer-widget-body\">\n            <ul class=\"lists lists-arrow\">\n              <li><a href=\"https://www.facebook.com/CTemplarEncryption\" target=\"_blank\">Facebook</a></li>\n              <li><a href=\"https://twitter.com/RealCTemplar\" target=\"_blank\">Twitter</a></li>\n              <li><a href=\"https://www.linkedin.com/company/ctemplarencryption/\" target=\"_blank\">LinkedIn</a></li>\n              <li><a href=\"https://www.reddit.com/r/ctemplar/\" target=\"_blank\">Reddit</a></li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-6 footer-col footer-col-5\">\n        <div class=\"footer-widget\">\n          <h4 class=\"footer-widget-title\" [translate]=\"'footer.legal'\">Legal</h4>\n          <div class=\"footer-widget-body\">\n            <ul class=\"lists lists-arrow\">\n              <li><a href=\"https://ctemplar.com/privacy\" [translate]=\"'footer.privacy_policy'\">Privacy Policy</a></li>\n              <li>\n                <a href=\"https://ctemplar.com/terms\" [innerHTML]=\"'create_account.terms_and_conditions' | translate\">Terms &amp; Conditions</a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-6 footer-col footer-col-5\">\n        <div class=\"footer-widget\">\n          <h4 class=\"footer-widget-title\" [translate]=\"'footer.help'\">Help</h4>\n          <div class=\"footer-widget-body\">\n            <ul class=\"lists lists-arrow\">\n              <li><a href=\"https://get.ctemplar.help\" target=\"_blank\" [translate]=\"'footer.faq'\">Knowledge Base</a></li>\n              <li>\n                <a href=\"https://ctemplar.com/support\" target=\"_blank\" [translate]=\"'footer.support'\">Contact us</a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-12 footer-col footer-col-5\">\n        <div class=\"footer-widget\">\n          <h4 class=\"footer-widget-title\" [translate]=\"'footer.our_address'\">Our Address</h4>\n          <div class=\"footer-widget-body\">\n            <address>\n              Orange Project ehf <br />\n              Armula 4 &amp; 6 <br />\n              Reykjavk, 108 <br />\n              Iceland\n            </address>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"footer-bottom-row text-center\">\n      <p class=\"app-credit small\">\n        &copy;2020\n        <span [translate]=\"'footer.software_systems'\">Templar Software Systems Ltd., a Seychelles Limited Liability Company</span>\n      </p>\n    </div>\n  </div>\n</footer>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { FooterComponent } from './footer.component';\n\n@NgModule({\n  declarations: [FooterComponent],\n  imports: [CommonModule, NgbModule, RouterModule, TranslateModule],\n  exports: [FooterComponent],\n})\nexport class FooterModule {}\n","<!-- REUSABLE COMPONENT :: HEADER -->\n<header id=\"mastHead\" class=\"topnavbar fixed-top\" [class.header-is-stuck]=\"navIsFixed\" [ngClass]=\"{ 'has-menu-shown': menuIsOpened, 'topnavbar-primary': this.router.url === '/', 'topnavbar-secondary': this.router.url !== '/' }\" role=\"banner\">\n  <div class=\"topnavbar__row\">\n    <nav class=\"navbar navbar-expand-lg\" role=\"navigation\">\n      <div class=\"row align-items-center\">\n        <div class=\"col navbar-col navbar-brand-col\">\n          <figure class=\"navbar-brand-holder\">\n            <a class=\"navbar-brand ff-roboto text-uppercase\" href=\"{{ primaryWebsite }}/\">\n              <img alt=\"Ctemplar Logo\" class=\"navbar-brand-logo\" src=\"assets/images/logo.svg\" />\n              <strong>ctemplar</strong>\n            </a>\n          </figure>\n        </div>\n        <div class=\"col navbar-col navbar-menu-col\">\n          <button class=\"navbar-toggler\" (click)=\"toggleState()\" [ngClass]=\"{ opened: menuIsOpened, 'hidden-md-up': !externalPageCallToAction, 'd-none': externalPageCallToAction }\" role=\"button\" data-target=\"navbar-collapsable-content\" aria-controls=\"ctemplarMenuContent\" aria-label=\"Toggle navigation\"><span class=\"navbar-toggler-icon\"></span> <span class=\"navbar-toggler-icon\"></span> <span class=\"navbar-toggler-icon\"></span> <span class=\"navbar-toggler-icon\"></span> Menu</button>\n          <div class=\"navbar-collapsable-content\" [ngClass]=\"{ shown: menuIsOpened }\" [hidden]=\"externalPageCallToAction\">\n            <ul class=\"navbar-nav my-0 px-0 list-style-none\">\n              <li class=\"nav-item\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{ exact: true }\">\n                <a href=\"{{ primaryWebsite }}/\" class=\"nav-link\" (click)=\"closeMenu()\"> <span [translate]=\"'home_header.home'\">Home</span> <span class=\"sr-only\">(current)</span> </a>\n              </li>\n              <li class=\"nav-item\" routerLinkActive=\"active\">\n                <a href=\"{{ primaryWebsite }}/about/\" class=\"nav-link\" (click)=\"closeMenu()\" [translate]=\"'home_header.about'\">About</a>\n              </li>\n              <li class=\"nav-item\" routerLinkActive=\"active\">\n                <a href=\"{{ primaryWebsite }}/blog/\" class=\"nav-link\" (click)=\"closeMenu()\" [translate]=\"'home_header.blog'\">Blog</a>\n              </li>\n              <li class=\"nav-item\" routerLinkActive=\"active\">\n                <a href=\"{{ primaryWebsite }}/features/\" class=\"nav-link\" (click)=\"closeMenu()\" [translate]=\"'home_header.security'\">Security</a>\n              </li>\n              <li class=\"nav-item\" routerLinkActive=\"active\">\n                <a href=\"{{ primaryWebsite }}/pricing/\" class=\"nav-link\" (click)=\"closeMenu()\" [translate]=\"'home_header.pricing'\">Pricing</a>\n              </li>\n              <li class=\"nav-item\">\n                <a href=\"{{ primaryWebsite }}/support/\" class=\"nav-link\" (click)=\"closeMenu()\" [translate]=\"'home_header.support'\">Support</a>\n              </li>\n              <li class=\"nav-item hidden-sm-up\">\n                <a routerLink=\"/signin\" *ngIf=\"!isLoggedIn; else mobileDashboardLink\" class=\"nav-link nav-action-link\" (click)=\"closeMenu()\" [translate]=\"'home_header.login'\">Login</a>\n                <ng-template #mobileDashboardLink>\n                  <a routerLink=\"/mail\" class=\"nav-link nav-action-link\" (click)=\"closeMenu()\" [translate]=\"'settings.dashboard'\">Dashboard</a>\n                </ng-template>\n              </li>\n              <li class=\"nav-item hidden-sm-up\" routerLinkActive=\"active\" *showInIE=\"false\">\n                <a routerLink=\"/signup\" *ngIf=\"!isLoggedIn; else mobileLogoutLink\" class=\"nav-link nav-action-link btn btn-sm btn-gradient-primary signup-btn\" (click)=\"closeMenu()\" [translate]=\"'home_header.signup'\">Sign up</a>\n                <ng-template #mobileLogoutLink>\n                  <a class=\"nav-link nav-action-link btn btn-sm btn-gradient-primary signup-btn\" (click)=\"closeMenu(); logout()\" [translate]=\"'common.logout'\">Logout</a>\n                </ng-template>\n              </li>\n            </ul>\n          </div>\n          <ul class=\"user-actions-list my-0 px-0 list-style-none\" [ngClass]=\"{ 'external-page-user-actions-list': externalPageCallToAction }\">\n            <li class=\"user-actions-item\" routerLinkActive=\"active\" [ngClass]=\"{ 'hidden-xs-down': !externalPageCallToAction, 'is-external-page': externalPageCallToAction }\">\n              <a *ngIf=\"!isLoggedIn; else dashboardLink\" routerLink=\"/signin\" class=\"user-actions-link\" [translate]=\"'home_header.login'\">Login</a>\n              <ng-template #dashboardLink>\n                <a routerLink=\"/mail\" class=\"user-actions-link\" [translate]=\"'settings.dashboard'\">Dashboard</a>\n              </ng-template>\n            </li>\n            <li class=\"user-actions-item\" [ngClass]=\"{ 'hidden-xs-down': !externalPageCallToAction, 'is-external-page': externalPageCallToAction }\" *showInIE=\"false\">\n              <a *ngIf=\"!isLoggedIn; else logoutLink\" routerLink=\"/signup\" class=\"user-actions-link btn btn-sm btn-gradient-primary signup-btn\" [translate]=\"'home_header.signup'\">Sign Up</a>\n              <ng-template #logoutLink>\n                <a routerLink=\"/signin\" (click)=\"logout()\" class=\"user-actions-link btn btn-sm btn-gradient-primary signup-btn\" [translate]=\"'common.logout'\"> Logout</a>\n              </ng-template>\n            </li>\n            <li class=\"user-actions-item btn-dropdown\" [hidden]=\"externalPageCallToAction\">\n              <div ngbDropdown placement=\"bottom-right\" class=\"lang-selector-dropdown\">\n                <button class=\"bg-transparent\" type=\"button\" id=\"langDropdownMenuButton\" ngbDropdownToggle>\n                  <i class=\"fa fa-globe hidden-xs-down\"></i>\n                  {{ selectedLanguage?.locale?.toUpperCase() }}\n                </button>\n                <div ngbDropdownMenu class=\"text-center\" aria-labelledby=\"langDropdownMenuButton\">\n                  <a class=\"dropdown-item language-dropdown\" *ngFor=\"let language of languages\" (click)=\"changeLanguage(language)\">{{ language.name }} ({{ language.locale }})</a>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  </div>\n</header>\n<!-- /.REUSABLE COMPONENT :: HEADER ENDS -->\n","import { Router } from '@angular/router';\nimport { Component, HostListener, Inject, OnDestroy, OnInit } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { Store } from '@ngrx/store';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { AppState, AuthState } from '../store/datatypes';\nimport { ExpireSession, Logout } from '../store/actions';\nimport { Language, LANGUAGES, PRIMARY_WEBSITE } from '../shared/config';\nimport { SharedService } from '../store/services';\nimport { UsersService } from '../store/services/users.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss'],\n})\nexport class HeaderComponent implements OnInit, OnDestroy {\n  // Public property of boolean type set false by default\n  public navIsFixed = false;\n\n  public menuIsOpened = false;\n\n  // Switch the footer call to action for this view.\n  externalPageCallToAction = false;\n\n  isLoggedIn: boolean;\n\n  selectedLanguage: Language = { name: 'English', locale: 'en' };\n\n  languages = LANGUAGES;\n\n  primaryWebsite = PRIMARY_WEBSITE;\n\n  constructor(\n    @Inject(DOCUMENT) private document: any,\n    public router: Router,\n    private sharedService: SharedService,\n    public usersService: UsersService,\n    private store: Store<AppState>,\n    private translate: TranslateService,\n  ) {\n    this.sharedService.isExternalPage.subscribe(data => (this.externalPageCallToAction = data));\n  }\n\n  ngOnInit() {\n    this.isLoggedIn = !!this.usersService.getUserKey();\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((data: AuthState) => (this.isLoggedIn = data.isAuthenticated));\n  }\n\n  changeLanguage(lang: Language) {\n    // the lang to use, if the lang isn't available, it will use the current loader to get them\n    this.translate.use(lang.locale);\n    this.selectedLanguage = lang;\n  }\n\n  // == Setup click event to toggle mobile menu\n  toggleState() {\n    // click handler\n    const bool = this.menuIsOpened;\n    this.menuIsOpened = bool === false;\n  }\n\n  // == Listening to scroll event for window object\n  @HostListener('window:scroll', [])\n  onWindowScroll() {\n    const number = window.scrollY || this.document.documentElement.scrollTop || this.document.body.scrollTop || 0;\n    if (number > document.getElementById('mastHead').offsetHeight) {\n      this.navIsFixed = true;\n    } else if (this.navIsFixed && number < 10) {\n      this.navIsFixed = false;\n    }\n  }\n\n  closeMenu() {\n    this.menuIsOpened = false;\n  }\n\n  logout() {\n    this.store.dispatch(new ExpireSession());\n    setTimeout(() => {\n      this.store.dispatch(new Logout());\n    }, 500);\n  }\n\n  ngOnDestroy(): void {}\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { SharedModule } from '../shared/shared.module';\n\nimport { HeaderComponent } from './header.component';\n\n@NgModule({\n  declarations: [HeaderComponent],\n  imports: [CommonModule, NgbModule, RouterModule, SharedModule],\n  exports: [HeaderComponent],\n})\nexport class HeaderModule {}\n","<div class=\"modal-header\">\n  <h3 class=\"modal-title w-100 text-dark\" id=\"createFoldersModalLabel\">\n    <strong>{{ 'settings.create_folder' | translate }}</strong>\n  </h3>\n  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"onHide()\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button>\n</div>\n<div class=\"modal-body bg-faded p-0\">\n  <div class=\"form\">\n    <form [formGroup]=\"customFolderForm\" (ngSubmit)=\"onSubmit()\">\n      <div class=\"form-group pb-0 mb-0 pr-4 px-3 pt-3 pb-0\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label for=\"folderName\" class=\"modal-form-label mb-2 mb-sm-0\">\n              <span>{{ 'settings.folder_name' | translate }}</span>\n            </label>\n          </div>\n          <div class=\"col-sm-9\">\n            <input class=\"form-control form-control-sm\" id=\"folderName\" type=\"text\" formControlName=\"folderName\" />\n          </div>\n          <div class=\"col-sm-3\"></div>\n          <div class=\"col-sm-9 errors-field\">\n            <ng-container *ngTemplateOutlet=\"folderNameErrors\"></ng-container>\n          </div>\n        </div>\n      </div>\n      <div class=\"form-group mb-0 p-3 pr-4\">\n        <div class=\"row\">\n          <div class=\"col-sm-3\">\n            <label for=\"colorSelection\" class=\"modal-form-label mb-2 mb-sm-0 pt-sm-2\">\n              <span>{{ 'settings.select_color' | translate }}</span>\n            </label>\n          </div>\n          <div class=\"col-sm-9\">\n            <div class=\"color-boxes-holder\">\n              <ul class=\"color-boxes-group\" id=\"colorSelection\">\n                <li *ngFor=\"let color of folderColors; let i = index\">\n                  <div class=\"color-shape\" (click)=\"selectedColorIndex = i\" [class.is-active]=\"i === selectedColorIndex\" [style.background]=\"color\"></div>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-footer justify-content-center justify-content-sm-end pr-4\">\n        <app-loading-spinner [showSpinner]=\"userState?.inProgress\"></app-loading-spinner>\n        <button type=\"submit\" [disabled]=\"userState?.inProgress\" class=\"btn btn-secondary btn-sm\">\n          <span *ngIf=\"folder.id; else create\">{{ 'settings.update' | translate }}</span>\n          <ng-template #create\n            ><span>{{ 'settings.create' | translate }}</span></ng-template\n          >\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n<!-- folder name policy -->\n<ng-template #folderNameErrors>\n  <span class=\"validate-message\" *ngIf=\"duplicateFoldername\">{{ 'settings.folder_messages.name_exist' | translate }}</span>\n  <ng-container *ngIf=\"customFolderForm.controls['folderName'].errors && (customFolderForm.controls['folderName'].touched || submitted)\">\n    <span class=\"validate-message\">\n      <ng-container *ngIf=\"customFolderForm.controls['folderName'].errors.required\">\n        <span> {{ 'settings.folder_messages.name_required' | translate }}</span>\n      </ng-container>\n      <ng-container *ngIf=\"customFolderForm.controls['folderName'].errors.pattern\">\n        <span> Folder name must start with an alphabet and can only contain </span>\n        <em>a-z</em>, <em>A-Z</em>, <em>0-9</em>, <em>._-</em>\n      </ng-container>\n      <ng-container *ngIf=\"customFolderForm.controls['folderName'].errors.maxlength\">\n        <span>{{ 'settings.folder_messages.name_len' | translate }}</span>\n      </ng-container>\n    </span>\n  </ng-container>\n</ng-template>\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, UserState } from '../../../store/datatypes';\nimport { CreateFolder } from '../../../store/actions';\nimport { FOLDER_COLORS } from '../../../shared/config';\nimport { Folder } from '../../../store/models';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-create-folder',\n  templateUrl: './create-folder.component.html',\n  styleUrls: ['./create-folder.component.scss'],\n})\nexport class CreateFolderComponent implements OnInit, OnDestroy {\n  @Input() folder: Folder = { id: null, name: '', color: '' };\n\n  customFolderForm: FormGroup;\n\n  folderColors: string[] = FOLDER_COLORS; // Users can select one of these colors for new folder\n\n  selectedColorIndex = 0;\n\n  userState: UserState;\n\n  submitted: boolean;\n\n  duplicateFoldername: boolean;\n\n  callback: { self: any; method: string };\n\n  constructor(private store: Store<AppState>, private fb: FormBuilder, public activeModal: NgbActiveModal) {}\n\n  ngOnInit() {\n    this.customFolderForm = this.fb.group({\n      folderName: [\n        this.folder.name,\n        [Validators.required, Validators.pattern(/^[A-Za-z]+[\\d ._a-z-]*$/), Validators.maxLength(30)],\n      ],\n      color: this.folder.color,\n    });\n    if (this.folder.color) {\n      this.selectedColorIndex = this.folderColors.indexOf(this.folder.color);\n    }\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        if (this.userState && this.userState.inProgress && !user.inProgress) {\n          if (this.callback) {\n            this.callback.self[this.callback.method](this.customFolderForm.value.folderName);\n          }\n          this.activeModal.close();\n        }\n        this.userState = user;\n      });\n\n    // Check new folder name exists\n    this.customFolderForm\n      .get('folderName')\n      .valueChanges.pipe(untilDestroyed(this))\n      .subscribe(value => {\n        this.checkFolderExist(value);\n      });\n  }\n\n  onSubmit() {\n    this.submitted = true;\n    if (this.customFolderForm.invalid) {\n      return;\n    }\n    const customFolder: Folder = {\n      id: this.folder.id,\n      name: this.customFolderForm.value.folderName,\n      color: this.folderColors[this.selectedColorIndex],\n    };\n    if (this.checkFolderExist(customFolder.name)) {\n      return;\n    }\n    this.store.dispatch(new CreateFolder(customFolder));\n  }\n\n  checkFolderExist(folderName: string) {\n    if (\n      this.userState.customFolders.filter(\n        folder => folder.name.toLowerCase() === folderName.toLowerCase() && folder.id !== this.folder.id,\n      ).length > 0\n    ) {\n      this.duplicateFoldername = true;\n      return true;\n    }\n    this.duplicateFoldername = false;\n    return false;\n  }\n\n  onHide() {\n    this.activeModal.close();\n  }\n\n  ngOnDestroy(): void {}\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-payment-failure-notice',\n  templateUrl: './payment-failure-notice.component.html',\n})\nexport class PaymentFailureNoticeComponent {\n  constructor(private activeModal: NgbActiveModal, private router: Router) {}\n\n  updatePayment() {\n    this.router.navigateByUrl('/mail/settings/dashboard-and-plans');\n    this.activeModal.close();\n  }\n}\n","<div class=\"modal-header bg-danger\">\n  <h3 class=\"modal-title w-100 text-white\">\n    <strong>{{ 'mail_dialogs.payment_failed' | translate }}</strong>\n  </h3>\n</div>\n<div class=\"modal-body bg-faded\">\n  <p>{{ 'mail_dialogs.payment_message' | translate }}</p>\n</div>\n<div class=\"modal-footer justify-content-end\">\n  <button class=\"btn btn-secondary btn-sm\" type=\"button\" (click)=\"updatePayment()\">\n    {{ 'mail_dialogs.update_payment' | translate }}\n  </button>\n</div>\n","<aside id=\"mailbox-sidebar\" class=\"mailbox-sidebar is-sidebar-expandedx\" role=\"complementary\">\n  <!-- Mailbox left sidebar -->\n  <div class=\"mailbox-sidebar-inner\">\n    <div class=\"mailbox-brand\">\n      <button class=\"navbar-toggler hidden-md-up\" role=\"button\" (click)=\"toggleMenu()\">\n        <span class=\"navbar-toggler-icon\"></span>\n        <span class=\"navbar-toggler-icon\"></span>\n        <span class=\"navbar-toggler-icon\"></span>\n        <span class=\"navbar-toggler-icon\"></span>\n        <span class=\"navbar-toggle-text\">{{ 'mail_sidebar.menu' | translate }}</span>\n      </button>\n      <figure class=\"navbar-brand-holder hidden-sm-down\">\n        <a class=\"navbar-brand ff-roboto text-uppercase\" routerLink=\"/mail\">\n          <img alt=\"Ctemplar Logo\" class=\"navbar-brand-logo\" src=\"assets/images/logo.svg\" />\n          <strong>ctemplar</strong>\n        </a>\n      </figure>\n      <div class=\"prime-account-content\">\n        <i class=\"icon icon-secure-shield\"></i>\n        <span class=\"prime-account-text\">{{ currentPlan }}</span>\n      </div>\n    </div>\n\n    <div class=\"mail-compose-section\">\n      <a routerLink=\"/mail\" class=\"btn btn-lg btn-outline-white mailbox-btn mailbox-back-btn btn-xs-squared has-icon\">\n        <i class=\"icon icon-arrow-left icon-sm mr-md-2\"></i>\n        <span class=\"mailbox-btn-text hidden-sm-down\">{{ 'contacts.back_to_mail' | translate }}</span>\n      </a>\n    </div>\n\n    <nav class=\"mailbox-sidebar-navbar\">\n      <ul class=\"mailbox-sidebar-nav\">\n        <li class=\"mailbox-sidebar-nav-item active\">\n          <a class=\"mailbox-sidebar-nav-link no-icon\"\n            ><span class=\"mailbox-sidebar-nav-label\">{{ 'contacts.all_contacts' | translate }}</span> <span class=\"badge badge-square\">{{ contactsState?.totalContacts }}</span></a\n          >\n        </li>\n      </ul>\n    </nav>\n\n    <div class=\"mailbox-sidebar-footer text-center\">\n      <div class=\"mailbox-sidebar-footer-text mb-0 mb-md-1 visible-in-sm\">\n        <span>{{ 'mail_sidebar.used' | translate }}</span>\n        <div class=\"text-white mt-1\">{{ userState.settings?.used_storage | filesize }}</div>\n      </div>\n      <div class=\"mailbox-sidebar-footer-text mb-1 hidden-in-sm\">\n        <span>{{ 'common.used_storage' | translate }}</span\n        >: {{ userState.settings?.used_storage | filesize }}\n        <span>{{ 'settings.of' | translate }}</span>\n        {{ userState.settings.allocated_storage | filesize }}\n      </div>\n      <a routerLink=\"/mail/settings/dashboard-and-plans\" class=\"btn-link text-white hidden-in-sm\" *ngIf=\"!userState.isPrime\">\n        <small>\n          <u>{{ 'common.upgrade_account' | translate }}</u>\n        </small>\n      </a>\n    </div>\n  </div>\n</aside>\n\n<!-- Add user button to be used in small screens -->\n<div class=\"btn-xs-holder is-sticky hidden-sm-up\">\n  <button class=\"btn btn-success mailbox-btn mailbox-add-user-btn btn-xs-rounded has-icon\" role=\"button\" placement=\"top\" [ngbTooltip]=\"'settings.add_user' | translate\" (click)=\"selectedContact = null; initSplitContactLayout()\">\n    <i class=\"icon icon-add-user text-white\"></i>\n  </button>\n</div>\n<!-- Action Buttons Bar -->\n<div class=\"mailbox-actionbar border-bottom-0\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <ul class=\"mailbox-actionbar-menu\">\n        <li class=\"btn-dropdown mailbox-dropdown checkbox-dropdown\">\n          <div>\n            <button class=\"dropdown-toggle no-caret\" role=\"button\">\n              <span class=\"fancy-field-group select-all-checkbox\">\n                <mat-checkbox type=\"checkbox\" id=\"selectAll\" name=\"selectAll\" (change)=\"toggleSelectAll()\" [(ngModel)]=\"selectAll\"> </mat-checkbox>\n                <label for=\"selectAll\" class=\"fancy-field-empty\"></label>\n              </span>\n            </button>\n          </div>\n        </li>\n        <li class=\"hidden-xs-down pr-0\">\n          <a class=\"no-icon text-grey-dark-500\" role=\"button\" (click)=\"editContact(null, addUserContent)\">{{ 'contacts.new_contact' | translate }}</a>\n        </li>\n        <li class=\"hidden-xs-down pr-0\">\n          <a class=\"no-icon text-grey-dark-500\" role=\"button\" (click)=\"openNotifyContactsModal()\">{{ 'contacts.notify_contacts' | translate }}</a>\n        </li>\n        <li class=\"pr-0\" ngbTooltip=\"Compose mail\">\n          <a class=\"no-icon text-grey-dark-500\" (click)=\"showComposeMailDialog()\">\n            <i class=\"svg-inline--fa fa-2x far fa-envelope\"></i>\n          </a>\n        </li>\n        <li>\n          <a (click)=\"openConfirmDeleteModal(confirmDeleteModal)\" [ngbTooltip]=\"'contacts.delete_tooltip' | translate\" class=\"cursor-pointer border-radius-l-0\"><i class=\"icon icon-garbage\"></i></a>\n        </li>\n        <li class=\"pl-0\" ngbTooltip=\"Import contacts\">\n          <a class=\"no-icon text-grey-dark-500\" (click)=\"openImportContactsModal()\">\n            <i class=\"svg-inline--fa fa-2x fas fa-upload\"></i>\n          </a>\n        </li>\n        <li *ngIf=\"inProgress\">\n          <app-loading-spinner [showSpinner]=\"inProgress\"></app-loading-spinner>\n        </li>\n        <li class=\"page-item\">\n          <div class=\"pager\">\n            <div class=\"mail-controls d-flex align-items-center justify-content-end\" *ngIf=\"contactsState?.contacts?.length > 0\">\n              <div class=\"mail-result-text text-muted\">\n                <small\n                  >{{ OFFSET + 1 }} -\n                  {{ LIMIT > MAX_EMAIL_PAGE_LIMIT - OFFSET ? MAX_EMAIL_PAGE_LIMIT : OFFSET + LIMIT }}\n                  <span>{{ 'settings.of' | translate }}</span> {{ MAX_EMAIL_PAGE_LIMIT }}</small\n                >\n              </div>\n              <div class=\"mail-nav-control\">\n                <button [disabled]=\"OFFSET === 0 && MAX_EMAIL_PAGE_LIMIT > OFFSET\" role=\"button\" class=\"mail-nav-control-prev\" (click)=\"prevPage()\">\n                  <i class=\"icon icon-chevron-left\"></i>\n                </button>\n                <button [disabled]=\"LIMIT > contactsState.contacts.length\" role=\"button\" class=\"mail-nav-control-next\" (click)=\"nextPage()\">\n                  <i class=\"icon icon-chevron-right\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n<!-- Select All Contacts, not only contacts of one page -->\n<div class=\"mail-check-number\" *ngIf=\"selectAll && MAX_EMAIL_PAGE_LIMIT > LIMIT\">\n  <p *ngIf=\"!checkAll\">\n    All {{ LIMIT > MAX_EMAIL_PAGE_LIMIT - OFFSET ? MAX_EMAIL_PAGE_LIMIT : OFFSET + LIMIT }} conversations on this page are selected. <a (click)=\"selectEntire(true)\">Select all {{ MAX_EMAIL_PAGE_LIMIT }} conversations in Contacts</a>\n  </p>\n  <p *ngIf=\"checkAll\">\n    All {{ MAX_EMAIL_PAGE_LIMIT }} conversations in Contacts are selected.\n    <a (click)=\"selectEntire(false)\">Clear selection</a>\n  </p>\n</div>\n<!-- Contacts List -->\n<div class=\"mailbox-section\">\n  <div class=\"mailbox-section-body py-0\">\n    <div class=\"row mail-contact-layout-row\" [class.is-splitted]=\"isLayoutSplitted\">\n      <div class=\"col-12 mail-contact-layout-col mail-contact-listing-col table-responsive table-hover table-fixed\">\n        <table class=\"table mail-contact\">\n          <thead class=\"mail-contact-header border-bottom-0 hidden-xs-down\">\n            <tr>\n              <th></th>\n              <th>\n                <strong>{{ 'common.name' | translate }}</strong>\n              </th>\n              <th>\n                <strong>{{ 'common.email' | translate }}</strong>\n              </th>\n            </tr>\n          </thead>\n          <tbody class=\"mail-contact-body is-bordered\">\n            <ng-container *ngIf=\"!isMobile\">\n              <tr class=\"mail-list-row is-unread\" *ngFor=\"let contact of contactsState.contacts\" [class.active-contact]=\"selectedContact == contact\">\n                <td (click)=\"checkContact(contact)\">\n                  <div class=\"mail-list-col-item mail-checkbox\">\n                    <mat-checkbox [(ngModel)]=\"contact.markForDelete\" [name]=\"contact.id\" type=\"checkbox\" [disableRipple]=\"true\" (click)=\"$event.preventDefault()\"> </mat-checkbox>\n                    <label [attr.for]=\"contact.id\" class=\"fancy-field-empty\"></label>\n                  </div>\n                </td>\n                <td (click)=\"editContact(contact, addUserContent)\">\n                  <div class=\"mail-list-col-item mail-from-name cursor-pointer\">\n                    <span *ngIf=\"contact.is_encrypted && !contact.name; else contactName\" class=\"badge badge-warning mr-2 p-1\"> **Encrypted** </span>\n                    <ng-template #contactName>\n                      <span ngbTooltip=\"{{ contact.name }}\">{{ contact.name }}</span>\n                    </ng-template>\n                  </div>\n                </td>\n                <td (click)=\"editContact(contact, addUserContent)\">\n                  <div class=\"mail-contact-col-lg cursor-pointer\">\n                    <div class=\"mail-desc\">\n                      <p>\n                        <strong>\n                          <span *ngIf=\"contact.is_encrypted && !contact.email; else contactEmail\" class=\"badge badge-warning mr-2 p-1\"> **Encrypted** </span>\n                          <ng-template #contactEmail>\n                            <span class=\"d-inline-block text-truncate mail-contact-email-field\">{{ contact.email }}</span>\n                          </ng-template>\n                        </strong>\n                      </p>\n                    </div>\n                  </div>\n                </td>\n              </tr>\n            </ng-container>\n\n            <!--Mobile view html -->\n            <ng-container *ngIf=\"isMobile\">\n              <tr class=\"mail-list-row is-unread\" *ngFor=\"let contact of contactsState.contacts\" [class.active-contact]=\"selectedContact == contact\">\n                <td (click)=\"checkContact(contact)\">\n                  <div class=\"mail-list-col-item mail-checkbox\">\n                    <mat-checkbox [(ngModel)]=\"contact.markForDelete\" [name]=\"contact.id\" type=\"checkbox\" [disableRipple]=\"true\" (click)=\"$event.preventDefault()\"> </mat-checkbox>\n                    <label [attr.for]=\"contact.id\" class=\"fancy-field-empty\"></label>\n                  </div>\n                </td>\n                <td (click)=\"editContact(contact, addUserContent)\">\n                  <div class=\"mail-list-col-item cursor-pointer\">\n                    <span *ngIf=\"contact.is_encrypted && !contact.name; else contactName\" class=\"badge badge-warning mr-2 p-1\"> **Encrypted** </span>\n                    <ng-template #contactName>\n                      <span ngbTooltip=\"{{ contact.name }}\">{{ contact.name }}</span>\n                    </ng-template>\n                  </div>\n                  <div class=\"mail-contact-col-lg cursor-pointer\">\n                    <div class=\"mail-desc\">\n                      <p>\n                        <strong>\n                          <span *ngIf=\"contact.is_encrypted && !contact.email; else contactEmail\" class=\"badge badge-warning mr-2 p-1\"> **Encrypted** </span>\n                          <ng-template #contactEmail>\n                            <span class=\"d-inline-block text-truncate mail-contact-email-field\">{{ contact.email }}</span>\n                          </ng-template>\n                        </strong>\n                      </p>\n                    </div>\n                  </div>\n                </td>\n              </tr>\n            </ng-container>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"col-12 mail-contact mail-contact-layout-col mail-contact-entry-col\">\n        <div class=\"mail-actions-form-holder\">\n          <h5 class=\"mail-actions-form-title text-dark\">\n            <button class=\"actions-btn\" role=\"button\" (click)=\"destroySplitContactLayout()\">\n              <i class=\"icon icon-arrow-left\"></i>\n            </button>\n            <strong>{{ 'contacts.details' | translate }}</strong>\n          </h5>\n          <app-save-contact *ngIf=\"isNewContact\" [selectedContact]=\"selectedContact\" (userSaved)=\"destroySplitContactLayout()\"></app-save-contact>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Add users contact modal on mobile version -->\n<ng-template #addUserContent let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\" id=\"makeDonationModalLabel\">\n      <strong>{{ 'contacts.details' | translate }}</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <app-save-contact *ngIf=\"isNewContact\" [selectedContact]=\"selectedContact\" (userSaved)=\"d()\"></app-save-contact>\n    </div>\n  </div> </ng-template\n><!-- /.Add users contact modal ends -->\n\n<!-- Confirm contact delete modal -->\n<ng-template #confirmDeleteModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong>{{ 'contacts.delete.title' | translate }}</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\">\n        <span>{{ 'contacts.delete.message' | translate }}</span>\n        <span *ngIf=\"checkAll\"> {{ MAX_EMAIL_PAGE_LIMIT }} </span><span *ngIf=\"!checkAll\"> {{ selectedContacts?.length }} </span> <span>{{ 'common.contact' | translate }}</span\n        >?\n      </div>\n      <div class=\"form-group text-right mb-0\">\n        <button (click)=\"cancelDelete()\" class=\"btn btn-secondary btn-sm mr-2\" role=\"button\">\n          {{ 'common.cancel' | translate }}\n        </button>\n        <button (click)=\"deleteContacts()\" class=\"btn btn-danger btn-sm\" role=\"button\">\n          {{ 'common.delete' | translate }}\n        </button>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.Confirm contact delete modal ends -->\n\n<!-- import contacts modal -->\n<ng-template #importContactsModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong>{{ 'contacts.import_contacts' | translate }}</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\">\n        {{ 'contacts.select_csv' | translate }}\n      </div>\n      <input type=\"file\" #importContactsInput accept=\".csv\" (change)=\"onContactsFileSelected($event.target.files)\" style=\"display: none\" />\n      <div *ngIf=\"importContactsError\" class=\"l-alert l-alert-danger mb-3\">\n        {{ importContactsError }}\n      </div>\n      <div class=\"form-group mb-0\">\n        <button type=\"button\" (click)=\"selectedContactsProvider = contactsProviderType.GOOGLE; importContactsInput.click()\" class=\"btn btn-success btn-sm col col-sm-7\" role=\"button\">\n          {{ 'contacts.import_f_google' | translate }}\n        </button>\n        <br />\n        <button type=\"button\" (click)=\"selectedContactsProvider = contactsProviderType.YAHOO; importContactsInput.click()\" class=\"btn btn-success btn-sm col col-sm-7 mt-2\" role=\"button\">\n          {{ 'contacts.import_f_yahoo' | translate }}\n        </button>\n        <br />\n        <button type=\"button\" (click)=\"selectedContactsProvider = contactsProviderType.OUTLOOK; importContactsInput.click()\" class=\"btn btn-success btn-sm col col-sm-7 mt-2\" role=\"button\">\n          {{ 'contacts.import_f_outlook' | translate }}\n        </button>\n        <br />\n        <button type=\"button\" (click)=\"selectedContactsProvider = contactsProviderType.OTHER; importContactsInput.click()\" class=\"btn btn-success btn-sm col col-sm-7 mt-2\" role=\"button\">\n          {{ 'contacts.import_f_other' | translate }}\n        </button>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.import contacts modal ends -->\n\n<!-- Notify Contacts Modal -->\n<ng-template #notifyContactsModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong>{{ 'contacts.notify_contacts_title' | translate }}</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"modal-description\">\n      <span class=\"text-small\">{{ 'contacts.notify_contacts_description.before' | translate }}</span>\n      <span class=\"text-small\" *ngIf=\"checkAll\"> {{ MAX_EMAIL_PAGE_LIMIT }} </span><span class=\"text-small\" *ngIf=\"!checkAll\"> {{ selectedContacts?.length }} </span>\n      <span class=\"text-small\">{{ 'contacts.notify_contacts_description.after' | translate }}</span>\n      <span class=\"text-small\"> <a target=\"_blank\" href=\"https://ctemplar.com/help/change-of-email-address-notice/\" rel=\"noreferrer noopener\">Learn more</a></span>\n    </div>\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"modal-content-email\">\n        <span>{{ 'contacts.notify_contacts_email.title' | translate }}</span>\n        <br />\n        <br />\n        <span>{{ 'contacts.notify_contacts_email.content_before' | translate }}</span>\n        <span\n          ><a>{{ currentMailbox.email }}</a></span\n        >\n        <span>{{ 'contacts.notify_contacts_email.content_after' | translate }}</span>\n        <span>{{ currentMailbox.display_name ? currentMailbox.display_name : currentMailbox.email }}</span>\n      </div>\n      <div class=\"form-group text-right mb-0\">\n        <button (click)=\"cancelNotifyContacts()\" class=\"btn btn-secondary btn-sm mr-2\" role=\"button\">\n          {{ 'common.cancel' | translate }}\n        </button>\n        <button (click)=\"notifyContacts()\" class=\"btn btn-danger btn-sm\" role=\"button\">\n          {{ 'contacts.send_email' | translate }}\n        </button>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.Notify Contacts modal ends -->\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  Inject,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  HostListener,\n} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { Store } from '@ngrx/store';\nimport { NgbDropdownConfig, NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { ActivatedRoute } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { AppState, Contact, ContactsState, PlanType, UserState, MailBoxesState } from '../../store/datatypes';\nimport { ContactDelete, ContactImport, ContactsGet, SnackErrorPush, ContactNotify } from '../../store';\nimport { BreakpointsService } from '../../store/services/breakpoint.service';\nimport { ComposeMailService } from '../../store/services/compose-mail.service';\nimport { Mailbox } from '../../store/models';\n\nexport enum ContactsProviderType {\n  GOOGLE = <any>'GOOGLE',\n  YAHOO = <any>'YAHOO',\n  OUTLOOK = <any>'OUTLOOK',\n  OTHER = <any>'OTHER',\n}\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail-contact',\n  templateUrl: './mail-contact.component.html',\n  styleUrls: ['./mail-contact.component.scss'],\n})\nexport class MailContactComponent implements OnInit, AfterViewInit, OnDestroy {\n  @ViewChild('importContactsModal') importContactsModal;\n\n  @ViewChild('confirmDeleteModal') confirmDeleteModal;\n\n  @ViewChild('addUserContent') addUserContent;\n\n  @ViewChild('notifyContactsModal') notifyContactsModal;\n\n  contactsProviderType = ContactsProviderType;\n\n  public userState: UserState;\n\n  public contactsState: ContactsState;\n\n  public isNewContact: boolean;\n\n  public selectedContact: Contact;\n\n  public inProgress: boolean;\n\n  public selectAll: boolean;\n\n  public selectedContacts: Contact[] = [];\n\n  selectedContactsProvider: ContactsProviderType;\n\n  importContactsError: any;\n\n  isLayoutSplitted = false;\n\n  checkAll = false;\n\n  isMenuOpened: boolean;\n\n  isMobile: boolean;\n\n  currentPlan: PlanType;\n\n  currentMailbox: Mailbox;\n\n  notifyContactsMail: any = {};\n\n  // Initial Page Settings\n  MAX_EMAIL_PAGE_LIMIT = 1;\n\n  LIMIT = 20;\n\n  OFFSET = 0;\n\n  PAGE = 0;\n\n  private contactsCount: number;\n\n  private confirmModalRef: NgbModalRef;\n\n  private importContactsModalRef: NgbModalRef;\n\n  private notifyContactsModalRef: NgbModalRef;\n\n  private searchText: string;\n\n  constructor(\n    private store: Store<AppState>,\n    private modalService: NgbModal,\n    private breakpointsService: BreakpointsService,\n    private composeMailService: ComposeMailService,\n    private activatedRoute: ActivatedRoute,\n    private translateService: TranslateService,\n    config: NgbDropdownConfig,\n    @Inject(DOCUMENT) private document: Document,\n    private cdr: ChangeDetectorRef,\n  ) {\n    // customize default values of dropdowns used by this component tree\n    config.autoClose = true;\n  }\n\n  ngOnInit() {\n    this.updateUsersStatus();\n    // Get contacts with searchText of current router params\n    this.activatedRoute.queryParams.pipe(untilDestroyed(this)).subscribe(parameters => {\n      this.searchText = parameters.search || '';\n      this.store.dispatch(new ContactsGet({ limit: 20, offset: 0, q: this.searchText }));\n    });\n\n    this.isMobile = window.innerWidth <= 768;\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.isMobile = window.innerWidth <= 768;\n  }\n\n  ngAfterViewInit(): void {\n    this.cdr.detectChanges();\n  }\n\n  ngOnDestroy(): void {}\n\n  private updateUsersStatus(): void {\n    /**\n     * Get user's current plan type\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((state: UserState) => {\n        this.userState = state;\n        this.currentPlan = state.settings.plan_type || PlanType.FREE;\n      });\n    /**\n     * Get contacts status from Store\n     */\n    this.store\n      .select(state => state.contacts)\n      .pipe(untilDestroyed(this))\n      .subscribe((contactsState: ContactsState) => {\n        this.contactsState = contactsState;\n        this.inProgress = contactsState.inProgress;\n        this.MAX_EMAIL_PAGE_LIMIT = contactsState.totalContacts;\n        if (this.contactsCount === contactsState.contacts.length + this.selectedContacts.length) {\n          this.selectedContacts = [];\n          this.contactsCount = null;\n        }\n      });\n    this.store\n      .select(state => state.mailboxes)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailBoxesState: MailBoxesState) => {\n        if (mailBoxesState.currentMailbox) {\n          this.currentMailbox = mailBoxesState.currentMailbox;\n        } else if (mailBoxesState.mailboxes.length > 0) {\n          this.currentMailbox = mailBoxesState.mailboxes[0];\n        }\n      });\n  }\n\n  toggleMenu() {\n    if (this.breakpointsService.isSM() || this.breakpointsService.isXS()) {\n      if (this.isMenuOpened) {\n        this.document.body.classList.remove('menu-open');\n        this.isMenuOpened = false;\n      }\n      if (this.document.body.classList.contains('menu-open')) {\n        this.isMenuOpened = true;\n      }\n    }\n  }\n\n  initSplitContactLayout(): any {\n    this.isLayoutSplitted = true;\n    this.isNewContact = true;\n  }\n\n  destroySplitContactLayout(): any {\n    this.isLayoutSplitted = false;\n    this.isNewContact = false;\n    this.selectedContact = null;\n  }\n\n  addUserContactModalOpen(addUserContent) {\n    this.isNewContact = true;\n    this.modalService.open(addUserContent, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n      beforeDismiss: () => {\n        this.isNewContact = false;\n        this.selectedContact = null;\n        return true;\n      },\n    });\n  }\n\n  editContact(contact: Contact, addUserContent) {\n    this.selectedContact = contact;\n    if (this.breakpointsService.isSM()) {\n      this.addUserContactModalOpen(addUserContent);\n    } else {\n      this.initSplitContactLayout();\n    }\n  }\n\n  checkContact(contact: Contact) {\n    this.selectAll = false;\n    contact.markForDelete = !contact.markForDelete;\n  }\n\n  openConfirmDeleteModal(modalReference) {\n    this.selectedContacts = this.contactsState.contacts.filter(item => item.markForDelete);\n    if (this.selectedContacts.length === 0) {\n      return;\n    }\n    this.confirmModalRef = this.modalService.open(modalReference, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  cancelDelete() {\n    this.confirmModalRef.close();\n  }\n\n  selectEntire(status) {\n    if (status) {\n      this.checkAll = true;\n    } else {\n      this.checkAll = false;\n      this.selectAll = false;\n      this.toggleSelectAll();\n    }\n  }\n\n  deleteContacts() {\n    this.confirmModalRef.close();\n    this.inProgress = true;\n    this.contactsCount = this.contactsState.contacts.length;\n    const deleteContacts = this.checkAll ? 'all' : this.selectedContacts.map(item => item.id).join(',');\n    this.store.dispatch(new ContactDelete(deleteContacts));\n  }\n\n  showComposeMailDialog() {\n    this.selectedContacts = this.contactsState.contacts.filter(item => item.markForDelete);\n    if (this.selectedContacts.length > 10) {\n      this.store.dispatch(\n        new SnackErrorPush({\n          message: 'Cannot open compose for more than 10 contacts',\n        }),\n      );\n    } else {\n      const receiverEmails = this.selectedContacts.map(contact => contact.email);\n      this.composeMailService.openComposeMailDialog({\n        receivers: receiverEmails,\n        isFullScreen: this.userState.settings.is_composer_full_screen,\n      });\n    }\n  }\n\n  toggleSelectAll() {\n    this.contactsState.contacts.forEach(item => (item.markForDelete = this.selectAll));\n  }\n\n  openImportContactsModal() {\n    this.selectedContactsProvider = null;\n    this.importContactsError = null;\n    this.importContactsModalRef = this.modalService.open(this.importContactsModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  closeImportContactsModal() {\n    if (this.importContactsModalRef) {\n      this.importContactsModalRef.close();\n    }\n  }\n\n  cancelNotifyContacts() {\n    this.notifyContactsModalRef.close();\n  }\n\n  notifyContacts() {\n    this.notifyContactsModalRef.close();\n    this.inProgress = true;\n    this.contactsCount = this.contactsState.contacts.length;\n    const contacts = this.selectedContacts.map(item => item.email);\n    const display_name = this.currentMailbox.display_name\n      ? this.currentMailbox.display_name\n      : this.currentMailbox.email;\n    // generating mails\n    this.notifyContactsMail = {\n      mailbox: this.currentMailbox.id,\n      sender: this.currentMailbox.email,\n      receiver: contacts,\n      display_name,\n    };\n    this.store.dispatch(new ContactNotify(this.notifyContactsMail));\n  }\n\n  openNotifyContactsModal() {\n    this.selectedContacts = this.contactsState.contacts.filter(item => item.markForDelete);\n    if (this.selectedContacts.length === 0) {\n      return;\n    }\n    this.notifyContactsModalRef = this.modalService.open(this.notifyContactsModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  closeNotifyContactsModal() {\n    if (this.notifyContactsModalRef) {\n      this.notifyContactsModalRef.close();\n    }\n  }\n\n  onContactsFileSelected(files: Array<File>) {\n    if (files.length === 1) {\n      const data = {\n        file: files[0],\n        provider: this.selectedContactsProvider,\n      };\n      this.store.dispatch(new ContactImport(data));\n      this.closeImportContactsModal();\n    } else if (files.length > 1) {\n      this.importContactsError = 'Multiple files are not allowed.';\n    }\n  }\n\n  prevPage() {\n    if (this.PAGE > 0) {\n      this.PAGE--;\n      this.OFFSET = this.PAGE * this.LIMIT;\n      this.store.dispatch(new ContactsGet({ limit: this.LIMIT, offset: this.OFFSET, q: this.searchText }));\n    }\n  }\n\n  nextPage() {\n    if ((this.PAGE + 1) * this.LIMIT < this.MAX_EMAIL_PAGE_LIMIT) {\n      this.OFFSET = (this.PAGE + 1) * this.LIMIT;\n      this.PAGE++;\n      this.store.dispatch(new ContactsGet({ limit: this.LIMIT, offset: this.OFFSET, q: this.searchText }));\n    }\n  }\n}\n","<form class=\"mail-actions-form\" (submit)=\"createNewContact()\" #newContactForm=\"ngForm\">\n  <!-- Contact Name-->\n  <div class=\"form-group\">\n    <div class=\"md-errors-spacer\" *ngIf=\"contactName.errors || !contactName.untouched\">\n      <div *ngIf=\"contactName.errors && contactName.errors.required\">\n        <span class=\"d-block text-right error-msg is-sm\">{{ 'contacts.save.name_required' | translate }}</span>\n      </div>\n    </div>\n    <div class=\"row align-items-center\">\n      <div class=\"col-sm-2\">\n        <label class=\"form-label mb-sm-0\" for=\"contactName\">\n          <span>{{ 'common.name' | translate }}</span\n          ><sup>*</sup></label\n        >\n      </div>\n      <div class=\"col-sm-10\">\n        <input class=\"form-control form-control-sm\" id=\"contactName\" name=\"name\" required #contactName=\"ngModel\" [(ngModel)]=\"newContactModel.name\" [placeholder]=\"'contacts.contact_name' | translate\" type=\"text\" />\n      </div>\n    </div>\n  </div>\n  <!-- Contact Email-->\n  <div class=\"form-group is-repeatable add-button\">\n    <div class=\"md-errors-spacer\" *ngIf=\"contactEmail.errors\">\n      <div *ngIf=\"contactEmail.errors.required\">\n        <span class=\"d-block text-right error-msg is-sm\">{{ 'contacts.save.email_req' | translate }}</span>\n      </div>\n      <div *ngIf=\"contactEmail.errors.pattern\">\n        <span class=\"d-block text-right error-msg is-sm\">{{ 'contacts.save.email_not_valid' | translate }}</span>\n      </div>\n    </div>\n    <div class=\"row align-items-center\">\n      <div class=\"col-sm-2\">\n        <label class=\"form-label mb-sm-0\" for=\"contactEmail\">\n          <span>{{ 'common.email' | translate }}</span\n          ><sup>*</sup></label\n        >\n      </div>\n      <div class=\"col-sm-10\">\n        <input class=\"form-control form-control-sm\" id=\"contactEmail\" name=\"email\" required [(ngModel)]=\"newContactModel.email\" #contactEmail=\"ngModel\" [placeholder]=\"'contacts.type_email' | translate\" type=\"text\" pattern=\"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$\" />\n      </div>\n      <button type=\"button\" class=\"add-button-link\"><img src=\"assets/images/plus@2x.png\" /></button>\n    </div>\n  </div>\n  <!-- Contact Encryption for InternalUsers-->\n  <div class=\"form-group add-button\" *ngIf=\"!internalUser\">\n    <div class=\"row align-items-center\">\n      <div class=\"col-sm-2 encryptionLabel\">\n        <label class=\"form-label mb-sm-0\" for=\"enableEncryption\">{{ 'contacts.encryption' | translate }}</label>\n      </div>\n      <div class=\"col-sm-10\" id=\"contactEncryptionCheckbox\">\n        <mat-checkbox type=\"checkbox\" [checked]=\"newContactModel.enabled_encryption\" [(ngModel)]=\"newContactModel.enabled_encryption\" [name]=\"newContactModel.id\"> </mat-checkbox>\n      </div>\n    </div>\n  </div>\n  <!-- Contact Encryption Public Key-->\n  <div class=\"form-group add-button\" *ngIf=\"newContactModel.enabled_encryption && !internalUser\">\n    <div class=\"row align-items-center\">\n      <div class=\"col-sm-2\">\n        <label class=\"form-label mb-sm-0\" for=\"contactPublicKey\">{{ 'contacts.publickey' | translate }}</label>\n      </div>\n      <div class=\"col-sm-10\">\n        <textarea class=\"form-control form-control-sm resize-off\" id=\"contactPublicKey\" [placeholder]=\"'contacts.publickey' | translate\" name=\"public_key\" [(ngModel)]=\"newContactModel.public_key\" rows=\"3\"></textarea>\n      </div>\n      <button class=\"add-button-link contact-publickey-clear\" (click)=\"clearPublicKey()\">\n        <em class=\"fas fa-times\"></em>\n      </button>\n    </div>\n  </div>\n  <div class=\"mb-2 hidden-xs-down\">&nbsp;</div>\n  <!-- Contact Phone Number 1-->\n  <div class=\"form-group add-button\">\n    <div class=\"row align-items-center\">\n      <div class=\"col-sm-2\">\n        <label class=\"form-label mb-sm-0\" for=\"contactPhone1\">{{ 'common.phone' | translate }}</label>\n      </div>\n      <div class=\"col-sm-10\">\n        <input class=\"form-control form-control-sm\" id=\"contactPhone1\" name=\"phone\" [(ngModel)]=\"newContactModel.phone\" [placeholder]=\"'common.phone' | translate\" type=\"text\" />\n      </div>\n      <button type=\"button\" class=\"add-button-link\"><img src=\"assets/images/plus@2x.png\" /></button>\n    </div>\n  </div>\n  <!-- Contact Phone Number 2-->\n  <div class=\"form-group is-repeatable add-button\">\n    <div class=\"row align-items-center\">\n      <div class=\"col-sm-2\">\n        <label class=\"form-label mb-sm-0\" for=\"contactPhone2\">{{ 'contacts.phone2' | translate }}</label>\n      </div>\n      <div class=\"col-sm-10\">\n        <input class=\"form-control form-control-sm\" id=\"contactPhone2\" [placeholder]=\"'common.phone' | translate\" name=\"phone2\" [(ngModel)]=\"newContactModel.phone2\" type=\"text\" />\n      </div>\n      <button type=\"button\" class=\"add-button-link\"><img src=\"assets/images/plus@2x.png\" /></button>\n    </div>\n  </div>\n  <!-- Contact Address-->\n  <div class=\"form-group is-repeatable add-button\">\n    <div class=\"row\">\n      <div class=\"col-sm-2\">\n        <label class=\"form-label pt-sm-2 mb-sm-0\" for=\"contactAddress\">{{ 'contacts.address' | translate }}</label>\n      </div>\n      <div class=\"col-sm-10\">\n        <textarea class=\"form-control form-control-sm resize-off\" id=\"contactAddress\" [placeholder]=\"'contacts.address' | translate\" name=\"address\" [(ngModel)]=\"newContactModel.address\" rows=\"3\"></textarea>\n      </div>\n      <button type=\"button\" class=\"add-button-link\"><img src=\"assets/images/plus@2x.png\" /></button>\n    </div>\n  </div>\n  <div class=\"mb-2 hidden-xs-down\">&nbsp;</div>\n  <!-- Contact Note-->\n  <div class=\"form-group\">\n    <div class=\"row\">\n      <div class=\"col-sm-2\">\n        <label class=\"form-label pt-sm-2 mb-sm-0\" for=\"contactNote\">{{ 'contacts.note' | translate }}</label>\n      </div>\n      <div class=\"col-sm-10\">\n        <textarea class=\"form-control form-control-sm resize-off\" id=\"contactNote\" [placeholder]=\"'contacts.a_note' | translate\" name=\"note\" [(ngModel)]=\"newContactModel.note\" rows=\"3\"></textarea>\n      </div>\n    </div>\n  </div>\n  <div class=\"hidden-sm-up\">&nbsp;</div>\n  <div class=\"error-msg\" *ngIf=\"newContactForm.submitted && newContactForm.invalid\">\n    {{ 'contacts.save.error' | translate }}\n  </div>\n  <!-- Save button-->\n  <div class=\"form-group text-right mb-0\" *ngIf=\"newContactModel.enabled_encryption && !newContactModel.public_key; else submitSaveContact\">\n    <div class=\"saveContactSubmit\" ngbTooltip=\"Public Key can't be empty when encryption is enabled.\">\n      <button type=\"submit\" disabled class=\"btn btn-secondary btn-sm\" role=\"button\">\n        {{ 'common.save' | translate }}\n      </button>\n    </div>\n    <app-loading-spinner [showSpinner]=\"inProgress\"></app-loading-spinner>\n  </div>\n  <ng-template #submitSaveContact>\n    <div class=\"form-group text-right mb-0\">\n      <button type=\"submit\" [disabled]=\"inProgress\" class=\"btn btn-secondary btn-sm\" role=\"button\">\n        {{ 'common.save' | translate }}\n      </button>\n      <app-loading-spinner [showSpinner]=\"inProgress\"></app-loading-spinner>\n    </div>\n  </ng-template>\n</form>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild,\n} from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, Contact, ContactsState, UserState } from '../../../store/datatypes';\nimport { ContactAdd } from '../../../store';\nimport { OpenPgpService } from '../../../store/services';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-save-contact',\n  templateUrl: './save-contact.component.html',\n  styleUrls: ['./save-contact.component.scss', './../mail-contact.component.scss'],\n})\nexport class SaveContactComponent implements OnInit, OnDestroy, AfterViewInit, OnChanges {\n  @Input() selectedContact: Contact;\n\n  @Output() userSaved = new EventEmitter<boolean>();\n\n  @ViewChild('newContactForm') newContactForm: NgForm;\n\n  newContactModel: Contact = {\n    name: '',\n    email: '',\n    address: '',\n    note: '',\n    phone: '',\n    enabled_encryption: false,\n    public_key: '',\n  };\n\n  public inProgress: boolean;\n\n  public internalUser: boolean;\n\n  private isContactsEncrypted: boolean;\n\n  constructor(private store: Store<AppState>, private openpgp: OpenPgpService, private cdr: ChangeDetectorRef) {}\n\n  ngOnInit() {\n    this.handleUserState();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.selectedContact && changes.selectedContact.currentValue) {\n      // Get contactEmail, Domain and check if this is internalUser with domain\n      this.newContactModel = { ...this.selectedContact };\n      const contactEmail = this.newContactModel.email;\n      const getDomain = contactEmail.substring(contactEmail.indexOf('@') + 1, contactEmail.length);\n      this.internalUser = getDomain === 'ctemplar.com';\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.cdr.detectChanges();\n  }\n\n  ngOnDestroy(): void {}\n\n  private handleUserState(): void {\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((userState: UserState) => {\n        this.isContactsEncrypted = userState.settings.is_contacts_encrypted; // set encryption from user settings\n      });\n\n    this.store\n      .select(state => state.contacts)\n      .pipe(untilDestroyed(this))\n      .subscribe((contactsState: ContactsState) => {\n        if (this.inProgress && !contactsState.inProgress) {\n          this.inProgress = false;\n          if (!contactsState.isError) {\n            this.userSaved.emit(true);\n          }\n        }\n      });\n  }\n\n  createNewContact() {\n    if (this.newContactForm.invalid) {\n      return false;\n    }\n    this.newContactModel.email = this.newContactModel.email.toLocaleLowerCase();\n    if (this.isContactsEncrypted) {\n      this.openpgp.encryptContact(this.newContactModel);\n    } else {\n      this.store.dispatch(new ContactAdd(this.newContactModel));\n    }\n    this.inProgress = true;\n  }\n\n  clearPublicKey() {\n    this.newContactModel.public_key = '';\n    return false;\n  }\n}\n","<div class=\"mailbox-actionbar\">\n  <div class=\"row\">\n    <!-- Action buttons -->\n    <div class=\"col-12 col-sm-9 mailbox-actionbar-col\">\n      <ul class=\"mailbox-actionbar-menu\">\n        <li>\n          <a placement=\"top\" (click)=\"goBack()\">\n            <i class=\"fas fa-arrow-left\"></i>\n          </a>\n        </li>\n        <li class=\"px-0\" *ngIf=\"mailFolder !== mailFolderTypes.ARCHIVE && !disableMoveTo\">\n          <a class=\"border-right-0 border-radius-right-0\" placement=\"top\" (click)=\"moveToFolder(mailFolderTypes.ARCHIVE)\" [ngbTooltip]=\"'mail_list.move_to_archive' | translate\">\n            <i class=\"icon icon-archive\"></i>\n          </a>\n        </li>\n        <li class=\"pr-0 pl-0 hidden-xs-down\" *ngIf=\"mailFolder !== mailFolderTypes.SPAM && !disableMoveTo\">\n          <a class=\"border-radius-0\" (click)=\"moveToFolder(mailFolderTypes.SPAM)\" placement=\"top\" [ngbTooltip]=\"'mail_list.move_to_spam' | translate\" [ngClass]=\"{ 'border-right-0': mailFolder !== mailFolderTypes.TRASH }\">\n            <i class=\"icon icon-warning\"></i>\n          </a>\n        </li>\n        <li class=\"px-0\">\n          <a (click)=\"onDelete(mail)\" class=\"border-radius-left-0\" placement=\"top\" [ngbTooltip]=\"mailFolder !== mailFolderTypes.TRASH ? ('mail_list.move_to_trash' | translate) : ('mail_list.permanently_delete' | translate)\">\n            <i class=\"icon icon-garbage\"></i>\n          </a>\n        </li>\n        <li class=\"btn-dropdown more-xs-options pl-0\" *ngIf=\"isMobile && !disableMoveTo\">\n          <div ngbDropdown autoClose=\"outside\">\n            <button ngbDropdownToggle class=\"border-left-0 border-radius-left-0\" id=\"dropdownMoreOptions\" role=\"button\">\n              <i class=\"icon icon-more\"></i>\n            </button>\n            <div ngbDropdownMenu class=\"mobiledOptionsDropdown\" aria-labelledby=\"dropdownMoreOptions\">\n              <ul class=\"more-xs-options-list\">\n                <li>\n                  <a class=\"disabled\">\n                    <i class=\"icon icon-warning\"></i>\n                  </a>\n                </li>\n                <li class=\"btn-dropdown mailbox-dropdown folders-dropdown\">\n                  <div ngbDropdown>\n                    <button ngbDropdownToggle class=\"disabledx\" id=\"extraOptionsDropdownMenuButton\" role=\"button\">\n                      <i class=\"icon icon-folder\"></i>\n                    </button>\n                    <div ngbDropdownMenu aria-labelledby=\"extraOptionsDropdownMenuButton\">\n                      <a class=\"dropdown-item\" (click)=\"moveToFolder(mailFolderTypes.INBOX)\" *ngIf=\"mailFolder !== mailFolderTypes.INBOX\">\n                        <i class=\"icon icon-inbox\"></i>\n                        <span>{{ 'mail_sidebar.inbox' | translate }}</span>\n                      </a>\n                      <a class=\"dropdown-item\" (click)=\"moveToFolder(mailFolderTypes.DRAFT)\" *ngIf=\"mailFolder !== mailFolderTypes.DRAFT\">\n                        <i class=\"icon icon-inbox\"></i>\n                        <span>{{ 'mail_sidebar.draft' | translate }}</span>\n                      </a>\n                      <a class=\"dropdown-item\" (click)=\"moveToFolder(mailFolderTypes.OUTBOX)\" *ngIf=\"mailFolder !== mailFolderTypes.OUTBOX\">\n                        <i class=\"icon icon-archive\"></i>\n                        <span>{{ 'mail_sidebar.outbox' | translate }}</span>\n                      </a>\n                      <ng-container *ngFor=\"let folder of customFolders; let i = index\">\n                        <a class=\"dropdown-item\" *ngIf=\"mailFolder !== folder.name\" (click)=\"moveToFolder(folder.name)\">\n                          <i class=\"folder-color-box icon\" [style.background]=\"folder.color\"></i>\n                          <span class=\"folders-list-text\">{{ folder.name }}</span>\n                        </a>\n                      </ng-container>\n                      <span class=\"divider-item d-block\"></span>\n                      <a class=\"dropdown-item\" (click)=\"openCreateFolderDialog()\">\n                        <i class=\"icon icon-folder\"></i>\n                        <span>{{ 'mail_list.create_folder' | translate }}</span>\n                      </a>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </li>\n        <li class=\"btn-dropdown mailbox-dropdown folders-dropdown\" *ngIf=\"!isMobile && !disableMoveTo\">\n          <div ngbDropdown>\n            <button ngbDropdownToggle class=\"disabledx\" id=\"folderDropdownMenuButton\" role=\"button\" placement=\"top\" [ngbTooltip]=\"'mail_list.move_to' | translate\">\n              <i class=\"icon icon-folder\"></i>\n            </button>\n            <div ngbDropdownMenu aria-labelledby=\"folderDropdownMenuButton\" class=\"folder-dropdown\">\n              <a class=\"dropdown-item\" (click)=\"moveToFolder(mailFolderTypes.INBOX)\" *ngIf=\"mailFolder !== mailFolderTypes.INBOX\">\n                <i class=\"icon icon-inbox\"></i>\n                <span>{{ 'mail_sidebar.inbox' | translate }}</span>\n              </a>\n              <ng-container *ngFor=\"let folder of customFolders; let i = index\">\n                <a class=\"dropdown-item\" *ngIf=\"mailFolder !== folder.name\" (click)=\"moveToFolder(folder.name)\">\n                  <i class=\"folder-color-box icon\" [style.background]=\"folder.color\"></i>\n                  <span class=\"folders-list-text\">{{ folder.name }}</span>\n                </a>\n              </ng-container>\n              <span class=\"divider-item d-block\"></span>\n              <a class=\"dropdown-item\" (click)=\"openCreateFolderDialog()\">\n                <i class=\"icon icon-folder\"></i>\n                <span>{{ 'mail_list.create_folder' | translate }}</span>\n              </a>\n            </div>\n          </div>\n        </li>\n        <li class=\"btn-dropdown mailbox-dropdown mailbox-dropdown-lg more-options-dropdown pl-0\" *ngIf=\"!disableMoveTo\">\n          <div ngbDropdown class=\"dropdown\">\n            <button ngbDropdownToggle class=\"disabledx\" role=\"button\" id=\"moreOptionsDropdownMenuButton\">\n              {{ 'mail_list.more' | translate }}\n            </button>\n            <div id=\"moreOptionsDropdownMenu\" ngbDropdownMenu aria-labelledby=\"moreOptionsDropdownMenuButton\">\n              <a *ngIf=\"isNeedAddStar(mail)\" class=\"dropdown-item\" (click)=\"markAsStarred(true)\">\n                {{ 'mail_list.add_star' | translate }}\n              </a>\n              <a *ngIf=\"isNeedRemoveStar(mail)\" class=\"dropdown-item\" (click)=\"markAsStarred(false)\">\n                {{ 'mail_list.remove_star' | translate }}\n              </a>\n              <a class=\"dropdown-item\" (click)=\"markAsRead(mail.id)\">\n                {{ 'mail_list.mark_as_read' | translate }}\n              </a>\n              <a class=\"dropdown-item\" (click)=\"markAsRead(mail.id, false)\">\n                {{ 'mail_list.mark_as_unread' | translate }}\n              </a>\n            </div>\n          </div>\n        </li>\n        <li class=\"px-0\" *ngIf=\"isDarkMode && !forceLightMode\">\n          <a class=\"border-right-0 border-radius-right-0 cursor-pointer\" placement=\"top\" (click)=\"viewEmailInLightMode()\" ngbTooltip=\"View email in light mode in a new window if you are having issues to view email in dark mode\">\n            <i class=\"fas fa-sun\"></i>\n          </a>\n        </li>\n      </ul>\n    </div>\n    <!--Pagination-->\n    <div class=\"col-sm-3 mailbox-actionbar-col hidden-xs-down\">\n      <div class=\"mail-controls d-flex align-items-center justify-content-end\">\n        <div class=\"mail-result-text text-muted\">\n          <small *ngIf=\"currentMailNumber\">\n            {{ currentMailNumber }} <span>{{ 'settings.of' | translate }}</span> {{ MAX_EMAIL_PAGE_LIMIT }}\n          </small>\n        </div>\n        <div class=\"mail-nav-control\">\n          <button role=\"button\" class=\"mail-nav-control-prev\" ngbTooltip=\"Previous email\" (click)=\"changeMail(currentMailIndex - 1)\">\n            <i class=\"icon icon-chevron-left\"></i>\n          </button>\n          <button role=\"button\" class=\"mail-nav-control-next\" ngbTooltip=\"Next email\" (click)=\"changeMail(currentMailIndex + 1)\">\n            <i class=\"icon icon-chevron-right\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<app-progress-bar [active]=\"!mail\"></app-progress-bar>\n\n<!--Mail Info-->\n<div class=\"mailbox-sub-content mail-detail-content\" *ngIf=\"mail\">\n  <!--Mail HeaderBar-->\n  <section class=\"mailbox-section\" id=\"{{ mail.id }}-print-section\">\n    <div class=\"ui-header ui-header-bordered border-top-0 position-relative\">\n      <h5 class=\"ui-header-subtitle text-dark mb-0 mail-subject\">\n        <strong id=\"{{ mail.id }}-mail-subject\">\n          <ng-container *ngIf=\"!mail.is_subject_encrypted\">{{ mail.subject }}</ng-container>\n          <ng-container *ngIf=\"mail.is_subject_encrypted\">\n            <ng-container *ngIf=\"decryptedContents[mail.id] != null; else subjectLoader\">{{ mail.subject }}</ng-container>\n            <ng-template #subjectLoader>\n              <span id=\"subject-scramble\"></span>\n            </ng-template>\n          </ng-container>\n        </strong>\n        <i class=\"icon icon-secured icon-md text-muted ml-2\" [ngClass]=\"{ 'text-faded': !mail.is_protected && mail?.zer !== 'support@ctemplar.com' }\" [ngbTooltip]=\"!mail.is_protected && mail?.sender !== 'support@ctemplar.com' ? '' : ('mail_detail.encrypted' | translate)\"> </i>\n      </h5>\n      <div class=\"icon-holder is-floated right y-center\">\n        <i class=\"icon icon-md icon-star-filled cursor-pointer\" (click)=\"ontoggleStarred(mail)\" [ngClass]=\"{ 'icon-star': !mail.starred, 'text-info': mail.starred }\"></i>\n      </div>\n    </div>\n    <div class=\"spam_reason row\" *ngIf=\"xssPipe.hasExternalImages && disableExternalImages\">\n      <div class=\"col pt-1\">\n        <span class=\"text-warning\">Warning:</span>\n        This email contains external images, which have been blocked.\n      </div>\n      <div>\n        <button class=\"mark_not_spam btn btn-outline-warning\" (click)=\"disableExternalImages = false; xssPipe.hasExternalImages = false\" ngbTooltip=\"Load external images\">Load</button>\n      </div>\n    </div>\n    <div class=\"spam_reason row\" *ngIf=\"mail.spam_reason && mail.spam_reason.length !== 0\">\n      <ng-container *ngIf=\"mail.folder === mailFolderTypes.SPAM; else spoofWarning\">\n        <div class=\"col pt-1\">\n          <span class=\"spam_why text-warning\">{{ 'mail_detail.message_in_span' | translate }} </span>\n          <span class=\"ml-1\"> {{ mail.spam_reason.join(' ') }}</span>\n        </div>\n        <div>\n          <button class=\"mark_not_spam btn btn-outline-warning\" (click)=\"markNotSpam(mail)\" [ngbTooltip]=\"'mail_detail.mail_not_spam' | translate\">\n            {{ 'mail_detail.mark_not_spam' | translate }}\n          </button>\n        </div>\n      </ng-container>\n      <ng-template #spoofWarning>\n        <span class=\"spam_why\">Warning:</span>\n        <span class=\"ml-1\"> {{ mail.spam_reason.join(' ') }}</span>\n      </ng-template>\n    </div>\n\n    <div class=\"ui-body is-xs bg-faded cursor-pointer mail-header\" *ngIf=\"(mailFolder !== mailFolderTypes.TRASH && mail.folder !== mailFolderTypes.TRASH) || (mailFolder === mailFolderTypes.TRASH && mail.folder === mailFolderTypes.TRASH)\" (click)=\"parentMailCollapsed = !parentMailCollapsed\">\n      <div class=\"row\">\n        <div class=\"col-8\">\n          <div class=\"mailbox-sender-content\">\n            <ul class=\"sender-content-list list-styled\">\n              <li id=\"{{ mail.id }}-mail-from\" class=\"font-weight-bold\">\n                {{ 'settings.compose.from' | translate }}\n                <span class=\"text-secondary\"> </span>\n                <a class=\"text-gray-dark text-muted\">\n                  {{ mail.sender_display.email | emailFormat : mail.sender_display.name }}\n                </a>\n                <span class=\"position-relative\">\n                  <i *ngIf=\"mail.last_action\" class=\"fas fa-{{ mail.last_action | lastAction }} last-action\"></i>\n                </span>\n              </li>\n              <li id=\"{{ mail.id }}-mail-to\">\n                {{ 'settings.compose.to' | translate }}\n                <ng-container *ngFor=\"let receiver of mail.receiver_display; let i = index\">\n                  <span class=\"text-secondary\"> </span>\n                  <a class=\"text-muted\">\n                    {{ receiver.email | emailFormat : receiver.name }}\n                  </a>\n                  <!--Comma as a separator-->\n                  <span *ngIf=\"i < mail.receiver?.length - 1\">, </span>\n                </ng-container>\n              </li>\n              <li *ngIf=\"mail.cc?.length > 0\" id=\"{{ mail.id }}-mail-cc\">\n                Cc:\n                <ng-container *ngFor=\"let cc of mail.cc; let i = index\">\n                  <span class=\"text-secondary\"> </span>\n                  <a class=\"text-muted\">{{ cc }}</a>\n                  <!--Comma as a separator-->\n                  <span *ngIf=\"i < mail.cc?.length - 1\">, </span>\n                </ng-container>\n              </li>\n              <li *ngIf=\"mail.bcc_display?.length > 0\" id=\"{{ mail.id }}-mail-bcc\">\n                Bcc:\n                <ng-container *ngFor=\"let bcc of mail.bcc_display; let i = index\">\n                  <span class=\"text-secondary\"> </span>\n                  <a class=\"text-muted\">{{ bcc.email }}</a>\n                  <!--Comma as a separator-->\n                  <span *ngIf=\"i < mail.bcc_display?.length - 1\">, </span>\n                </ng-container>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"col-4\">\n          <div class=\"msg-reply-type-holder\">\n            <div class=\"d-flex align-items-center justify-content-end\">\n              <ng-container *ngIf=\"mailFolder === mailFolderTypes.OUTBOX\">\n                <span class=\"badge badge-warning mr-2 p-1\" *ngIf=\"mail.destruct_date\">\n                  <span>{{ 'mail_detail.delete_in' | translate }}</span> {{ mail.destruct_date | remainingTime }}\n                </span>\n                <span class=\"badge badge-success mr-2 p-1\" *ngIf=\"mail.delayed_delivery\">\n                  <span>{{ 'mail_detail.delay_delivery' | translate }}</span>\n                  {{ mail.delayed_delivery | remainingTime }}\n                </span>\n                <span class=\"badge badge-danger mr-2 p-1\" *ngIf=\"mail.dead_man_duration\">\n                  <span>{{ 'settings.compose.dead_man_timer' | translate }}</span>\n                  {{ mail.dead_man_duration | remainingTime: true }}\n                </span>\n              </ng-container>\n              <span *ngIf=\"mail.attachments?.length > 0\" class=\"mr-3\">\n                <i class=\"icon icon-attachment\"></i>\n              </span>\n              <label class=\"msg-received-time mb-0\" id=\"{{ mail.id }}-mail-date\">\n                <ng-container *ngIf=\"mail.folder === mailFolderTypes.SENT && mail.sent_at; else createdAt\">\n                  {{ mail.sent_at | momentDate: 'medium' }}\n                </ng-container>\n                <ng-template #createdAt>\n                  {{ mail.created_at | momentDate: 'medium' }}\n                </ng-template>\n                <ng-template #createdAt>\n                  <ng-container *ngIf=\"mailFolder !== mailFolderTypes.OUTBOX; else outboxTime\">\n                    {{ mail.created_at | momentDate: 'medium' }}\n                  </ng-container>\n                </ng-template>\n                <ng-template #outboxTime>\n                  <ng-container *ngIf=\"mail.delayed_delivery\">\n                    {{ mail.delayed_delivery | momentDate: 'medium' }}\n                  </ng-container>\n                  <ng-container *ngIf=\"mail.dead_man_duration\">\n                    <i class=\"fas fa-minus\"></i>\n                  </ng-container>\n                </ng-template>\n              </label>\n            </div>\n            <div>\n              <label class=\"folder-batch\" [style.background]=\"folderColors[mail.folder]\">{{ mail.folder }}</label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <!--Mail Content-->\n  <section class=\"mailbox-section\" *ngIf=\"(mailFolder !== mailFolderTypes.TRASH && mail.folder !== mailFolderTypes.TRASH) || (mailFolder === mailFolderTypes.TRASH && mail.folder === mailFolderTypes.TRASH)\" id=\"ngb-collapse\" [ngbCollapse]=\"parentMailCollapsed\">\n    <div class=\"ui-body mail-content\" *ngIf=\"decryptedContents[mail.id]\">\n      <div ngbDropdown placement=\"bottom-right\" class=\"mailbox-dropdown msg-reply-dropdown dropdown-xs\">\n        <button ngbDropdownToggle class=\"actions-btn actions-btn-sm msg-reply-btn\" role=\"button\" id=\"messageReplyDropdownMenuButton\"></button>\n        <div ngbDropdownMenu aria-labelledby=\"messageReplyDropdownMenuButton\">\n          <ng-container *ngIf=\"mailFolder !== mailFolderTypes.OUTBOX\">\n            <a class=\"dropdown-item\" (click)=\"onForward(mail); scrollTo(replyActions)\">\n              {{ 'mail_detail.forward' | translate }}\n            </a>\n            <a class=\"dropdown-item\" (click)=\"onReply(mail); scrollTo(replyActions)\">\n              {{ 'mail_detail.reply' | translate }}\n            </a>\n            <a class=\"dropdown-item\" *ngIf=\"mail.cc.length || mail.bcc.length || mail.receiver.length > 1\" (click)=\"onReplyAll(mail); scrollTo(replyActions)\">\n              {{ 'mail_detail.reply_all' | translate }}\n            </a>\n          </ng-container>\n          <a class=\"dropdown-item\" *ngIf=\"mail.delayed_delivery\" (click)=\"onCancelSend(mail)\">\n            {{ 'mail_detail.cancel_send' | translate }}\n          </a>\n          <a class=\"dropdown-item\" (click)=\"onPrint(mail)\">{{ 'mail_detail.print' | translate }}</a>\n          <a class=\"dropdown-item\" (click)=\"onDelete(mail, -1, false)\" [translate]=\"mailFolder === mailFolderTypes.TRASH ? ('mail_detail.delete_message' | translate) : ('mail_detail.delete_this_message' | translate)\"> </a>\n          <a class=\"dropdown-item\" (click)=\"onDeleteForAll(mail)\" *ngIf=\"mail.folder === mailFolderTypes.SENT && mailFolder === mailFolderTypes.SENT\" [ngbTooltip]=\"'mail_detail.messages_will_be_del' | translate\" placement=\"left\">\n            {{ 'mail_detail.delete_from_receiver' | translate }}\n          </a>\n          <a class=\"dropdown-item\" (click)=\"showIncomingHeaders(mail)\">\n            {{ 'mail_detail.show_headers' | translate }}\n          </a>\n          <a class=\"dropdown-item\" *ngIf=\"!disableMoveTo\" (click)=\"onMarkAsSpam(mail)\">\n            {{ 'mail_detail.mark_as_spam' | translate }}\n          </a>\n          <a class=\"dropdown-item\" (click)=\"onSwitchHtmlPlainTextMode(mail)\" *ngIf=\"decryptedContentsPlain[mail.id]\">\n            {{ plainTextViewState[mail.id] ? ('mail_detail.show_rich_text' | translate) : ('mail_detail.show_plain_text' | translate) }}\n          </a>\n        </div>\n      </div>\n      <div class=\"show_gmail_extra\">\n        <div *ngIf=\"plainTextViewState[mail.id]; then plainBlock; else htmlBlock\"></div>\n        <ng-template #htmlBlock>\n          <div class=\"msg-reply-content text-dark\" id=\"{{ mail.id }}-raw-mail-content\" [innerHTML]=\"mail.is_html ? (decryptedContents[mail.id] | safe: 'sanitize':disableExternalImages) : (decryptedContents[mail.id] | linebreaktobrtag | safe: 'sanitize':disableExternalImages)\"></div>\n        </ng-template>\n        <ng-template #plainBlock>\n          <div class=\"msg-reply-content text-dark\" id=\"{{ mail.id }}-raw-mail-content\" [innerHTML]=\"decryptedContentsPlain[mail.id] | linebreaktobrtag | safe: 'sanitize':disableExternalImages\"></div>\n        </ng-template>\n      </div>\n    </div>\n\n    <div align=\"center\" class=\"decryption-spinner\" *ngIf=\"decryptedContents[mail.id] == null\">\n      <img class=\"mt-3\" [src]=\"loadingImage | safe: 'url'\" />\n      <div class=\"mt-3\">\n        {{ 'mail_detail.decryp_4096_bit' | translate }}\n      </div>\n    </div>\n\n    <!-- Attachments list starts -->\n    <ul class=\"list-style-none mt-3\" *ngIf=\"mail.attachments?.length > 0\">\n      <ng-container *ngFor=\"let attachment of mail.attachments\">\n        <li class=\"download-attachment-wrapper mr-1\" *ngIf=\"!attachment.is_inline\">\n          <app-progress-bar [active]=\"decryptedAttachments[attachment.id]?.inProgress\"></app-progress-bar>\n\n          <a *ngIf=\"!attachment.is_encrypted; else encryptedAttachment\" class=\"download-attachment\" [href]=\"attachment.document\" placement=\"top\" [ngbTooltip]=\"attachment.name\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <div class=\"attachment-icon\">\n              <i class=\"icon icon-attachment\"></i>\n            </div>\n            <div class=\"attachment-name\">\n              {{ attachment.name }}\n            </div>\n          </a>\n\n          <ng-template #encryptedAttachment>\n            <a class=\"download-attachment\" (click)=\"decryptAttachment(attachment, mail)\" href=\"javascript:void(0)\" placement=\"top\" [ngbTooltip]=\"attachment.name\">\n              <div class=\"attachment-icon\">\n                <i class=\"icon icon-attachment\"></i>\n              </div>\n              <div class=\"attachment-name\">\n                {{ attachment.name }}\n              </div>\n            </a>\n          </ng-template>\n        </li>\n      </ng-container>\n    </ul>\n    <!-- Attachments list ends -->\n  </section>\n\n  <!-- Child Mail-->\n  <ng-container *ngFor=\"let childMail of mail.children; let childIndex = index\">\n    <ng-container *ngIf=\"mailFolder === mailFolderTypes.TRASH || childMail.folder !== mailFolderTypes.TRASH\">\n      <ng-container [ngSwitch]=\"childMail.folder\">\n        <ng-container *ngSwitchCase=\"mailFolderTypes.DRAFT\">\n          <div class=\"ui-body\">\n            <div class=\"mail-composer is-borderd border-bottom-0 mt-2\" *ngIf=\"!isPopupOpen && isPopupOpen !== null\">\n              <app-compose-mail [draftMail]=\"childMail\" [showSaveButton]=\"false\" [isMailDetailPage]=\"true\" (hide)=\"onComposeMailHide(childMail)\" (popUpChange)=\"onChangePopup($event)\"> </app-compose-mail>\n            </div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchDefault>\n          <div [ngClass]=\"{ 'last-child': childIndex === mail.children.length - 1 }\">\n            <section class=\"mailbox-section\" id=\"{{ childMail.id }}-print-section\">\n              <div class=\"ui-body is-bordered-bottom bg-faded cursor-pointer mail-header\" (click)=\"onClickChildHeader(childIndex)\">\n                <div class=\"row\">\n                  <div class=\"col-8\">\n                    <div class=\"mailbox-sender-content\">\n                      <ul class=\"sender-content-list list-styled\">\n                        <li id=\"{{ childMail.id }}-mail-from\" class=\"font-weight-bold\">\n                          <span>{{ 'settings.compose.from' | translate }}</span>\n                          <span class=\"text-secondary\"> </span>\n                          <a class=\"text-muted text-gray-dark\">\n                            {{ childMail.sender_display.email | emailFormat : childMail.sender_display.name }}\n                          </a>\n                          <span class=\"position-relative\">\n                            <i *ngIf=\"childMail.last_action\" class=\"fas fa-{{ childMail.last_action | lastAction }} last-action\"></i>\n                          </span>\n                        </li>\n                        <li id=\"{{ childMail.id }}-mail-to\">\n                          <span>{{ 'settings.compose.to' | translate }}</span>\n                          <ng-container *ngFor=\"let receiver of childMail.receiver_display; let i = index\">\n                            <span class=\"text-secondary\"> </span>\n                            <a class=\"text-muted\">\n                              {{ receiver.email | emailFormat : receiver.name}}\n                            </a>\n                            <!--Comma as a separator-->\n                            <span *ngIf=\"i < childMail.receiver?.length - 1\">, </span>\n                          </ng-container>\n                        </li>\n                        <li *ngIf=\"childMail.cc?.length > 0\" id=\"{{ childMail.id }}-mail-cc\">\n                          Cc:\n                          <ng-container *ngFor=\"let cc of childMail.cc; let i = index\">\n                            <span class=\"text-secondary\"> </span>\n                            <a class=\"text-muted\">{{ cc }}</a>\n                            <!--Comma as a separator-->\n                            <span *ngIf=\"i < childMail.cc?.length - 1\">, </span>\n                          </ng-container>\n                        </li>\n                        <li *ngIf=\"childMail.bcc_display?.length > 0\" id=\"{{ childMail.id }}-mail-bcc\">\n                          Bcc:\n                          <ng-container *ngFor=\"let bcc of childMail.bcc_display; let i = index\">\n                            <span class=\"text-secondary\"> </span>\n                            <a class=\"text-muted\">{{ bcc.email }}</a>\n                            <span *ngIf=\"i < childMail.bcc_display?.length - 1\">, </span>\n                          </ng-container>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                  <div class=\"col-4\">\n                    <div class=\"msg-reply-type-holder\">\n                      <div class=\"d-flex align-items-center justify-content-end\">\n                        <ng-container *ngIf=\"mailFolder === mailFolderTypes.OUTBOX\">\n                          <span class=\"badge badge-warning mr-2 p-1\" *ngIf=\"childMail.destruct_date\">\n                            <span>{{ 'mail_detail.delete_in' | translate }}</span>\n                            {{ childMail.destruct_date | remainingTime }}\n                          </span>\n                          <span class=\"badge badge-success mr-2 p-1\" *ngIf=\"childMail.delayed_delivery\">\n                            <span>{{ 'mail_detail.delay_delivery' | translate }}</span>\n                            {{ childMail.delayed_delivery | remainingTime }}\n                          </span>\n                          <span class=\"badge badge-danger mr-2 p-1\" *ngIf=\"childMail.dead_man_duration\">\n                            <span>{{ 'settings.compose.dead_man_timer' | translate }}</span>\n                            {{ childMail.dead_man_duration | remainingTime: true }}\n                          </span>\n                        </ng-container>\n                        <span *ngIf=\"childMail.attachments?.length > 0\" class=\"mr-3\">\n                          <i class=\"icon icon-attachment\"></i>\n                        </span>\n                        <label class=\"msg-received-time mb-0\" id=\"{{ childMail.id }}-mail-date\">\n                          <ng-container *ngIf=\"childMail.folder === mailFolderTypes.SENT && childMail.sent_at; else createdAt\">\n                            {{ childMail.sent_at | momentDate: 'medium' }}\n                          </ng-container>\n                          <ng-template #createdAt>\n                            <ng-container *ngIf=\"mailFolder !== mailFolderTypes.OUTBOX; else outboxTime\">\n                              {{ childMail.created_at | momentDate: 'medium' }}\n                            </ng-container>\n                          </ng-template>\n                          <ng-template #outboxTime>\n                            <ng-container *ngIf=\"childMail.delayed_delivery\">\n                              {{ childMail.delayed_delivery | momentDate: 'medium' }}\n                            </ng-container>\n                            <ng-container *ngIf=\"childMail.dead_man_duration\">\n                              <i class=\"fas fa-minus\"></i>\n                            </ng-container>\n                          </ng-template>\n                        </label>\n                      </div>\n                      <div>\n                        <label class=\"folder-batch\" [style.background]=\"folderColors[childMail.folder]\">{{ childMail.folder }}</label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <app-progress-bar [active]=\"decryptedContents[childMail.id] == null\" *ngIf=\"childIndex === mail.children.length - 1\"> </app-progress-bar>\n              </div>\n            </section>\n\n            <!--Mail Content-->\n            <section class=\"mailbox-section\" id=\"{{ childMail.id + '-ngb-collapse' }}\" [ngbCollapse]=\"childMailCollapsed[childIndex]\">\n              <div class=\"ui-body mail-content\" *ngIf=\"decryptedContents[childMail.id]\">\n                <div ngbDropdown placement=\"bottom-right\" class=\"mailbox-dropdown msg-reply-dropdown dropdown-xs\">\n                  <button ngbDropdownToggle class=\"actions-btn actions-btn-sm msg-reply-btn\" role=\"button\" id=\"{{ childMail.id }}-messageReplyDropdownMenuButton\"></button>\n                  <div ngbDropdownMenu [attr.aria-labelledby]=\"childMail.id + '-messageReplyDropdownMenuButton'\">\n                    <a class=\"dropdown-item\" (click)=\"onForward(childMail, childIndex, true)\">\n                      {{ 'mail_detail.forward' | translate }}\n                    </a>\n                    <a class=\"dropdown-item\" (click)=\"onReply(childMail, childIndex, true)\">\n                      {{ 'mail_detail.reply' | translate }}\n                    </a>\n                    <a class=\"dropdown-item\" *ngIf=\"childMail.cc.length || childMail.bcc.length || childMail.receiver.length > 1\" (click)=\"onReplyAll(childMail, childIndex, true)\">\n                      {{ 'mail_detail.reply_all' | translate }}\n                    </a>\n                    <a class=\"dropdown-item\" (click)=\"onPrint(childMail)\">{{ 'mail_detail.print' | translate }}</a>\n                    <a class=\"dropdown-item\" *ngIf=\"childMail.delayed_delivery\" (click)=\"onCancelSend(childMail)\">\n                      {{ 'mail_detail.cancel_send' | translate }}\n                    </a>\n                    <a class=\"dropdown-item\" (click)=\"onDelete(childMail, childIndex)\" [translate]=\"mailFolder === mailFolderTypes.TRASH ? ('mail_detail.delete_message' | translate) : ('mail_detail.delete_this_message' | translate)\"> </a>\n                    <a class=\"dropdown-item\" (click)=\"onDeleteForAll(childMail)\" *ngIf=\"childMail.folder === mailFolderTypes.SENT && mailFolder === mailFolderTypes.SENT\" [ngbTooltip]=\"'mail_detail.messages_will_be_del' | translate\" placement=\"left\">\n                      {{ 'mail_detail.delete_from_receiver' | translate }}\n                    </a>\n                    <a class=\"dropdown-item\" (click)=\"showIncomingHeaders(childMail)\">{{ 'mail_detail.show_headers' | translate }}</a>\n                    <a class=\"dropdown-item\" (click)=\"onSwitchHtmlPlainTextMode(childMail)\" *ngIf=\"decryptedContentsPlain[childMail.id]\">\n                      {{ plainTextViewState[childMail.id] ? ('mail_detail.show_rich_text' | translate) : ('mail_detail.show_plain_text' | translate) }}\n                    </a>\n                  </div>\n                </div>\n\n                <div [ngClass]=\"{ show_gmail_extra: mailOptions[childMail.id]?.showGmailExtraContent }\">\n                  <div *ngIf=\"plainTextViewState[childMail.id]; then plainBlock; else htmlBlock\"></div>\n                  <ng-template #htmlBlock>\n                    <div class=\"msg-reply-content text-dark\" id=\"{{ childMail.id }}-raw-mail-content\" [innerHTML]=\"childMail.is_html ? (decryptedContents[childMail.id] | safe: 'sanitize':disableExternalImages) : (decryptedContents[childMail.id] | linebreaktobrtag | safe: 'sanitize':disableExternalImages)\"></div>\n                  </ng-template>\n                  <ng-template #plainBlock>\n                    <div class=\"msg-reply-content text-dark\" id=\"{{ childMail.id }}-raw-mail-content\" [innerHTML]=\"decryptedContentsPlain[childMail.id] | linebreaktobrtag | safe: 'sanitize':disableExternalImages\"></div>\n                  </ng-template>\n                  <a href=\"javascript:void(0)\" (click)=\"toggleGmailExtra(childMail)\" *ngIf=\"decryptedContents[childMail.id]?.indexOf('gmail_extra') > -1 || decryptedContents[childMail.id]?.indexOf('gmail_quote') > -1\">\n                    <div class=\"ellipsis-wrapper\" placement=\"top\" [ngbTooltip]=\"mailOptions[childMail.id]?.showGmailExtraContent ? ('mail_detail.hide_extra' | translate) : ('mail_detail.show_trimmed' | translate)\">\n                      <div class=\"gmail-ellipsis\"></div>\n                    </div>\n                  </a>\n                </div>\n              </div>\n\n              <!-- Attachments list starts -->\n              <ul class=\"list-style-none mt-3\" *ngIf=\"mail.attachments?.length > 0\">\n                <ng-container *ngFor=\"let attachment of childMail.attachments\">\n                  <li class=\"download-attachment-wrapper mr-1\" *ngIf=\"!attachment.is_inline\">\n                    <app-progress-bar [active]=\"decryptedAttachments[attachment.id]?.inProgress\"></app-progress-bar>\n\n                    <a *ngIf=\"!attachment.is_encrypted; else encryptedAttachment\" class=\"download-attachment\" [href]=\"attachment.document\" placement=\"top\" [ngbTooltip]=\"attachment.name\" target=\"_blank\" rel=\"noopener noreferrer\">\n                      <div class=\"attachment-icon\">\n                        <i class=\"icon icon-attachment\"></i>\n                      </div>\n                      <div class=\"attachment-name\">\n                        {{ attachment.name }}\n                      </div>\n                    </a>\n                    <ng-template #encryptedAttachment>\n                      <a class=\"download-attachment\" (click)=\"decryptAttachment(attachment, childMail)\" href=\"javascript:void(0)\" placement=\"top\" [ngbTooltip]=\"attachment.name\">\n                        <div class=\"attachment-icon\">\n                          <i class=\"icon icon-attachment\"></i>\n                        </div>\n                        <div class=\"attachment-name\">\n                          {{ attachment.name }}\n                        </div>\n                      </a>\n                    </ng-template>\n                  </li>\n                </ng-container>\n              </ul>\n              <!-- Attachments list ends -->\n            </section>\n            <div align=\"center\" class=\"decryption-spinner\" *ngIf=\"decryptedContents[childMail.id] == null && isDecrypting[childMail.id] === true\">\n              <img class=\"mt-3\" [src]=\"loadingImage | safe: 'url'\" />\n              <div class=\"mt-3\">\n                {{ 'mail_detail.decryp_4096_bit' | translate }}\n              </div>\n            </div>\n            <div class=\"ui-body\" *ngIf=\"mailOptions[childMail.id]?.isComposeMailVisible && !isPopupOpen\">\n              <div class=\"mail-composer is-borderd border-bottom-0 mt-2\">\n                <app-compose-mail [receivers]=\"composeMailData[childMail.id]?.receivers\" [cc]=\"composeMailData[childMail.id]?.cc\" [content]=\"composeMailData[childMail.id]?.content\" [action]=\"composeMailData[childMail.id]?.action\" [action_parent]=\"composeMailData[childMail.id].action_parent_id\" [subject]=\"composeMailData[childMail.id]?.subject\" [selectedMailbox]=\"composeMailData[childMail.id]?.selectedMailbox\" [parentId]=\"composeMailData[childMail.id]?.parentId\" [forwardAttachmentsMessageId]=\"composeMailData[childMail.id]?.forwardAttachmentsMessageId\" [showSaveButton]=\"false\" [isMailDetailPage]=\"true\" (hide)=\"onComposeMailHide(childMail)\"> </app-compose-mail>\n              </div>\n            </div>\n          </div>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n\n  <!--Reply to mail.-->\n  <div class=\"ui-body ui-footer-sec\" *ngIf=\"isPopupOpen && isPopupOpen !== null\">\n    <p>\n      You are currently editing your reply in a separate window.\n      <a (click)=\"openReply(mail)\"> Show your draft here.</a>\n    </p>\n  </div>\n  <div class=\"ui-body ui-footer-sec\" #replyActions *ngIf=\"!isPopupOpen && isPopupOpen !== null\">\n    <div class=\"row\" *ngIf=\"mailFolder !== mailFolderTypes.OUTBOX && !hasDraft\">\n      <div class=\"col-12\">\n        <button class=\"btn btn-user-action\" (click)=\"onReply(mail, 0, false, true)\">\n          <i class=\"icon icon-reply position-left\"></i>\n          <span>{{ 'mail_detail.reply' | translate }}</span>\n          <img src=\"assets/images/icon-reply.svg\" class=\"hidden-sm-up\" />\n        </button>\n        <button class=\"btn btn-user-action\" (click)=\"onReplyAll(mail, 0, false, true)\" *ngIf=\"mail.cc.length || mail.bcc.length || mail.receiver.length > 1\">\n          <i class=\"icon icon-reply position-left\"></i>\n          <span>{{ 'mail_detail.reply_all' | translate }}</span>\n          <img src=\"assets/images/icon-reply-all.svg\" class=\"hidden-sm-up\" />\n        </button>\n        <button class=\"btn btn-user-action\" (click)=\"onForward(mail, 0, false, true)\">\n          <i class=\"icon icon-mail icon-lg position-left\"></i>\n          <span>{{ 'mail_detail.forward' | translate }}</span>\n          <img src=\"assets/images/icon-mail.svg\" class=\"hidden-sm-up\" />\n        </button>\n      </div>\n    </div>\n    <div class=\"mail-composer is-borderd border-bottom-0 mt-2\" *ngIf=\"mailOptions[mail.id]?.isComposeMailVisible && !draftNew?.id\">\n      <app-compose-mail [receivers]=\"composeMailData[mail.id]?.receivers\" [cc]=\"composeMailData[mail.id]?.cc\" [content]=\"composeMailData[mail.id]?.content\" [action]=\"composeMailData[mail.id]?.action\" [action_parent]=\"composeMailData[mail.id].action_parent_id\" [subject]=\"composeMailData[mail.id]?.subject\" [selectedMailbox]=\"composeMailData[mail.id]?.selectedMailbox\" [parentId]=\"composeMailData[mail.id]?.parentId\" [forwardAttachmentsMessageId]=\"composeMailData[mail.id]?.forwardAttachmentsMessageId\" [showSaveButton]=\"false\" [isMailDetailPage]=\"true\" (hide)=\"onComposeMailHide(mail)\" (popUpChange)=\"onChangePopup($event)\"> </app-compose-mail>\n    </div>\n    <div *ngIf=\"isReplyContext && draftNew?.id && draftNew.folder !== mailFolderTypes.TRASH && mail.folder !== mailFolderTypes.TRASH\" class=\"mail-composer is-borderd border-bottom-0 mt-2\">\n      <app-compose-mail [draftMail]=\"draftNew\" [isMailDetailPage]=\"true\" [showSaveButton]=\"false\" (popUpChange)=\"onChangePopup($event)\" (hide)=\"onComposeMailHide(draftNew)\"></app-compose-mail>\n    </div>\n  </div>\n  <!--Pagination on mobile version-->\n  <div class=\"col-sm-3 mailbox-actionbar-col hidden-xs-up\">\n    <div class=\"mail-controls d-flex align-items-center justify-content-end\">\n      <div class=\"mail-result-text text-muted\">\n        <small *ngIf=\"currentMailNumber\">\n          {{ currentMailNumber }}<span>{{ 'settings.of' | translate }}</span> {{ MAX_EMAIL_PAGE_LIMIT }}\n        </small>\n      </div>\n      <div class=\"mail-nav-control\">\n        <button role=\"button\" class=\"mail-nav-control-prev\" ngbTooltip=\"Previous email\" (click)=\"changeMail(currentMailIndex - 1)\">\n          <i class=\"icon icon-chevron-left\"></i>\n        </button>\n        <button role=\"button\" class=\"mail-nav-control-next\" ngbTooltip=\"Next email\" (click)=\"changeMail(currentMailIndex + 1)\">\n          <i class=\"icon icon-chevron-right\"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Confirm forward attachments modal -->\n<ng-template #forwardAttachmentsModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong>{{ 'mail_detail.confirm_forward_attach' | translate }}</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\">\n        {{ 'mail_detail.attachment_message' | translate }}\n      </div>\n      <div class=\"form-group text-right mb-0\">\n        <button type=\"button\" (click)=\"confirmForwardAttachments(true)\" class=\"btn btn-success btn-sm\" role=\"button\">\n          {{ 'common.yes' | translate }}\n        </button>\n        <button type=\"button\" (click)=\"confirmForwardAttachments(false)\" class=\"btn btn-sm ml-1\" role=\"button\">\n          {{ 'common.no' | translate }}\n        </button>\n        <button type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\" class=\"btn btn-sm ml-1\">\n          {{ 'common.cancel' | translate }}\n        </button>\n      </div>\n    </div>\n  </div>\n</ng-template>\n<!-- /.Confirm forward attachments modal ends -->\n\n<!-- Incoming Headers modal -->\n<ng-template #incomingHeadersModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong>{{ 'mail_detail.incoming_head' | translate }}</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder incoming-headers\">\n      <div *ngFor=\"let item of selectedHeaders; let i = index\" class=\"row\" [class.last-row]=\"i === selectedHeaders.length - 1\">\n        <div class=\"col-3\">{{ item.key }}</div>\n        <div class=\"col-9\">{{ item.value }}</div>\n      </div>\n      <div *ngIf=\"selectedHeaders?.length === 0\">{{ 'mail_detail.no_header' | translate }}</div>\n    </div>\n  </div> </ng-template\n><!-- /.Incoming Headers modal ends -->\n","import { Component, HostListener, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { Store } from '@ngrx/store';\nimport { take } from 'rxjs/operators';\n\nimport { PRIMARY_WEBSITE, SummarySeparator } from '../../shared/config';\nimport { FilenamePipe } from '../../shared/pipes/filename.pipe';\nimport { EmailFormatPipe } from '../../shared/pipes/email-formatting.pipe';\nimport { SafePipe } from '../../shared/pipes/safe.pipe';\nimport { WebSocketState } from '../../store';\nimport {\n  DeleteMail,\n  DeleteMailForAll,\n  GetMailDetailSuccess,\n  GetMails,\n  MoveMail,\n  SendMail,\n  SnackErrorPush,\n  StarMail,\n  WhiteListAdd,\n} from '../../store/actions';\nimport { ClearMailDetail, GetMailDetail, ReadMail } from '../../store/actions/mail.actions';\nimport { AppState, MailAction, MailBoxesState, MailState, SecureContent, UserState } from '../../store/datatypes';\nimport { Attachment, Folder, Mail, Mailbox, MailFolderType } from '../../store/models/mail.model';\nimport { LOADING_IMAGE, MailService, OpenPgpService, SharedService } from '../../store/services';\nimport { ComposeMailService } from '../../store/services/compose-mail.service';\nimport { DateTimeUtilService } from '../../store/services/datetime-util.service';\n\ndeclare let Scrambler;\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail-detail',\n  templateUrl: './mail-detail.component.html',\n  styleUrls: ['./mail-detail.component.scss'],\n})\nexport class MailDetailComponent implements OnInit, OnDestroy {\n  @ViewChild('forwardAttachmentsModal') forwardAttachmentsModal;\n\n  @ViewChild('incomingHeadersModal') incomingHeadersModal;\n\n  mail: Mail;\n\n  composeMailData: any = {};\n\n  mailFolderTypes = MailFolderType;\n\n  decryptedContents: any = {};\n\n  decryptedContentsPlain: any = {};\n\n  decryptedAttachments: any = {};\n\n  decryptedHeaders: any = {};\n\n  selectedHeaders: string;\n\n  mailOptions: any = {};\n\n  selectedMailToForward: Mail;\n\n  isDecrypting: any = {};\n\n  parentMailCollapsed = true;\n\n  childMailCollapsed: boolean[] = [];\n\n  mailFolder: MailFolderType;\n\n  customFolders: Folder[] = [];\n\n  showGmailExtraContent: boolean;\n\n  folderColors: any = {};\n\n  markedAsRead: boolean;\n\n  currentMailIndex: number;\n\n  currentMailNumber: any;\n\n  MAX_EMAIL_PAGE_LIMIT = 1;\n\n  OFFSET = 0;\n\n  loadingImage = LOADING_IMAGE;\n\n  disableMoveTo: boolean;\n\n  isMobile: boolean;\n\n  primaryWebsite = PRIMARY_WEBSITE;\n\n  showRawContent: any = {};\n\n  isDarkMode: boolean;\n\n  forceLightMode: boolean;\n\n  disableExternalImages: boolean;\n\n  includeOriginMessage: boolean;\n\n  xssPipe = SafePipe;\n\n  hasDraft = false;\n\n  plainTextViewState: any = {};\n\n  private currentMailbox: Mailbox;\n\n  private forwardAttachmentsModalRef: NgbModalRef;\n\n  private userState: UserState;\n\n  private mailboxes: Mailbox[];\n\n  private canScroll = true;\n\n  private page: number;\n\n  private mails: Mail[] = [];\n\n  private EMAILS_PER_PAGE: number;\n\n  private shouldChangeMail = 0;\n\n  constructor(\n    private route: ActivatedRoute,\n    private activatedRoute: ActivatedRoute,\n    private store: Store<AppState>,\n    private pgpService: OpenPgpService,\n    private shareService: SharedService,\n    private router: Router,\n    private composeMailService: ComposeMailService,\n    private dateTimeUtilService: DateTimeUtilService,\n    private modalService: NgbModal,\n    private mailService: MailService\n  ) {}\n\n  ngOnInit() {\n    SafePipe.hasExternalImages = false;\n    /**\n     * Check getting mail is succeeded\n     */\n    this.store\n      .select(state => state.webSocket)\n      .pipe(untilDestroyed(this))\n      .subscribe((webSocketState: WebSocketState) => {\n        if (webSocketState.message && !webSocketState.isClosed) {\n          if (\n            this.mail &&\n            (webSocketState.message.id === this.mail.id || webSocketState.message.parent_id === this.mail.id)\n          ) {\n            this.store.dispatch(new GetMailDetailSuccess(webSocketState.message.mail));\n            if (!webSocketState.message.mail.read) {\n              this.markAsRead(this.mail.id);\n            }\n          }\n        }\n      });\n    /**\n     * Get mails from DB\n     */\n    this.store\n      .select(state => state.mail)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailState: MailState) => {\n        this.mails = [...mailState.mails];\n        if (this.shouldChangeMail && mailState.loaded) {\n          if (this.shouldChangeMail === 1) {\n            this.mail.id = this.mails[this.mails.length - 1].id;\n            this.changeMail(this.mails.length - 1);\n          } else if (this.shouldChangeMail === 2) {\n            this.mail.id = this.mails[0].id;\n            this.changeMail(0);\n          }\n          this.shouldChangeMail = 0;\n        }\n        if (mailState.mailDetail && mailState.noUnreadCountChange) {\n          this.mail = mailState.mailDetail;\n          if (this.mail.is_subject_encrypted) {\n            this.scrambleText('subject-scramble');\n          }\n          this.mail.has_children = this.mail.has_children || (this.mail.children && this.mail.children.length > 0);\n          const decryptedContent = mailState.decryptedContents[this.mail.id];\n          if (this.mail.folder === MailFolderType.OUTBOX && !this.mail.is_encrypted) {\n            this.decryptedContents[this.mail.id] = this.mail.content;\n          } else {\n            if (\n              !this.mail.has_children &&\n              this.mail.content != undefined &&\n              !this.isDecrypting[this.mail.id] &&\n              (!decryptedContent ||\n                (!decryptedContent.inProgress &&\n                  decryptedContent.content == undefined &&\n                  this.mail.content != undefined))\n            ) {\n              this.isDecrypting[this.mail.id] = true;\n              this.pgpService.decrypt(this.mail.mailbox, this.mail.id, new SecureContent(this.mail));\n            }\n            if (decryptedContent && !decryptedContent.inProgress && decryptedContent.content != undefined) {\n              this.decryptedContents[this.mail.id] = decryptedContent.content;\n              if (this.mail.is_subject_encrypted) {\n                this.mail.subject = decryptedContent.subject;\n              }\n              this.decryptedContentsPlain[this.mail.id] = decryptedContent.content_plain;\n              this.decryptedHeaders[this.mail.id] = this.parseHeaders(decryptedContent.incomingHeaders);\n              this.handleEmailLinks();\n\n              // Automatically scrolls to last element in the list\n              // Class name .last-child is set inside the template\n              if (this.canScroll && this.mail.children && this.mail.children.length > 0) {\n                setTimeout(() => {\n                  this.canScroll = false;\n                }, 3000);\n                this.scrollTo(document.querySelector('.last-child'));\n              }\n              // Mark mail as read\n              if (!this.mail.read && !this.markedAsRead) {\n                this.markedAsRead = true;\n                this.markAsRead(this.mail.id);\n              }\n            }\n          }\n          if (!this.mailOptions[this.mail.id]) {\n            this.mailOptions[this.mail.id] = {};\n          }\n          if (this.mail.children && this.mail.children.length > 0) {\n            if (this.childMailCollapsed.length !== this.mail.children.length) {\n              this.parentMailCollapsed = true;\n              // Collapse all emails by default\n              this.childMailCollapsed = this.makeArrayOf(true, this.mail.children.length);\n              // Do not collapse the last email in the list\n              this.childMailCollapsed[this.mail.children.length - 1] = false;\n            }\n            this.decryptChildEmails(this.mail.children[this.mail.children.length - 1]);\n            this.mail.children.forEach(child => {\n              this.backupChildDecryptedContent(child, mailState);\n            });\n            setTimeout(() => {\n              if (this.mail) {\n                if (\n                  !this.isDecrypting[this.mail.id] &&\n                  this.mail.content &&\n                  (!decryptedContent ||\n                    (!decryptedContent.inProgress && !decryptedContent.content && this.mail.content))\n                ) {\n                  this.isDecrypting[this.mail.id] = true;\n                  this.pgpService.decrypt(this.mail.mailbox, this.mail.id, new SecureContent(this.mail));\n                }\n              }\n            }, 1000);\n          } else {\n            this.parentMailCollapsed = false;\n          }\n        }\n        if (this.mails.length > 0 && this.mail && mailState.loaded) {\n          this.MAX_EMAIL_PAGE_LIMIT = mailState.total_mail_count;\n          this.currentMailIndex = this.mails.findIndex(item => item.id === this.mail.id);\n          this.currentMailNumber = this.EMAILS_PER_PAGE * (this.page - 1) + this.currentMailIndex + 1 || '-';\n        }\n        if (\n          !mailState.loaded &&\n          this.mails.length === 0 &&\n          !mailState.inProgress &&\n          this.EMAILS_PER_PAGE &&\n          this.mailFolder !== MailFolderType.SEARCH\n        ) {\n          this.store.dispatch(\n            new GetMails({\n              limit: this.EMAILS_PER_PAGE,\n              inProgress: true,\n              offset: this.OFFSET,\n              folder: this.mailFolder,\n            }),\n          );\n        }\n\n        if (this.mail && this.mail.children) {\n          const draft_children = this.mail.children.filter(child => child.folder === 'draft');\n          draft_children.length > 0 ? (this.hasDraft = true) : (this.hasDraft = false);\n        }\n      });\n\n    this.store\n      .select(state => state.mailboxes)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailBoxesState: MailBoxesState) => {\n        this.currentMailbox = mailBoxesState.currentMailbox;\n        this.mailboxes = mailBoxesState.mailboxes;\n      });\n    /**\n     * Get folder and page from route\n     */\n    this.route.params.pipe(untilDestroyed(this)).subscribe(parameters => {\n      const id = +parameters.id;\n      this.mailFolder = parameters.folder as MailFolderType;\n      this.disableMoveTo = this.mailFolder === MailFolderType.OUTBOX || this.mailFolder === MailFolderType.DRAFT;\n      this.page = +parameters.page;\n      this.getMailDetail(id);\n    });\n    /**\n     * Get user settings\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.customFolders = user.customFolders;\n        user.customFolders.forEach(folder => {\n          this.folderColors[folder.name] = folder.color;\n        });\n        this.userState = user;\n        this.isDarkMode = this.userState.settings.is_night_mode;\n        this.EMAILS_PER_PAGE = user.settings.emails_per_page;\n        this.disableExternalImages = this.userState.settings.is_disable_loading_images;\n        this.includeOriginMessage = this.userState.settings.include_original_message;\n      });\n\n    this.isMobile = window.innerWidth <= 768;\n    this.activatedRoute.queryParams.pipe(untilDestroyed(this)).subscribe((parameters: Params) => {\n      this.forceLightMode = parameters.lightMode;\n    });\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.isMobile = window.innerWidth <= 768;\n  }\n\n  scrambleText(elementId: string) {\n    if (!this.decryptedContents[this.mail.id]) {\n      setTimeout(() => {\n        Scrambler({\n          target: `#${elementId}`,\n          random: [1000, 120000],\n          speed: 70,\n          text: 'A7gHc6H66A9SAQfoBJDq4C7',\n        });\n      }, 100);\n    }\n  }\n\n  changeMail(index: number) {\n    if (index < 0 || index >= this.mails.length) {\n      if (index >= this.EMAILS_PER_PAGE) {\n        this.shouldChangeMail = 2;\n        this.page++;\n      } else if (index <= 0 && this.page > 1) {\n        this.page--;\n        this.shouldChangeMail = 1;\n      } else {\n        return;\n      }\n      this.store.dispatch(\n        new GetMails({\n          forceReload: true,\n          limit: this.EMAILS_PER_PAGE,\n          offset: this.EMAILS_PER_PAGE * (this.page - 1),\n          folder: this.mailFolder,\n        }),\n      );\n      return;\n    }\n    this.mail = null;\n    setTimeout(() => {\n      this.markedAsRead = false;\n      this.router.navigateByUrl(`/mail/${this.mailFolder}/page/${this.page}/message/${this.mails[index].id}`);\n    }, 500);\n  }\n\n  /**\n   * Input email links to compose receivers\n   */\n  handleEmailLinks() {\n    setTimeout(() => {\n      const self = this;\n      const anchorElements = document.querySelectorAll('a');\n      for (const i in anchorElements) {\n        if (anchorElements.hasOwnProperty(i) && anchorElements[i].href.indexOf('mailto:') === 0) {\n          const receivers = [anchorElements[i].href.split('mailto:')[1]];\n          anchorElements[i].addEventListener('click', event => {\n            event.preventDefault();\n            self.composeMailService.openComposeMailDialog({\n              receivers,\n              isFullScreen: this.userState.settings.is_composer_full_screen,\n            });\n          });\n          anchorElements[i].href = '';\n        }\n      }\n    }, 1000);\n  }\n\n  viewEmailInLightMode() {\n    const win = window.open(`${document.location.href}?lightMode=true`, '_blank');\n    win.focus();\n  }\n\n  isNeedRemoveStar(mail: Mail) {\n    if (mail) {\n      return !!mail.starred;\n    }\n    return false;\n  }\n\n  isNeedAddStar(mail: Mail) {\n    if (mail) {\n      return !mail.starred;\n    }\n    return true;\n  }\n\n  toggleGmailExtra(mail: Mail) {\n    if (!this.mailOptions[mail.id]) {\n      this.mailOptions[mail.id] = {};\n    }\n    this.mailOptions[mail.id].showGmailExtraContent = !this.mailOptions[mail.id].showGmailExtraContent;\n  }\n\n  makeArrayOf(value, length) {\n    const array = [];\n    let i = length;\n    while (i--) {\n      array[i] = value;\n    }\n    return array;\n  }\n\n  decryptChildEmails(child: Mail) {\n    if (child.folder === MailFolderType.OUTBOX && !child.is_encrypted) {\n      this.decryptedContents[child.id] = child.content;\n    } else {\n      const childDecryptedContent = this.decryptedContents[child.id];\n      if (\n        !this.isDecrypting[child.id] &&\n        (!childDecryptedContent ||\n          (!childDecryptedContent.inProgress && !childDecryptedContent.content && child.content))\n      ) {\n        this.isDecrypting[child.id] = true;\n        this.pgpService.decrypt(child.mailbox, child.id, new SecureContent(child));\n      }\n    }\n  }\n\n  backupChildDecryptedContent(child: Mail, mailState: MailState) {\n    if (child.folder === MailFolderType.OUTBOX && !child.is_encrypted) {\n      this.decryptedContents[child.id] = child.content;\n    } else {\n      const childDecryptedContent = mailState.decryptedContents[child.id];\n      if (childDecryptedContent && !childDecryptedContent.inProgress && childDecryptedContent.content) {\n        this.decryptedContents[child.id] = childDecryptedContent.content;\n        this.decryptedContentsPlain[child.id] = childDecryptedContent.content_plain;\n        if (child.is_subject_encrypted) {\n          child.subject = childDecryptedContent.subject;\n        }\n        this.decryptedHeaders[child.id] = this.parseHeaders(childDecryptedContent.incomingHeaders);\n        this.handleEmailLinks();\n      }\n    }\n    if (!this.mailOptions[child.id]) {\n      this.mailOptions[child.id] = {};\n    }\n  }\n\n  /**\n   * Parse headers with new json format from origin headers\n   */\n  parseHeaders(headers: any) {\n    if (!headers) {\n      return [];\n    }\n    headers = JSON.parse(headers);\n    const headersArray = [];\n    headers.forEach(header => {\n      Object.keys(header).map(key => {\n        if (header.hasOwnProperty(key)) {\n          headersArray.push({ key, value: header[key] });\n        }\n      });\n    });\n    return headersArray;\n  }\n\n  getMailDetail(messageId: number) {\n    this.store.dispatch(new GetMailDetail({ messageId, folder: this.mailFolder }));\n  }\n\n  // TODO: Merge with display-secure-message and compose-mail components\n  decryptAttachment(attachment: Attachment, mail: Mail) {\n    if (attachment.is_encrypted) {\n      if (this.decryptedAttachments[attachment.id]) {\n        if (!this.decryptedAttachments[attachment.id].inProgress) {\n          this.downloadAttachment(this.decryptedAttachments[attachment.id]);\n        }\n      } else {\n        this.decryptedAttachments[attachment.id] = { ...attachment, inProgress: true };\n        this.mailService.getAttachment(attachment).subscribe(\n          response => {\n            // const uint8Array = this.shareService.base64ToUint8Array(response.data);\n            if (!attachment.name) {\n              attachment.name = FilenamePipe.tranformToFilename(attachment.document);\n            }\n            const fileInfo = { attachment, type: response.file_type };\n            this.pgpService\n              .decryptAttachment(mail.mailbox, atob(response.data), fileInfo)\n              .pipe(take(1))\n              .subscribe(\n                (decryptedAttachment: Attachment) => {\n                  this.decryptedAttachments[attachment.id] = { ...decryptedAttachment, inProgress: false };\n                  this.downloadAttachment(decryptedAttachment);\n                },\n                error => console.log(error),\n              );\n          },\n          errorResponse =>\n            this.store.dispatch(\n              new SnackErrorPush({\n                message: errorResponse.error || 'Failed to download attachment.',\n              }),\n            ),\n        );\n      }\n    }\n  }\n\n  downloadAttachment(attachment: Attachment) {\n    this.shareService.downloadFile(attachment.decryptedDocument);\n  }\n\n  markAsStarred(starred = true) {\n    this.store.dispatch(new StarMail({ ids: `${this.mail.id}`, starred }));\n  }\n\n  markAsRead(mailID: number, read = true) {\n    this.store.dispatch(new ReadMail({ ids: mailID.toString(), read }));\n    if (!read) {\n      this.goBack();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.store.dispatch(new ClearMailDetail(this.mail || {}));\n  }\n\n  showIncomingHeaders(mail: Mail) {\n    this.selectedHeaders = this.decryptedHeaders[mail.id];\n    this.modalService.open(this.incomingHeadersModal, {\n      centered: true,\n      windowClass: this.selectedHeaders.length === 0 ? 'modal-sm' : '',\n    });\n  }\n\n  setActionParent(mail: Mail, isChildMail: boolean, mainReply: boolean) {\n    if (!isChildMail && mainReply) {\n      if (this.mail.children && this.mail.children.length > 0) {\n        this.composeMailData[mail.id].action_parent_id = this.mail.children[this.mail.children.length - 1].id;\n      } else {\n        this.composeMailData[mail.id].action_parent_id = this.mail.id;\n      }\n    } else {\n      this.composeMailData[mail.id].action_parent_id = mail.id;\n    }\n  }\n\n  onReply(mail: Mail, index = 0, isChildMail?: boolean, mainReply = false) {\n    const previousMails = this.getPreviousMail(index, isChildMail, mainReply);\n    const allRecipients = new Set([...mail.receiver, mail.sender, mail.cc, mail.bcc]);\n    this.composeMailData[mail.id] = {\n      subject: `Re: ${mail.subject}`,\n      parentId: this.mail.id,\n      content: this.getMessageHistory(previousMails),\n      selectedMailbox: this.mailboxes.find(mailbox => allRecipients.has(mailbox.email)),\n    };\n    if (mail.reply_to && mail.reply_to.length > 0) {\n      this.composeMailData[mail.id].receivers = mail.reply_to;\n    } else {\n      let lastSender = '';\n      let lastReceiver = '';\n      if (mail.children && mail.children.length) {\n        for (let i = mail.children.length; i > 0; i--) {\n          if (mail.children[i - 1].folder !== 'trash') {\n            lastSender = mail.children[i - 1].sender;\n            lastReceiver = mail.children[i - 1].receiver[0];\n            break;\n          }\n        }\n        if (lastSender && lastReceiver) {\n          this.composeMailData[mail.id].receivers =\n            lastSender !== this.currentMailbox.email ? [lastSender] : [lastReceiver];\n        } else {\n          this.composeMailData[mail.id].receivers =\n            mail.sender !== this.currentMailbox.email ? [mail.sender] : this.mail.receiver;\n        }\n      } else {\n        this.composeMailData[mail.id].receivers =\n          mail.sender !== this.currentMailbox.email ? [mail.sender] : this.mail.receiver;\n      }\n    }\n    this.composeMailData[mail.id].action = MailAction.REPLY;\n    this.setActionParent(mail, isChildMail, mainReply);\n    this.mailOptions[mail.id].isComposeMailVisible = true;\n  }\n\n  onReplyAll(mail: Mail, index = 0, isChildMail?: boolean, mainReply = false) {\n    const previousMails = this.getPreviousMail(index, isChildMail, mainReply);\n    this.composeMailData[mail.id] = {\n      subject: `Re: ${mail.subject}`,\n      parentId: this.mail.id,\n      content: this.getMessageHistory(previousMails),\n      selectedMailbox: this.mailboxes.find(mailbox => mail.receiver.includes(mailbox.email)),\n    };\n    if (mail.sender !== this.currentMailbox.email) {\n      const receivers = [mail.sender, ...mail.receiver, ...mail.cc, ...mail.bcc];\n      this.composeMailData[mail.id].receivers = receivers;\n    } else {\n      this.composeMailData[mail.id].receivers = Array.isArray(mail.receiver)\n        ? [...mail.receiver, ...mail.cc, ...mail.bcc]\n        : [mail.receiver, ...mail.cc, ...mail.bcc];\n    }\n    this.composeMailData[mail.id].receivers = this.composeMailData[mail.id].receivers.filter(\n      email => email !== this.currentMailbox.email,\n    );\n    this.composeMailData[mail.id].action = MailAction.REPLY_ALL;\n    this.setActionParent(mail, isChildMail, mainReply);\n    this.mailOptions[mail.id].isComposeMailVisible = true;\n  }\n\n  onForward(mail: Mail, index = 0, isChildMail?: boolean, mainReply = false) {\n    this.composeMailData[mail.id] = {\n      content: this.getForwardMessageSummary(mail),\n      subject: `Fwd: ${this.mail.subject}`,\n      selectedMailbox: this.mailboxes.find(mailbox => mail.receiver.includes(mailbox.email)),\n    };\n    this.selectedMailToForward = mail;\n    this.composeMailData[mail.id].action = MailAction.FORWARD;\n    this.setActionParent(mail, isChildMail, mainReply);\n    if (mail.attachments.length > 0) {\n      this.forwardAttachmentsModalRef = this.modalService.open(this.forwardAttachmentsModal, {\n        centered: true,\n        windowClass: 'modal-sm users-action-modal',\n      });\n    } else {\n      this.confirmForwardAttachments();\n    }\n  }\n\n  confirmForwardAttachments(shouldForward?: boolean) {\n    if (shouldForward) {\n      this.composeMailData[this.selectedMailToForward.id].forwardAttachmentsMessageId = this.selectedMailToForward.id;\n    }\n    this.mailOptions[this.selectedMailToForward.id].isComposeMailVisible = true;\n    this.selectedMailToForward = null;\n    if (this.forwardAttachmentsModalRef) {\n      this.forwardAttachmentsModalRef.dismiss();\n    }\n  }\n\n  onComposeMailHide(mail: Mail) {\n    this.composeMailData[mail.id] = {};\n    this.mailOptions[mail.id].isComposeMailVisible = false;\n  }\n\n  onDelete(mail: Mail, index?: number, withChildren = true) {\n    if (mail.folder === MailFolderType.TRASH) {\n      this.store.dispatch(new DeleteMail({ ids: mail.id.toString(), parent_only: !withChildren }));\n      if (\n        this.mail.children &&\n        !this.mail.children.filter(child => child.id !== mail.id).some(child => child.folder === MailFolderType.TRASH)\n      ) {\n        this.goBack(500);\n      }\n    } else {\n      this.store.dispatch(\n        new MoveMail({\n          ids: mail.id,\n          folder: MailFolderType.TRASH,\n          sourceFolder: mail.folder,\n          mail,\n          allowUndo: true,\n          withChildren,\n        }),\n      );\n      if (index !== -1) {\n        this.onDeleteCollapseMail(index);\n      }\n    }\n    let excepted_children = [];\n    if (this.mail.children) {\n      excepted_children =\n        this.mailFolder === this.mailFolderTypes.TRASH\n          ? this.mail.children.filter(child => child.folder === this.mailFolderTypes.TRASH)\n          : this.mail.children.filter(child => child.folder !== this.mailFolderTypes.TRASH);\n      excepted_children = excepted_children.filter(child => child.id !== mail.id);\n    }\n    if (\n      (mail.id === this.mail.id && (withChildren || !excepted_children || excepted_children.length === 0)) ||\n      (mail.id !== this.mail.id &&\n        (!excepted_children || excepted_children.length === 0) &&\n        this.mail.folder === MailFolderType.TRASH) ||\n      (mail.id === this.mail.id && this.mail.folder === MailFolderType.TRASH)\n    ) {\n      this.goBack(500);\n    }\n  }\n\n  onDeleteForAll(mail: Mail) {\n    this.store.dispatch(new DeleteMailForAll({ id: mail.id, isMailDetailPage: true }));\n    if (this.mail.children) {\n      this.mail.children = this.mail.children.filter(child => child.id !== mail.id);\n    }\n    if (mail.id === this.mail.id) {\n      this.goBack(500);\n    }\n  }\n\n  onDeleteCollapseMail(index?: number) {\n    if (index > 0) {\n      this.childMailCollapsed[index - 1] = false;\n      this.childMailCollapsed.splice(index, 1);\n    } else if (index === 0) {\n      this.parentMailCollapsed = false;\n    }\n  }\n\n  onMarkAsSpam(mail: Mail) {\n    this.store.dispatch(\n      new MoveMail({\n        ids: mail.id,\n        folder: MailFolderType.SPAM,\n        sourceFolder: mail.folder,\n        mail,\n        allowUndo: true,\n      }),\n    );\n    if (mail.id === this.mail.id) {\n      this.goBack();\n    }\n  }\n\n  markNotSpam(mail: Mail) {\n    this.store.dispatch(\n      new MoveMail({\n        ids: mail.id,\n        folder: MailFolderType.INBOX,\n        sourceFolder: mail.folder,\n        mail,\n        allowUndo: true,\n      }),\n    );\n    setTimeout(() => {\n      this.store.dispatch(new WhiteListAdd({ name: mail.sender, email: mail.sender }));\n    }, 2000);\n    this.goBack();\n  }\n\n  ontoggleStarred(mail: Mail) {\n    if (mail.starred) {\n      this.store.dispatch(new StarMail({ ids: mail.id.toString(), starred: false }));\n    } else {\n      this.store.dispatch(new StarMail({ ids: mail.id.toString(), starred: true }));\n    }\n    mail.starred = !mail.starred;\n  }\n\n  moveToFolder(folder: MailFolderType | string) {\n    // Dispatch move to selected folder event\n    this.store.dispatch(\n      new MoveMail({\n        ids: this.mail.id,\n        folder,\n        sourceFolder: this.mailFolder,\n        allowUndo: true,\n        mail: this.mail,\n        fromTrash: this.mailFolder === MailFolderType.TRASH,\n      }),\n    );\n\n    this.goBack(500);\n  }\n\n  onCancelSend(mail) {\n    mail.delayed_delivery = 'CancelSend';\n    const updatedMail = { draft: mail };\n    this.store.dispatch(new SendMail(updatedMail));\n\n    this.goBack(500);\n  }\n\n  goBack(wait = 1) {\n    setTimeout(() => {\n      this.router.navigateByUrl(`/mail/${this.mailFolder}/page/${this.page}`);\n    }, wait);\n  }\n\n  openCreateFolderDialog() {\n    this.shareService.openCreateFolderDialog(this.userState.isPrime, this.customFolders, {\n      self: this,\n      method: 'moveToFolder',\n    });\n  }\n\n  onPrint(mail: Mail) {\n    if (this.decryptedContents[mail.id]) {\n      let popupWin;\n\n      const subject = document.getElementById(`${this.mail.id}-mail-subject`).innerHTML;\n      const from = document.getElementById(`${mail.id}-mail-from`).innerHTML;\n      const to = document.getElementById(`${mail.id}-mail-to`).innerHTML;\n      const date = document.getElementById(`${mail.id}-mail-date`).innerHTML;\n      const content = document.getElementById(`${mail.id}-mail-content`).innerHTML;\n\n      const hasCC = document.getElementById(`${mail.id}-mail-cc`);\n      let cc = '';\n      if (hasCC) {\n        cc = `<span class=\"text-muted\">${hasCC.innerHTML}</span>`;\n      }\n\n      popupWin = window.open('', '_blank', 'top=0,left=0,height=100%,width=auto');\n      popupWin.document.open();\n      popupWin.document.write(`\n          <html>\n            <head>\n              <title>Print tab</title>\n              <style>\n              body {\n                font-family: \"Roboto\", Helvetica, Arial, sans-serif;\n                }\n\n                .navbar-brand-logo {\n                    margin-right: 10px;\n                    max-width: 32px;\n                }\n\n                a {\n                    color: #3498db;\n                }\n\n                .container {\n                    max-width: 900px;\n                    padding: 100px 15px;\n                    margin: auto;\n                    color: #757675;\n                }\n\n                .row {\n                    padding-left: -15px;\n                    padding-right: -15px;\n                }\n\n                .text-center {\n                    text-align: center;\n                }\n\n                .text-secondary {\n                    color: #34495e;\n                }\n\n                .page-title {\n                    font-weight: 300;\n                }\n\n                .dashed-separator {\n                    border-top: 1px dashed #777;margin:20px 0 20px;\n                }\n              </style>\n            </head>\n            <body onload=\"window.print();window.close()\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <!-- Mail Subject -->\n                    <h1>${subject}</h1>\n                    <div class=\"dashed-separator\"></div>\n                    <!-- Mail From  -->\n                    <span class=\"text-muted\">${from}</span>\n                    <br>\n                    <!-- Mail To  -->\n                    <span class=\"text-muted\">${to}</span>\n                    <br>\n                    <!-- Mail CC  -->\n                    ${cc}\n                    <br>\n                    <!-- Mail Date Created  -->\n                    Dated:<strong>${date}</strong>\n                    <br>\n                    <div class=\"dashed-separator\"></div>\n                    <!-- Mail Content  -->\n                    <div>\n                      ${content}\n                    </div>\n                </div>\n            </div>\n            </body>\n          </html>`);\n      popupWin.document.close();\n    }\n  }\n\n  scrollTo(elementReference: any) {\n    if (elementReference) {\n      setTimeout(() => {\n        window.scrollTo({\n          top: elementReference.offsetTop,\n          behavior: 'smooth',\n        });\n      }, 100);\n    }\n  }\n\n  onSwitchHtmlPlainTextMode(mail: Mail) {\n    this.plainTextViewState[mail.id] = !this.plainTextViewState[mail.id];\n  }\n\n  private getPreviousMail(index: number, isChildMail: boolean, mainReply = false, isForwarding = false) {\n    let children: Mail[] = this.mail.children || [];\n    if (this.mailFolder !== MailFolderType.TRASH && this.mail.children) {\n      children = this.mail.children.filter(child => child.folder !== MailFolderType.TRASH);\n    }\n    const previousMail = [];\n    if (isChildMail) {\n      previousMail.push(children[index]);\n    } else if (mainReply === true && children.length > 0) {\n      previousMail.push(children[children.length - 1]);\n    } else if (this.mail.folder !== MailFolderType.TRASH && !isForwarding) {\n      previousMail.push(this.mail);\n    }\n    return previousMail;\n  }\n\n  private getMessageHistory(previousMails: Mail[]): string {\n    if (previousMails.length === 0) {\n      return '';\n    }\n    let history = SummarySeparator;\n    previousMails.forEach(previousMail => (history = this.getMessageSummary(history, previousMail)));\n    return `<div class=\"gmail_quote\">${history}</div>`;\n  }\n\n  /**\n   * Add original message status when reply or forward\n   */\n  private getMessageSummary(content: string, mail: Mail): string {\n    if (mail.folder !== MailFolderType.DRAFT && mail.folder !== MailFolderType.TRASH && this.includeOriginMessage) {\n      const formattedDateTime = mail.sent_at\n        ? this.dateTimeUtilService.formatDateTimeStr(mail.sent_at, 'ddd, MMMM D, YYYY [at] h:mm:ss A')\n        : this.dateTimeUtilService.formatDateTimeStr(mail.created_at, 'ddd, MMMM D, YYYY [at] h:mm:ss A');\n      if (this.decryptedContents[mail.id] === undefined) {\n        this.decryptedContents[mail.id] = '';\n      }\n      content += `</br>---------- Original Message ----------</br>On ${formattedDateTime} < ${\n        mail.sender\n      } > wrote:</br><div class=\"originalblock\">${this.decryptedContents[mail.id]}</div></br>`;\n    }\n    return content;\n  }\n\n  /**\n   * Add forwarded message summary with original message\n   */\n  private getForwardMessageSummary(mail: Mail): string {\n    let content =\n      `</br>---------- Forwarded message ----------</br>` +\n      `From: ${EmailFormatPipe.transformToFormattedEmail(mail.sender_display.email, mail.sender_display.name, true)}</br>` +\n      `Date: ${\n        mail.sent_at\n          ? this.dateTimeUtilService.formatDateTimeStr(mail.sent_at, 'medium')\n          : this.dateTimeUtilService.formatDateTimeStr(mail.created_at, 'medium')\n      }</br>` +\n      `Subject: ${mail.subject}</br>` +\n      `To: ${mail.receiver_display.map(receiver => EmailFormatPipe.transformToFormattedEmail(receiver.email, receiver.name, true)).join(', ')}</br>`;\n\n    if (mail.cc.length > 0) {\n      content += `CC: ${mail.cc.map(cc => `< ${cc} >`).join(', ')}</br>`;\n    }\n    content += `</br>${this.decryptedContents[mail.id]}</br>`;\n    return content;\n  }\n\n  /**\n   * @name onClickChildHeader\n   * @description This would be called, when hitting the header of child mail. Will change the state of childMailCollapsed by index\n   * @params Index of child from mails\n   * @returns None\n   */\n  private onClickChildHeader(childIndex) {\n    this.childMailCollapsed[childIndex] = !this.childMailCollapsed[childIndex];\n    this.decryptChildEmails(this.mail.children[childIndex]);\n  }\n}\n","<!--Footer on settings page -->\n<footer id=\"mailboxFooter\" class=\"mailbox-footer\">\n  <div class=\"mailbox-footer-inner\">\n    <ul class=\"mailbox-footer-menu justify-content-center justify-content-sm-start\">\n      <li>\n        <a href=\"{{ primaryWebsite }}/terms\" target=\"_blank\">\n          <u [innerHTML]=\"'common.terms_and_privacy' | translate\">Terms of Service</u>\n        </a>\n      </li>\n      <li *ngIf=\"!userState.isPrime\">\n        <a routerLink=\"/mail/settings/dashboard-and-plans\" class=\"text-primary\">\n          <u>{{ 'common.upgrade_account' | translate }}</u>\n        </a>\n      </li>\n    </ul>\n  </div>\n</footer>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, UserState } from '../../store/datatypes';\nimport { PRIMARY_WEBSITE } from '../../shared/config';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail-footer',\n  templateUrl: './mail-footer.component.html',\n  styleUrls: ['./mail-footer.component.scss'],\n})\nexport class MailFooterComponent implements OnInit, OnDestroy {\n  public userState: UserState;\n\n  primaryWebsite = PRIMARY_WEBSITE;\n\n  constructor(private store: Store<AppState>) {}\n\n  ngOnInit() {\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n      });\n  }\n\n  ngOnDestroy(): void {}\n}\n","<nav class=\"navbar mailbox-navbar\" role=\"navigation\">\n  <button class=\"navbar-toggler hidden-sm-up\" role=\"button\" (click)=\"toggleMenu()\">\n    <span class=\"navbar-toggler-icon\"></span>\n    <span class=\"navbar-toggler-icon\"></span>\n    <span class=\"navbar-toggler-icon\"></span>\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <div class=\"row align-items-center mailbox-navbar-row\">\n    <!--Search bar -->\n    <div class=\"col-sm-6 mailbox-navbar-col hidden-xs-down\">\n      <div class=\"form search-form\">\n        <div>\n          <div class=\"form-group mb-0 position-relative\">\n            <input class=\"form-control form-control-sm\" type=\"text\" [formControl]=\"searchInput\" (keyup.enter)=\"search()\" [placeholder]=\"searchPlaceholder | translate\" />\n            <button class=\"clear-btn\" *ngIf=\"searchInput.value?.length > 0\" (click)=\"searchInput.setValue('')\">\n              <i class=\"fas fa-times\"></i>\n            </button>\n            <button class=\"btn btn-sm btn-secondary search-btn\" (click)=\"search()\" role=\"button\">\n              <i class=\"icon icon-search\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!--Action buttons -->\n    <div class=\"col-sm-6 mailbox-navbar-col\">\n      <ul class=\"mailbox-actions-menu d-flex justify-content-end\">\n        <!--Protected by SRI button -->\n        <li>\n          <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\" target=\"_blank\" class=\"sri-check\" placement=\"bottom\" ngbTooltip=\"Protected by SRI, click to read more\">\n            <i class=\"fas fa-shield-alt\"></i>\n          </a>\n        </li>\n        <!--Help dropdown -->\n        <li class=\"btn-dropdown help-icon\">\n          <div ngbDropdown>\n            <button type=\"button\" id=\"helpDropdownMenuButton\" [ngbTooltip]=\"'mail_header.need_help' | translate\" class=\"icon-button\" ngbDropdownToggle placement=\"bottom\">\n              <i class=\"far fa-question-circle\"></i>\n            </button>\n            <div ngbDropdownMenu class=\"dropdown-menu-right text-center faq-dropdown\" aria-labelledby=\"helpDropdownMenuButton\">\n              <a class=\"dropdown-item text-left\" target=\"_blank\" href=\"{{ primaryWebsite }}/faqs/\"> FAQs </a>\n              <a class=\"dropdown-item text-left\" (click)=\"openComposeMailDialog(['support@ctemplar.com'])\" [innerHTML]=\"'settings.contact_support' | translate\">Contact support </a>\n            </div>\n          </div>\n        </li>\n        <!--Contact Button -->\n        <li class=\"\">\n          <a routerLink=\"/mail/contacts\" placement=\"bottom\" (click)=\"searchInput.setValue('')\" routerLinkActive=\"active\" [ngbTooltip]=\"'mail_header.contacts' | translate\">\n            <i class=\"icon icon-login\"></i>\n          </a>\n        </li>\n        <!--Settings Button -->\n        <li class=\"mailbox-settings pr-sm-0\">\n          <a routerLink=\"/mail/settings/dashboard-and-plans\" class=\"border-right-no-color\" routerLinkActive=\"active\" placement=\"bottom\" [ngbTooltip]=\"'mail_header.settings' | translate\">\n            <i class=\"icon icon-gear\"></i>\n          </a>\n        </li>\n        <!--Logout Button -->\n        <li class=\"mailbox-signout pl-sm-0\">\n          <a (click)=\"logout()\" placement=\"bottom\" [ngbTooltip]=\"'common.logout' | translate\">\n            <i class=\"icon icon-logout cursor-pointer\"></i>\n          </a>\n        </li>\n        <!--Search Button when mobile size -->\n        <li class=\"mailbox-xs-search-item hidden-sm-up\">\n          <div ngbDropdown>\n            <a ngbDropdownToggle role=\"button\">\n              <i class=\"icon icon-search\"></i>\n            </a>\n            <div ngbDropdownMenu>\n              <div class=\"form search-form\">\n                <form>\n                  <div class=\"form-group mb-0 position-relative\">\n                    <input class=\"form-control form-control-sm\" type=\"text\" [placeholder]=\"'mail_header.search' | translate\" />\n                    <button class=\"btn btn-sm btn-secondary search-btn\" role=\"button\">\n                      <i class=\"icon icon-search\"></i>\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav>\n<div class=\"header-fixed-spacer hidden-sm-up\"></div>\n<div class=\"l-alert l-alert-danger l-alert-is-floated d-sm-inline-block text-center d-none\" style=\"display: none !important\">\n  <div class=\"l-alert-inner\">\n    <div>\n      <span [innerHTML]=\"'mail_header.not_sent_message' | translate\"> Your message hasn't been sent because of Internet connection. </span>\n      &nbsp;&nbsp;&nbsp;\n      <a href=\"\">\n        <u [innerHTML]=\"'mail_header.try_to_connect' | translate\">Try to connect</u>\n      </a>\n    </div>\n  </div>\n</div>\n<div class=\"l-alert l-alert-warning l-alert-is-floated d-sm-inline-block text-center d-none\" style=\"display: none !important\">\n  <div class=\"l-alert-inner\">\n    <div>\n      <span [innerHTML]=\"'mail_header.moved_to_trash' | translate\"> The conversation has been moved to the Trash. </span>&nbsp;&nbsp;&nbsp;\n      <a href=\"\">\n        <u [innerHTML]=\"'mail_header.learn_more' | translate\">Learn more</u>\n      </a>\n      &nbsp;&nbsp;&nbsp;\n      <a href=\"\">\n        <u [innerHTML]=\"'mail_header.undo' | translate\">Undo</u>\n      </a>\n    </div>\n  </div>\n</div>\n<!--Logout Modal -->\n<ng-template #logoutModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header justify-content-sm-center align-items-center text-sm-center\">\n    <h3 class=\"modal-title w-100 text-dark\" id=\"logoutModal\">\n      <strong [innerHTML]=\"'mail_header.permanently_delete' | translate\">Permanently deleting data</strong>\n    </h3>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"px-4\">\n      <div align=\"center\" class=\"decryption-spinner\">\n        <img class=\"mt-3\" [src]=\"loadingImage | safe: 'url'\" />\n        <div class=\"my-3\" [innerHTML]=\"'mail_header.permanently_delete_all' | translate\">Permanently deleting all usage data from your visit</div>\n      </div>\n    </div>\n  </div>\n</ng-template>\n","import { Component, Inject, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { NgbDropdownConfig, NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { TranslateService } from '@ngx-translate/core';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { FormControl } from '@angular/forms';\nimport { DOCUMENT } from '@angular/common';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\nimport { ComposeMailService } from '../../store/services/compose-mail.service';\nimport { Language, LANGUAGES, PRIMARY_WEBSITE } from '../../shared/config';\nimport { ExpireSession, Logout, SaveDraftOnLogout } from '../../store/actions';\nimport { AppState, UserState } from '../../store/datatypes';\nimport { SearchState } from '../../store/reducers/search.reducers';\nimport { LOADING_IMAGE } from '../../store/services';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail-header',\n  templateUrl: './mail-header.component.html',\n  styleUrls: ['./mail-header.component.scss'],\n})\nexport class MailHeaderComponent implements OnInit, OnDestroy {\n  @ViewChild('logoutModal') logoutModal;\n\n  // Public property of boolean type set false by default\n  menuIsOpened = false;\n\n  selectedLanguage: Language = { name: 'English', locale: 'en' };\n\n  languages = LANGUAGES;\n\n  searchInput = new FormControl();\n\n  searchPlaceholder = 'common.search';\n\n  loadingImage = LOADING_IMAGE;\n\n  private isContactsPage: boolean;\n\n  primaryWebsite = PRIMARY_WEBSITE;\n\n  constructor(\n    private store: Store<AppState>,\n    config: NgbDropdownConfig,\n    private router: Router,\n    private translate: TranslateService,\n    private modalService: NgbModal,\n    @Inject(DOCUMENT) private document: Document,\n    private composeMailService: ComposeMailService,\n  ) {\n    config.autoClose = true;\n  }\n\n  ngOnInit() {\n    /**\n     * Change language with user's setting language\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        if (user.settings.language) {\n          const language = this.languages.find(item => item.name === user.settings.language);\n          if (this.selectedLanguage.name !== language.name) {\n            this.translate.use(language.locale);\n          }\n          this.selectedLanguage = language;\n        }\n      });\n\n    this.setSearchPlaceholder(this.router.url);\n    /**\n     * Change placeholder of search bar on contacts page\n     */\n    this.router.events\n      .pipe(\n        untilDestroyed(this),\n        filter(event => event instanceof NavigationEnd),\n      )\n      .subscribe((event: NavigationEnd) => {\n        this.setSearchPlaceholder(event.url);\n      });\n\n    this.store\n      .select(state => state.search)\n      .pipe(untilDestroyed(this))\n      .subscribe((searchState: SearchState) => {\n        this.searchInput.setValue('', { emitEvent: false, emitModelToViewChange: true, emitViewToModelChange: false });\n      });\n  }\n\n  setSearchPlaceholder(url) {\n    this.isContactsPage = url === '/mail/contacts';\n    this.searchPlaceholder = this.isContactsPage ? 'common.search_contacts' : 'common.search';\n  }\n\n  search() {\n    if (this.searchInput.value) {\n      if (this.isContactsPage) {\n        this.router.navigate(['/mail/contacts'], { queryParams: { search: this.searchInput.value } });\n      } else {\n        this.router.navigate(['/mail/search/page', 1], { queryParams: { search: this.searchInput.value } });\n      }\n    }\n  }\n\n  // == Setup click event to toggle mobile menu\n  toggleMenu() {\n    // click handler\n    const bool = this.menuIsOpened;\n    this.menuIsOpened = bool === false;\n    this.document.body.classList.add('menu-open');\n  }\n\n  logout() {\n    this.store.dispatch(new SaveDraftOnLogout());\n    const modalReference = this.modalService.open(this.logoutModal, {\n      centered: true,\n      backdrop: 'static',\n      windowClass: 'modal-md change-password-modal',\n    });\n    setTimeout(() => {\n      this.store.dispatch(new ExpireSession());\n      setTimeout(() => {\n        this.store.dispatch(new Logout());\n        modalReference.close();\n      }, 500);\n    }, 2500);\n    document.querySelector('#night-mode').innerHTML = '';\n  }\n\n  openComposeMailDialog(receivers) {\n    this.composeMailService.openComposeMailDialog({ receivers });\n  }\n\n  ngOnDestroy(): void {}\n}\n","<div class=\"mailbox-actionbar\">\n  <div class=\"row\">\n    <div class=\"col-12 col-sm-9 mailbox-actionbar-col\">\n      <ul class=\"mailbox-actionbar-menu\">\n        <!--select message dropdown -->\n        <li class=\"btn-dropdown mailbox-dropdown checkbox-dropdown\">\n          <div ngbDropdown>\n            <button ngbDropdownToggle class=\"dropdown-toggle\" role=\"button\" id=\"actionsDropdownMenuButton\" placement=\"top\" [ngbTooltip]=\"'mail_list.select_messages' | translate\"></button>\n            <span class=\"fancy-field-group select-all-checkbox\">\n              <mat-checkbox type=\"checkbox\" id=\"mailboxBulkActions\" (change)=\"markAllMails($event.checked)\" [(ngModel)]=\"selectAll\" [indeterminate]=\"isSomeEmailsSelected()\"> </mat-checkbox>\n              <label for=\"mailboxBulkActions\" class=\"fancy-field-empty\"></label>\n            </span>\n            <div ngbDropdownMenu aria-labelledby=\"actionsDropdownMenuButton\">\n              <a class=\"dropdown-item\" [translate]=\"'mail_list.all'\" (click)=\"markAllMails(true)\">All</a>\n              <a class=\"dropdown-item\" [translate]=\"'mail_list.read'\" (click)=\"markReadMails()\">Read</a>\n              <a class=\"dropdown-item\" [translate]=\"'mail_list.unread'\" (click)=\"markUnreadMails()\">Unread</a>\n              <a class=\"dropdown-item\" [translate]=\"'mail_list.starred'\" (click)=\"markStarredMails()\">Starred</a>\n              <a class=\"dropdown-item\" [translate]=\"'mail_list.unstarred'\" (click)=\"markUnstarredMails()\">Unstarred</a>\n            </div>\n          </div>\n        </li>\n        <!--refresh button -->\n        <li class=\"px-0\">\n          <a (click)=\"refresh()\" [ngbTooltip]=\"'mail_list.refresh' | translate\" placement=\"top\" class=\"border-right-0 border-radius-0\">\n            <i class=\"fas fa-redo-alt\"></i>\n          </a>\n        </li>\n        <!-- move to archive -->\n        <li class=\"px-0\" *ngIf=\"mailFolder !== mailFolderTypes.ARCHIVE && !disableMoveTo\">\n          <a class=\"border-right-0 border-radius-right-0\" placement=\"top\" (click)=\"moveToFolder(mailFolderTypes.ARCHIVE)\" [ngbTooltip]=\"'mail_list.move_to_archive' | translate\" [ngClass]=\"{ disabled: noEmailSelected }\">\n            <i class=\"icon icon-archive\"></i>\n          </a>\n        </li>\n        <!-- move to spam -->\n        <li class=\"pr-0 pl-0 hidden-xs-down\" *ngIf=\"mailFolder !== mailFolderTypes.SPAM && !disableMoveTo\">\n          <a class=\"border-radius-0\" (click)=\"moveToFolder(mailFolderTypes.SPAM)\" placement=\"top\" [ngbTooltip]=\"'mail_list.move_to_spam' | translate\" [ngClass]=\"{ 'border-right-0': mailFolder !== mailFolderTypes.TRASH, disabled: noEmailSelected }\">\n            <i class=\"icon icon-warning\"></i>\n          </a>\n        </li>\n        <!-- move to trash -->\n        <li class=\"px-0\">\n          <a (click)=\"moveToTrash()\" class=\"border-radius-left-0\" placement=\"top\" [ngbTooltip]=\"mailFolder !== mailFolderTypes.TRASH ? ('mail_list.move_to_trash' | translate) : ('mail_list.permanently_delete' | translate)\" [ngClass]=\"{ disabled: noEmailSelected }\">\n            <i class=\"icon icon-garbage\"></i>\n          </a>\n        </li>\n        <!-- delete permanently -->\n        <li class=\"px-0\" *ngIf=\"mailFolder === mailFolderTypes.DRAFT\">\n          <a (click)=\"confirmDeleteDraft()\" class=\"border-radius-left-0\" placement=\"top\" [ngbTooltip]=\"'mail_list.permanently_delete' | translate\" [ngClass]=\"{ disabled: noEmailSelected }\">\n            <i class=\"fa fa-times\"></i>\n          </a>\n        </li>\n        <!-- decrypt all subjects -->\n        <li class=\"pr-0\" *ngIf=\"!userState.settings.is_subject_auto_decrypt\">\n          <a class=\"px-0\" placement=\"top\" (click)=\"onDecryptSubjects()\" ngbTooltip=\"Decrypt all subjects on current page\">\n            <i class=\"fas fa-unlock-alt\"></i>\n          </a>\n        </li>\n        <!-- more button when mobile version -->\n        <li class=\"btn-dropdown more-xs-options pl-0\" *ngIf=\"isMobile && !disableMoveTo\">\n          <div ngbDropdown autoClose=\"outside\">\n            <button ngbDropdownToggle class=\"border-left-0 border-radius-left-0\" id=\"dropdownMoreOptions\" role=\"button\">\n              <i class=\"icon icon-more\"></i>\n            </button>\n            <div ngbDropdownMenu class=\"mobiledOptionsDropdown\" aria-labelledby=\"dropdownMoreOptions\">\n              <ul class=\"more-xs-options-list\">\n                <li>\n                  <a class=\"disabled\">\n                    <i class=\"icon icon-warning\"></i>\n                  </a>\n                </li>\n                <li class=\"btn-dropdown mailbox-dropdown folders-dropdown\">\n                  <div ngbDropdown>\n                    <button ngbDropdownToggle class=\"disabledx\" id=\"extraOptionsDropdownMenuButton\" role=\"button\">\n                      <i class=\"icon icon-folder\"></i>\n                    </button>\n                    <div ngbDropdownMenu aria-labelledby=\"extraOptionsDropdownMenuButton\">\n                      <a class=\"dropdown-item\" (click)=\"moveToFolder(mailFolderTypes.INBOX)\" *ngIf=\"mailFolder !== mailFolderTypes.INBOX\">\n                        <i class=\"icon icon-inbox\"></i>\n                        <span [translate]=\"'mail_sidebar.inbox'\">Inbox</span>\n                      </a>\n                      <a class=\"dropdown-item\" (click)=\"moveToFolder(mailFolderTypes.DRAFT)\" *ngIf=\"mailFolder !== mailFolderTypes.DRAFT\">\n                        <i class=\"icon icon-inbox\"></i>\n                        <span [translate]=\"'mail_sidebar.draft'\">Draft</span>\n                      </a>\n                      <a class=\"dropdown-item\" (click)=\"moveToFolder(mailFolderTypes.OUTBOX)\" *ngIf=\"mailFolder !== mailFolderTypes.OUTBOX\">\n                        <i class=\"icon icon-archive\"></i>\n                        <span [translate]=\"'mail_sidebar.outbox'\">Outbox</span>\n                      </a>\n                      <ng-container *ngFor=\"let folder of customFolders; let i = index\">\n                        <a class=\"dropdown-item\" *ngIf=\"mailFolder !== folder.name\" (click)=\"moveToFolder(folder.name)\">\n                          <i class=\"folder-color-box icon\" [style.background]=\"folder.color\"></i>\n                          <span class=\"folders-list-text\">{{ folder.name }}</span>\n                        </a>\n                      </ng-container>\n                      <span class=\"divider-item d-block\"></span>\n                      <a class=\"dropdown-item\" (click)=\"openCreateFolderDialog()\">\n                        <i class=\"icon icon-folder\"></i>\n                        <span [translate]=\"'mail_list.create_folder'\">Create folder</span>\n                      </a>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </li>\n        <!-- Move to Inbox or Custom folders -->\n        <li class=\"btn-dropdown mailbox-dropdown folders-dropdown hidden-xs-down\" *ngIf=\"!noEmailSelected && !disableMoveTo\">\n          <div ngbDropdown>\n            <button ngbDropdownToggle class=\"disabledx\" id=\"folderDropdownMenuButton\" role=\"button\" placement=\"top\" [ngbTooltip]=\"'mail_list.move_to' | translate\">\n              <i class=\"icon icon-folder\"></i>\n            </button>\n            <div ngbDropdownMenu aria-labelledby=\"folderDropdownMenuButton\" class=\"folder-dropdown\">\n              <a class=\"dropdown-item\" (click)=\"moveToFolder(mailFolderTypes.INBOX)\" *ngIf=\"mailFolder !== mailFolderTypes.INBOX\">\n                <i class=\"icon icon-inbox\"></i>\n                <span [translate]=\"'mail_sidebar.inbox'\">Inbox</span>\n              </a>\n              <ng-container *ngFor=\"let folder of customFolders; let i = index\">\n                <a class=\"dropdown-item\" *ngIf=\"mailFolder !== folder.name\" (click)=\"moveToFolder(folder.name)\">\n                  <i class=\"folder-color-box icon\" [style.background]=\"folder.color\"></i>\n                  <span class=\"folders-list-text\">{{ folder.name }}</span>\n                </a>\n              </ng-container>\n              <span class=\"divider-item d-block\"></span>\n              <a class=\"dropdown-item\" (click)=\"openCreateFolderDialog()\">\n                <i class=\"icon icon-folder\"></i>\n                <span [translate]=\"'mail_list.create_folder'\">Create folder</span>\n              </a>\n            </div>\n          </div>\n        </li>\n        <!-- Manage star and read mark of messages -->\n        <li class=\"btn-dropdown mailbox-dropdown mailbox-dropdown-lg more-options-dropdown pl-0\" *ngIf=\"!noEmailSelected && !disableMoveTo\">\n          <div ngbDropdown class=\"dropdown\">\n            <button ngbDropdownToggle class=\"disabledx\" role=\"button\" id=\"moreOptionsDropdownMenuButton\" [translate]=\"'mail_list.more'\">More</button>\n            <div id=\"moreOptionsDropdownMenu\" ngbDropdownMenu aria-labelledby=\"moreOptionsDropdownMenuButton\">\n              <a *ngIf=\"isNeedAddStar()\" class=\"dropdown-item\" (click)=\"markAsStarred(true)\" [translate]=\"'mail_list.add_star'\"> Add star </a>\n              <a *ngIf=\"isNeedRemoveStar()\" class=\"dropdown-item\" (click)=\"markAsStarred(false)\" [translate]=\"'mail_list.remove_star'\"> Remove star </a>\n              <a class=\"dropdown-item\" (click)=\"markAsRead()\" [translate]=\"'mail_list.mark_as_read'\"> Mark as read </a>\n              <a class=\"dropdown-item\" (click)=\"markAsRead(false)\" [translate]=\"'mail_list.mark_as_unread'\"> Mark as unread </a>\n            </div>\n          </div>\n        </li>\n        <!-- Delete all messages permanently -->\n        <li *ngIf=\"(mailFolder === mailFolderTypes.TRASH || mailFolder === mailFolderTypes.SPAM) && mails?.length > 0\">\n          <a (click)=\"confirmDeleteAll()\" class=\"btn btn-sm delete-permanently-btn\" placement=\"top\" [ngbTooltip]=\"'mail_list.delete_messages' | translate\">\n            <i class=\"icon icon-garbage position-left\"></i>\n            <span [translate]=\"'mail_list.delete_all'\"> Delete all permanently</span>\n          </a>\n        </li>\n      </ul>\n    </div>\n    <div class=\"col-sm-3 mailbox-actionbar-col hidden-xs-down\">\n      <div class=\"mail-controls d-flex align-items-center justify-content-end\" *ngIf=\"mails?.length > 0\">\n        <!-- Pagination -->\n        <div class=\"mail-result-text text-muted\">\n          <small>{{ OFFSET + 1 }} - {{ LIMIT > MAX_EMAIL_PAGE_LIMIT - OFFSET ? MAX_EMAIL_PAGE_LIMIT : OFFSET + LIMIT }} <span [translate]=\"'settings.of'\">of</span> {{ MAX_EMAIL_PAGE_LIMIT }} </small>\n        </div>\n        <div class=\"mail-nav-control\">\n          <button [disabled]=\"OFFSET === 0 && MAX_EMAIL_PAGE_LIMIT > OFFSET\" role=\"button\" class=\"mail-nav-control-prev\" ngbTooltip=\"Previous page\" (click)=\"prevPage()\">\n            <i class=\"icon icon-chevron-left\"></i>\n          </button>\n          <button [disabled]=\"LIMIT > mails.length\" role=\"button\" class=\"mail-nav-control-next\" ngbTooltip=\"Next page\" (click)=\"nextPage()\">\n            <i class=\"icon icon-chevron-right\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div align=\"center\" *ngIf=\"mailFolder === mailFolderTypes.TRASH || mailFolder === mailFolderTypes.SPAM\">\n    <p class=\"mt-2\">Messages in {{ mailFolder === mailFolderTypes.TRASH ? 'Trash' : 'Spam' }} will be irrecoverably deleted after 30 days.</p>\n  </div>\n</div>\n<!-- Select all messages of current folder -->\n<div class=\"mail-check-number\" *ngIf=\"selectAll && MAX_EMAIL_PAGE_LIMIT > LIMIT\">\n  <p *ngIf=\"!checkAll\">\n    All {{ LIMIT > MAX_EMAIL_PAGE_LIMIT - OFFSET ? MAX_EMAIL_PAGE_LIMIT : OFFSET + LIMIT }}\n    conversations on this page are selected.\n    <a (click)=\"selectEntire(true)\">Select all {{ MAX_EMAIL_PAGE_LIMIT }} conversations in {{ folderName }}</a>\n  </p>\n  <p *ngIf=\"checkAll\">\n    All {{ MAX_EMAIL_PAGE_LIMIT }} conversations in {{ folderName }} are selected.\n    <a (click)=\"selectEntire(false)\">Clear selection</a>\n  </p>\n</div>\n<app-progress-bar [active]=\"showProgress\"></app-progress-bar>\n<div class=\"mail-listing mailbox-sub-content\">\n  <div class=\"table-responsive table-hover table-fixed\">\n    <table class=\"table table-inbox\">\n      <tbody>\n        <tr class=\"bg-white text-center\" *ngIf=\"mails?.length === 0 && !showProgress\">\n          <p class=\"py-2 mb-0\" [translate]=\"'mail_list.no_conversations'\">There are no conversations with this label.</p>\n          <hr class=\"mt-0\" />\n        </tr>\n        <!--Desktop view html -->\n        <ng-container *ngIf=\"!isMobile\">\n          <tr\n            class=\"mail-list-row\"\n            *ngFor=\"let mail of mails; let i = index\"\n            [ngClass]=\"{\n              'is-unread': !mail.read && mailFolder !== mailFolderTypes.DRAFT && mailFolder !== mailFolderTypes.SENT && mailFolder !== mailFolderTypes.OUTBOX,\n              'is-read': mail.read && mailFolder !== mailFolderTypes.DRAFT && mailFolder !== mailFolderTypes.SENT && mailFolder !== mailFolderTypes.OUTBOX,\n              'is-selected': mail.marked\n            }\"\n          >\n            <!-- Check box -->\n            <td class=\"mail-checkbox\" (click)=\"toggleEmailSelection(mail)\">\n              <div class=\"fancy-field-group\">\n                <mat-checkbox [checked]=\"mail.marked\" [disableRipple]=\"true\" (click)=\"$event.preventDefault()\"> </mat-checkbox>\n              </div>\n            </td>\n            <!-- Starred Message -->\n            <td class=\"mail-status\">\n              <a class=\"mail-status-type\" [ngbTooltip]=\"mail.starred ? ('mail_list.remove_star' | translate) : ('mail_list.start_message' | translate)\" placement=\"right\" (click)=\"toggleStarred(mail)\" [ngClass]=\"{ 'is-fav': mail.starred }\">\n                <i class=\"icon icon-star-filled\" [ngClass]=\"{ 'icon-star': !mail.starred }\"></i>\n              </a>\n            </td>\n            <!-- Sender Name -->\n            <td class=\"mail-from-name\">\n              <a (click)=\"openMail(mail)\" class=\"text-danger display-emails\" [ngClass]=\"{ 'text-dark': mailFolder !== mailFolderTypes.DRAFT }\">\n                <ng-container [ngSwitch]=\"mailFolder\">\n                  <ng-container *ngSwitchCase=\"mailFolderTypes.DRAFT\" class=\"text-danger\">\n                    <span [translate]=\"'mail_sidebar.draft'\">Draft</span>\n                  </ng-container>\n                  <ng-container *ngSwitchCase=\"mailFolderTypes.SENT\">\n                    <label [ngbTooltip]=\"mail.receiver_list\" placement=\"right\">{{ mail.receiver_list }}</label>\n                  </ng-container>\n                  <ng-container *ngSwitchDefault>\n                    <label [ngbTooltip]=\"mail.sender_display_name ? mail.sender_display_name : mail.sender_display.email\" placement=\"right\">{{ mail.sender_display_name ? mail.sender_display_name : mail.sender_display.name }}</label>\n                  </ng-container>\n                  <span *ngIf=\"mail.thread_count > 1\" class=\"email-child-count\">({{ mail.thread_count }})</span>\n                </ng-container>\n                <span class=\"position-relative\" *ngIf=\"mailFolder !== mailFolderTypes.DRAFT\">\n                  <i *ngIf=\"mail.last_action_thread\" class=\"fas fa-{{ mail.last_action_thread | lastAction }} last-action\"></i>\n                </span>\n              </a>\n            </td>\n            <!-- Subject -->\n            <td class=\"mail-inbox-message d-md-block\">\n              <a (click)=\"openMail(mail)\" class=\"text-dark\">\n                <span class=\"mail-subject\">\n                  <ng-container *ngIf=\"mailFolder === mailFolderTypes.SENT || mailFolder === mailFolderTypes.INBOX\">\n                    <span class=\"badge badge-warning mr-2 p-1\" *ngIf=\"mail.destruct_date\">\n                      <span [translate]=\"'mail_detail.delete_in'\">Delete in</span>\n                      {{ mail.destruct_date | remainingTime }}\n                    </span>\n                  </ng-container>\n                  <ng-container *ngIf=\"mailFolder === mailFolderTypes.OUTBOX\">\n                    <span class=\"badge badge-success mr-2 p-1\" *ngIf=\"mail.delayed_delivery || mail.children_delayed_delivery\">\n                      <span [translate]=\"'mail_detail.delay_delivery'\">Delay delivery in</span>\n                      {{ mail.delayed_delivery ? (mail.delayed_delivery | remainingTime) : (mail.children_delayed_delivery | remainingTime) }}\n                    </span>\n                    <span class=\"badge badge-danger mr-2 p-1\" *ngIf=\"!(mail.delayed_delivery || mail.children_delayed_delivery) && (mail.dead_man_duration || mail.children_dead_man_duration)\"\n                      ><span [translate]=\"'mail_detail.dead_mans_timer'\"> Dead mans timer in </span>\n                      {{ mail.dead_man_duration ? (mail.dead_man_duration | remainingTime: true) : (mail.children_dead_man_duration | remainingTime: true) }}\n                    </span>\n                  </ng-container>\n                  <span id=\"{{ 'subject-scramble-' + mail?.id }}\" *ngIf=\"mail?.is_subject_encrypted && isSubjectDecrypting(mail?.id)\"></span>\n                  <span class=\"mr-2 p-1 encrypted-subject\" *ngIf=\"mail?.is_subject_encrypted && !isSubjectDecrypting(mail?.id)\">...</span>\n                  <div class=\"mail-content\">\n                    <ng-container *ngIf=\"!mail.is_subject_encrypted\">{{ mail.subject }}</ng-container>\n                  </div>\n                </span>\n              </a>\n            </td>\n            <!-- Attachment Size -->\n            <td class=\"mail-file-size\">\n              <label *ngIf=\"mailFolder === mailFolderTypes.SEARCH || mailFolder === mailFolderTypes.ALL_EMAILS || mailFolder === mailFolderTypes.UNREAD\" class=\"folder-batch\" [style.background]=\"folderColors[mail.folder]\">{{ mail.folder }}</label>\n              <i class=\"icon icon-attachment\" *ngIf=\"mail.has_attachments || mail.attachments?.length > 0\"></i>\n            </td>\n            <!-- Inbox Date -->\n            <td class=\"mail-sent-date\">\n              <ng-container *ngIf=\"mailFolder === mailFolderTypes.SENT; else createdAt\">\n                {{ mail.sent_at | momentDate: 'mail-list' }}\n              </ng-container>\n              <ng-template #createdAt>\n                <ng-container *ngIf=\"mailFolder !== mailFolderTypes.OUTBOX; else outboxTime\"> {{ mail.created_at | momentDate: 'mail-list' }}</ng-container>\n              </ng-template>\n              <ng-template #outboxTime>\n                <ng-container *ngIf=\"mail.delayed_delivery\">{{ mail.delayed_delivery | momentDate: 'mail-list' }} </ng-container>\n                <ng-container *ngIf=\"mail.dead_man_duration\">\n                  <i class=\"fas fa-minus\"></i>\n                </ng-container>\n              </ng-template>\n            </td>\n            <!-- Icon Secured -->\n            <td class=\"mail-security-status fire-wall-protection\" [ngClass]=\"{ 'text-faded': !mail.is_protected && mail.sender !== 'support@ctemplar.com' }\">\n              <img *ngIf=\"!userState.settings.is_night_mode; else fireWallIcon\" src=\"assets/images/features-icon/tower.svg\" width=\"14px\" [ngbTooltip]=\"'mail_list.4_Wall_Protection' | translate\" placement=\"left\" />\n              <ng-template #fireWallIcon>\n                <i class=\"fas fa-chess-rook svg-inline--fa\" [ngbTooltip]=\"'mail_list.4_Wall_Protection' | translate\" placement=\"left\"></i>\n              </ng-template>\n            </td>\n            <!-- Icon Secured -->\n            <td class=\"mail-security-status\" [ngClass]=\"{ 'text-faded': !mail.is_protected && mail.sender !== 'support@ctemplar.com' }\">\n              <i class=\"icon icon-secured\" [ngbTooltip]=\"!mail.is_protected && mail.sender !== 'support@ctemplar.com' ? '' : ('mail_detail.encrypted' | translate)\" placement=\"left\"></i>\n            </td>\n          </tr>\n        </ng-container>\n\n        <!--Mobile view html -->\n        <ng-container *ngIf=\"isMobile\">\n          <tr\n            class=\"mail-list-row show-on-mobile\"\n            *ngFor=\"let mail of mails; let i = index\"\n            [ngClass]=\"{\n              'is-unread': !mail.read && mailFolder !== mailFolderTypes.DRAFT && mailFolder !== mailFolderTypes.SENT && mailFolder !== mailFolderTypes.OUTBOX,\n              'is-read': mail.read && mailFolder !== mailFolderTypes.DRAFT && mailFolder !== mailFolderTypes.SENT && mailFolder !== mailFolderTypes.OUTBOX,\n              'is-selected': mail.marked\n            }\"\n          >\n            <td class=\"mail-checkbox\">\n              <div class=\"fancy-field-group\">\n                <input class=\"d-none fancy-field-control\" id=\"{{ mail.id }}\" type=\"checkbox\" [ngModel]=\"mail.marked\" (ngModelChange)=\"toggleEmailSelection(mail, $event)\" />\n                <label for=\"{{ mail.id }}\" class=\"fancy-field-empty\"></label>\n              </div>\n            </td>\n            <td class=\"mail-from-name\">\n              <!-- Sender Name -->\n              <a (click)=\"openMail(mail)\" class=\"text-danger display-emails\" [ngClass]=\"{ 'text-dark': mailFolder !== mailFolderTypes.DRAFT }\">\n                <ng-container [ngSwitch]=\"mailFolder\">\n                  <ng-container *ngSwitchCase=\"mailFolderTypes.DRAFT\" class=\"text-danger\">\n                    <span [translate]=\"'mail_sidebar.draft'\">Draft</span>\n                  </ng-container>\n                  <ng-container *ngSwitchCase=\"mailFolderTypes.SENT\">\n                    <label [ngbTooltip]=\"mail.receiver_list\">{{ mail.receiver_list }}</label>\n                  </ng-container>\n                  <ng-container *ngSwitchDefault>\n                    {{ mail.sender_display_name ? mail.sender_display_name : mail.sender_display.name }}\n                  </ng-container>\n                  <span *ngIf=\"mail.children_count > 0\" class=\"email-child-count\"> ({{ mailFolder !== mailFolderTypes.TRASH && mail.folder === mailFolderTypes.TRASH ? mail.children_count : 10 }}) </span>\n                </ng-container>\n              </a>\n\n              <span class=\"mail-inbox-message d-md-block\">\n                <a (click)=\"openMail(mail)\" class=\"text-dark\">\n                  <span class=\"mail-subject\">\n                    <ng-container *ngIf=\"mailFolder === mailFolderTypes.SENT || mailFolder === mailFolderTypes.INBOX\">\n                      <span class=\"badge badge-warning mr-2 p-1\" *ngIf=\"mail.destruct_date\">\n                        <span [translate]=\"'mail_detail.delete_in'\">Delete in</span>\n                        {{ mail.destruct_date | remainingTime }}\n                      </span>\n                    </ng-container>\n                    <ng-container *ngIf=\"mailFolder === mailFolderTypes.OUTBOX\">\n                      <span class=\"badge badge-success mr-2 p-1\" *ngIf=\"mail.delayed_delivery\">\n                        <span [translate]=\"'mail_detail.delay_delivery'\">Delay delivery in</span>\n                        {{ mail.delayed_delivery | remainingTime }}\n                      </span>\n                      <span class=\"badge badge-danger mr-2 p-1\" *ngIf=\"mail.dead_man_duration\">\n                        <span [translate]=\"'mail_detail.dead_mans_timer'\">Dead mans timer</span>\n                        {{ mail.dead_man_duration | remainingTime: true }}\n                      </span>\n                    </ng-container>\n                    <span id=\"{{ 'subject-scramble-' + mail?.id }}\" *ngIf=\"mail?.is_subject_encrypted && isSubjectDecrypting(mail?.id)\"> </span>\n                    <span class=\"mr-2 p-1 encrypted-subject\" *ngIf=\"mail?.is_subject_encrypted && !isSubjectDecrypting(mail?.id)\">...</span>\n                    <div class=\"mail-content\">\n                      <ng-container *ngIf=\"!mail.is_subject_encrypted\">{{ mail.subject }}</ng-container>\n                    </div>\n                  </span>\n                </a>\n              </span>\n              <span class=\"mail-file-size\">\n                <i class=\"icon icon-attachment\" *ngIf=\"mail.has_attachments\"></i>\n              </span>\n              <span class=\"mail-sent-date\">\n                <ng-container *ngIf=\"mailFolder === mailFolderTypes.SENT; else createdAt\">\n                  {{ mail.sent_at | momentDate: 'mail-list' }}\n                </ng-container>\n                <ng-template #createdAt>{{ mail.created_at | momentDate: 'mail-list' }}</ng-template>\n              </span>\n            </td>\n            <td class=\"mail-status\">\n              <span class=\"mail-security-status\" [ngClass]=\"{ 'text-faded': !mail.is_protected && mail.sender !== 'support@ctemplar.com' }\">\n                <i class=\"icon icon-secured\" [ngbTooltip]=\"!mail.is_protected && mail.sender !== 'support@ctemplar.com' ? '' : ('mail_detail.encrypted' | translate)\" placement=\"left\"></i>\n              </span>\n              <a class=\"mail-status-type\" (click)=\"toggleStarred(mail)\" [ngClass]=\"{ 'is-fav': mail.starred }\">\n                <i class=\"icon icon-star-filled\" [ngClass]=\"{ 'icon-star': !mail.starred }\"></i>\n              </a>\n            </td>\n          </tr>\n        </ng-container>\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<div class=\"mailbox-footer-actionbar\" *ngIf=\"isMobile\">\n  <div class=\"row justify-content-end\">\n    <div class=\"col-12 mailbox-actionbar-col\">\n      <div class=\"mail-controls d-flex align-items-center justify-content-end\">\n        <div class=\"mail-result-text text-muted\">\n          <small>1-{{ mails?.length }} of {{ mails?.length }}</small>\n        </div>\n        <div class=\"mail-nav-control\">\n          <button role=\"button\" class=\"mail-nav-control-prev\">\n            <i class=\"icon icon-chevron-left\"></i>\n          </button>\n          <button role=\"button\" class=\"mail-nav-control-next\">\n            <i class=\"icon icon-chevron-right\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Confirm empty trash modal -->\n<ng-template #confirmEmptyTrashModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'contacts.delete.title'\">Confirm Delete</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\" [translate]=\"'settings.delete_all_message'\">\n        Are you sure, you want to delete all messages in {{ mailFolder === mailFolderTypes.TRASH ? 'trash' : 'spam' }}\n        permanently?\n      </div>\n      <div class=\"form-group text-right mb-0\">\n        <button (click)=\"d()\" class=\"btn btn-secondary btn-sm mr-2\" role=\"button\" [translate]=\"'common.cancel'\">Cancel</button>\n        <button (click)=\"emptyDeleteAllConfirmed()\" class=\"btn btn-danger btn-sm\" role=\"button\" [translate]=\"'common.delete'\">Delete</button>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.Confirm empty trash modal ends -->\n\n<!-- Confirm delete draft modal -->\n<ng-template #delateDraftModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'contacts.delete.title'\">Confirm Delete</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\" [translate]=\"'settings.delete_draft_message'\">Are you sure, you want to delete these messages? This cannot be undone.</div>\n      <div class=\"form-group text-right mb-0\">\n        <button (click)=\"d()\" class=\"btn btn-secondary btn-sm mr-2\" role=\"button\" [translate]=\"'common.cancel'\">Cancel</button>\n        <button (click)=\"deleteDraft()\" class=\"btn btn-danger btn-sm\" role=\"button\" [translate]=\"'common.delete'\">Delete</button>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.Confirm delete draft modal ends -->\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport {\n  DeleteMail,\n  EmptyFolder,\n  GetMailDetailSuccess,\n  GetMails,\n  GetUnreadMailsCount,\n  MoveMail,\n  ReadMail,\n  SetCurrentFolder,\n  StarMail,\n} from '../../../../store/actions';\nimport { AppState, MailState, SecureContent, UserState } from '../../../../store/datatypes';\nimport { EmailDisplay, Folder, Mail, MailFolderType } from '../../../../store/models';\nimport { OpenPgpService, SharedService, UsersService } from '../../../../store/services';\nimport { ComposeMailService } from '../../../../store/services/compose-mail.service';\nimport { ClearSearch } from '../../../../store/actions/search.action';\n\ndeclare let Scrambler;\n\n@UntilDestroy()\n@Component({\n  selector: 'app-generic-folder',\n  templateUrl: './generic-folder.component.html',\n  styleUrls: ['./generic-folder.component.scss'],\n})\nexport class GenericFolderComponent implements OnInit, AfterViewInit, OnDestroy {\n  @Input() mails: Mail[] = [];\n\n  @Input() mailFolder: MailFolderType;\n\n  @Input() showProgress: boolean;\n\n  @Input() fetchMails: boolean;\n\n  @ViewChild('confirmEmptyTrashModal') confirmEmptyTrashModal;\n\n  @ViewChild('delateDraftModal') delateDraftModal;\n\n  @ViewChild('input') input: ElementRef;\n\n  customFolders: Folder[];\n\n  mailFolderTypes = MailFolderType;\n\n  selectAll: boolean;\n\n  checkAll = false;\n\n  noEmailSelected = true;\n\n  isMobile: boolean;\n\n  folderName: string;\n\n  disableMoveTo: boolean;\n\n  userState: UserState;\n\n  MAX_EMAIL_PAGE_LIMIT = 1;\n\n  LIMIT = 20;\n\n  OFFSET = 0;\n\n  PAGE = 0;\n\n  MAX_DECRYPT_NUMBER = 3;\n\n  folderColors: any = {};\n\n  queueForDecryptSubject: any = [];\n\n  isEnabledToDecryptSubject = false;\n\n  private searchText: string;\n\n  private mailState: MailState;\n\n  private isInitialized: boolean;\n\n  private confirmEmptyTrashModalRef: NgbModalRef;\n\n  private delateDraftModalRef: NgbModalRef;\n\n  isMoveMailClicked = false;\n\n  isDeleteDraftClicked = false;\n\n  constructor(\n    public store: Store<AppState>,\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private sharedService: SharedService,\n    private composeMailService: ComposeMailService,\n    private cdr: ChangeDetectorRef,\n    private pgpService: OpenPgpService,\n    private authService: UsersService,\n    private modalService: NgbModal,\n  ) {}\n\n  ngOnInit() {\n    /**\n     * Get mail state from store and follow user's actions\n     */\n    this.store\n      .select(state => state.mail)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailState: MailState) => {\n        this.mailState = mailState;\n        this.showProgress = !mailState.loaded || mailState.inProgress;\n        if (this.fetchMails) {\n          this.MAX_EMAIL_PAGE_LIMIT = mailState.total_mail_count;\n          this.mails = [...mailState.mails];\n          if (this.mailFolder === MailFolderType.SENT && this.mails.length > 0) {\n            this.getMailReceiverList();\n          }\n        }\n        if (this.mailState.isMailsMoved && this.isMoveMailClicked) {\n          this.isMoveMailClicked = false;\n          this.refresh();\n        }\n        if (this.isDeleteDraftClicked) {\n          this.isDeleteDraftClicked = false;\n          this.refresh();\n        }\n        this.setIsSelectAll();\n        if (\n          (this.userState && this.userState.settings && this.userState.settings.is_subject_auto_decrypt) ||\n          this.isEnabledToDecryptSubject\n        ) {\n          this.decryptAllSubjects();\n        }\n      });\n    /**\n     * Get user's settings and custom folders\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n        this.customFolders = user.customFolders;\n        if (this.mailFolder === MailFolderType.SEARCH) {\n          user.customFolders.forEach(folder => {\n            this.folderColors[folder.name] = folder.color;\n          });\n        }\n        if (this.fetchMails && this.userState.settings && user.settings.emails_per_page) {\n          this.LIMIT = user.settings.emails_per_page;\n          if (this.LIMIT && this.mailFolder !== MailFolderType.SEARCH && !this.isInitialized) {\n            this.isInitialized = true;\n            if (this.isNeedFetchMails()) {\n              this.store.dispatch(\n                new GetMails({ limit: user.settings.emails_per_page, offset: this.OFFSET, folder: this.mailFolder }),\n              );\n            }\n            if (this.mailFolder === MailFolderType.OUTBOX) {\n              this.store.dispatch(new GetUnreadMailsCount());\n            }\n          }\n        }\n      });\n    // Search by search text\n    if (this.mailFolder === MailFolderType.SEARCH) {\n      this.activatedRoute.queryParams.pipe(untilDestroyed(this)).subscribe(parameters => {\n        if (parameters.search) {\n          this.searchText = parameters.search;\n          this.store.dispatch(\n            new GetMails({\n              forceReload: true,\n              searchText: this.searchText,\n              limit: this.LIMIT,\n              offset: this.OFFSET,\n              folder: this.mailFolder,\n            }),\n          );\n        }\n      });\n    }\n    /**\n     * Activated router management\n     */\n    this.activatedRoute.paramMap.pipe(untilDestroyed(this)).subscribe((parametersMap: any) => {\n      const { params } = parametersMap;\n      if (params) {\n        if (params.page) {\n          const page = +params.page;\n          if (page !== this.PAGE + 1) {\n            this.PAGE = page > 0 ? page - 1 : 0;\n            this.OFFSET = this.PAGE * this.LIMIT;\n            this.refresh();\n          }\n        }\n        if (params.folder) {\n          this.mailFolder = params.folder as MailFolderType;\n          this.disableMoveTo = this.mailFolder === MailFolderType.OUTBOX || this.mailFolder === MailFolderType.DRAFT;\n          this.store.dispatch(new SetCurrentFolder(this.mailFolder));\n          if (this.mailFolder !== MailFolderType.SEARCH) {\n            this.store.dispatch(new ClearSearch());\n          }\n        }\n      }\n    });\n    this.isMobile = window.innerWidth <= 768; // handle as mobile when window width is less than 768px\n    this.folderName = this.mailFolder.charAt(0).toUpperCase() + this.mailFolder.slice(1);\n\n    window.removeEventListener('beforeunload', this.authService.onBeforeLoader, true);\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.isMobile = window.innerWidth <= 768;\n  }\n\n  ngAfterViewInit() {\n    this.cdr.detectChanges();\n  }\n\n  refresh() {\n    this.store.dispatch(\n      new GetMails({\n        forceReload: true,\n        limit: this.LIMIT,\n        offset: this.OFFSET,\n        folder: this.mailFolder,\n        searchText: this.searchText,\n      }),\n    );\n    this.store.dispatch(new GetUnreadMailsCount());\n  }\n\n  getMailReceiverList() {\n    this.mails.forEach(mail => {\n      if (mail.receiver_display.length > 1) {\n        mail.receiver_list = '';\n        mail.receiver_display.forEach((item: EmailDisplay) => {\n          if (mail.sender !== item.email && item.name) {\n            if (mail.receiver_list === '') {\n              mail.receiver_list = item.name;\n            } else {\n              mail.receiver_list += `, ${item.name}`;\n            }\n          }\n        });\n      } else {\n        mail.receiver_list = mail.receiver_display.map((item: EmailDisplay) => item.name).join(', ');\n      }\n    });\n  }\n\n  selectEntire(status) {\n    if (status) {\n      this.checkAll = true;\n    } else {\n      this.checkAll = false;\n      this.markAllMails(false);\n    }\n  }\n\n  markAllMails(checkAll) {\n    if (checkAll && !this.isSomeEmailsSelected()) {\n      this.mails.map(mail => {\n        mail.marked = true;\n        return mail;\n      });\n      this.noEmailSelected = false;\n    } else {\n      this.mails.map(mail => {\n        mail.marked = false;\n        return mail;\n      });\n      this.noEmailSelected = true;\n      this.checkAll = false;\n    }\n\n    setTimeout(() => {\n      this.setIsSelectAll();\n    }, 5);\n  }\n\n  isSomeEmailsSelected() {\n    const count = this.mails.filter(mail => mail.marked).length;\n    return count > 0 && count < this.mails.length;\n  }\n\n  markAsRead(isRead = true) {\n    // Get comma separated list of mail IDs\n    const ids = this.getMailIDs();\n    if (ids) {\n      // Dispatch mark as read event to store\n      this.store.dispatch(new ReadMail({ ids, read: isRead, folder: this.mailFolder }));\n    }\n  }\n\n  toggleStarred(mail: Mail) {\n    if (mail.starred) {\n      this.store.dispatch(new StarMail({ ids: mail.id.toString(), starred: false, folder: this.mailFolder }));\n    } else {\n      this.store.dispatch(new StarMail({ ids: mail.id.toString(), starred: true, folder: this.mailFolder }));\n    }\n    mail.starred = !mail.starred;\n  }\n\n  markAsStarred(starred = true) {\n    // Get comma separated list of mail IDs\n    const ids = this.getMailIDs();\n    if (ids) {\n      // Dispatch mark as starred event to store\n      this.store.dispatch(new StarMail({ ids, starred, folder: this.mailFolder }));\n    }\n  }\n\n  isNeedRemoveStar() {\n    if (this.getMarkedMails()) {\n      const starred_mails = this.getMarkedMails().filter(mail => mail.starred) || [];\n      if (starred_mails.length > 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  isNeedAddStar() {\n    if (this.getMarkedMails()) {\n      const starred_mails = this.getMarkedMails().filter(mail => mail.starred) || [];\n      if (starred_mails.length === this.getMarkedMails().length) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  moveToTrash() {\n    if (this.mailFolder === MailFolderType.TRASH) {\n      const ids = this.getMailIDs();\n      // Dispatch permanent delete mails event.\n      if (ids) {\n        this.store.dispatch(new DeleteMail({ ids }));\n      }\n    } else {\n      this.moveToFolder(MailFolderType.TRASH);\n    }\n  }\n\n  onDecryptSubjects() {\n    if (!this.isEnabledToDecryptSubject) {\n      this.isEnabledToDecryptSubject = true;\n      this.decryptAllSubjects();\n    }\n  }\n\n  decryptAllSubjects() {\n    this.queueForDecryptSubject = this.queueForDecryptSubject.filter(decryptingMail => {\n      // Item on queue would be removed when the following condition is matched\n      // 1. decrypting is finished\n      // 2. mail doesn't be existed on mail list\n      let isExistMatchMail = false;\n      for (let i = 0; i < this.mails.length; i++) {\n        const mail = this.mails[i];\n        if (mail.id === decryptingMail) {\n          isExistMatchMail = true;\n          if (!mail.is_subject_encrypted) {\n            return false;\n          }\n        }\n      }\n      return isExistMatchMail;\n    });\n\n    for (let i = 0; i < this.mails.length; i++) {\n      if (this.queueForDecryptSubject.length < this.MAX_DECRYPT_NUMBER) {\n        const mail = this.mails[i];\n        if (mail.is_subject_encrypted && !this.queueForDecryptSubject.includes(mail.id)) {\n          this.processDecryptSubject(mail.id);\n          this.queueForDecryptSubject.push(mail.id);\n          this.scrambleText(mail.id);\n        }\n      } else {\n        break;\n      }\n    }\n  }\n\n  isSubjectDecrypting(mailID: number) {\n    const queuedMail = this.queueForDecryptSubject.filter(mail => mail === mailID);\n    return queuedMail.length > 0;\n  }\n\n  processDecryptSubject(mailId: number) {\n    const mailToDecrypt = this.mails.find(mail => {\n      return mail.id === mailId;\n    });\n    if (mailToDecrypt) {\n      setTimeout(() => {\n        this.pgpService.decrypt(mailToDecrypt.mailbox, mailToDecrypt.id, new SecureContent(mailToDecrypt), true);\n      }, 10);\n    }\n  }\n\n  confirmDeleteAll() {\n    this.confirmEmptyTrashModalRef = this.modalService.open(this.confirmEmptyTrashModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  emptyDeleteAllConfirmed() {\n    this.store.dispatch(new EmptyFolder({ folder: this.mailFolder }));\n    this.confirmEmptyTrashModalRef.dismiss();\n  }\n\n  confirmDeleteDraft() {\n    this.delateDraftModalRef = this.modalService.open(this.delateDraftModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  deleteDraft() {\n    const ids = this.getMailIDs();\n    // Dispatch permanent delete mails event.\n    if (ids) {\n      this.store.dispatch(new DeleteMail({ ids }));\n    }\n    this.delateDraftModalRef.dismiss();\n    this.isDeleteDraftClicked = true;\n  }\n\n  openMail(mail: Mail) {\n    if (this.mailFolder === MailFolderType.DRAFT && !mail.has_children) {\n      this.composeMailService.openComposeMailDialog({\n        draft: mail,\n        isFullScreen: this.userState.settings.is_composer_full_screen,\n      });\n    } else {\n      // change sender display before to open mail detail, because this sender display was for last child.\n      // TODO should be regression test for this part for sender_display_name\n      this.store.dispatch(\n        new GetMailDetailSuccess({ ...mail, sender_display: { name: mail.sender, email: mail.sender } }),\n      );\n      const queryParams: any = {};\n      if (this.mailFolder === MailFolderType.SEARCH && this.searchText) {\n        queryParams.search = this.searchText;\n      }\n      this.router.navigate([`/mail/${this.mailFolder}/page/${this.PAGE + 1}/message/`, mail.id], { queryParams });\n    }\n  }\n\n  /**\n   * @description\n   * Prime Users - Can create as many folders as they want\n   * Free Users - Only allow a maximum of 5 folders per account\n   */\n  openCreateFolderDialog() {\n    this.sharedService.openCreateFolderDialog(this.userState.isPrime, this.customFolders, {\n      self: this,\n      method: 'moveToFolder',\n    });\n  }\n\n  /**\n   * @name moveToFolder\n   * @description Move mails to selected folder type\n   * @param {MailFolderType} folder\n   */\n  moveToFolder(folder: string) {\n    const ids = this.getMailIDs();\n    if (ids) {\n      // Dispatch move to selected folder event\n      this.store.dispatch(\n        new MoveMail({\n          ids,\n          folder,\n          sourceFolder: this.mailFolder,\n          mail: this.getMarkedMails(),\n          allowUndo: true,\n          fromTrash: this.mailFolder === MailFolderType.TRASH,\n        }),\n      );\n      this.isMoveMailClicked = true;\n    }\n  }\n\n  markReadMails() {\n    this.mails.map(mail => {\n      mail.marked = mail.read;\n      return mail;\n    });\n    this.setIsSelectAll();\n  }\n\n  markUnreadMails() {\n    this.mails.map(mail => {\n      mail.marked = !mail.read;\n      return mail;\n    });\n    this.setIsSelectAll();\n  }\n\n  markStarredMails() {\n    this.mails.map(mail => {\n      mail.marked = mail.starred;\n      return mail;\n    });\n    this.setIsSelectAll();\n  }\n\n  markUnstarredMails() {\n    this.mails.map(mail => {\n      mail.marked = !mail.starred;\n      return mail;\n    });\n    this.setIsSelectAll();\n  }\n\n  setIsSelectAll() {\n    if (this.mails.length === 0) {\n      this.selectAll = false;\n      return;\n    }\n    this.selectAll = this.mails.filter(mail => mail.marked).length === this.mails.length;\n  }\n\n  prevPage() {\n    if (this.PAGE > 0) {\n      this.PAGE--;\n      this.OFFSET = this.PAGE * this.LIMIT;\n      this.store.dispatch(\n        new GetMails({\n          inProgress: true,\n          limit: this.LIMIT,\n          searchText: this.searchText,\n          offset: this.OFFSET,\n          folder: this.mailFolder,\n        }),\n      );\n      this.router.navigateByUrl(`/mail/${this.mailFolder}/page/${this.PAGE + 1}`);\n    }\n  }\n\n  nextPage() {\n    if ((this.PAGE + 1) * this.LIMIT < this.MAX_EMAIL_PAGE_LIMIT) {\n      this.OFFSET = (this.PAGE + 1) * this.LIMIT;\n      this.PAGE++;\n      this.store.dispatch(\n        new GetMails({\n          inProgress: true,\n          limit: this.LIMIT,\n          searchText: this.searchText,\n          offset: this.OFFSET,\n          folder: this.mailFolder,\n        }),\n      );\n      this.router.navigateByUrl(`/mail/${this.mailFolder}/page/${this.PAGE + 1}`);\n    }\n  }\n\n  // display scrambler while decrypt mail id\n  scrambleText(mailId) {\n    setTimeout(() => {\n      Scrambler({\n        target: `#subject-scramble-${mailId}`,\n        random: [1000, 120000],\n        speed: 70,\n        text: 'A7gHc6H66A9SAQfoBJDq4C7',\n      });\n    }, 100);\n  }\n\n  toggleEmailSelection(mail) {\n    mail.marked = !mail.marked;\n    if (mail.marked) {\n      this.noEmailSelected = false;\n    } else if (this.mails.filter(email => email.marked).length > 0) {\n      this.noEmailSelected = false;\n    } else {\n      this.noEmailSelected = true;\n    }\n    this.setIsSelectAll();\n  }\n\n  /**\n   * @name getMailIDs\n   * @description Get list of comma separated IDs from mail object list\n   * @returns {string} Comma separated IDs\n   */\n  private getMailIDs() {\n    const allString = 'all';\n    if (this.checkAll) {\n      return allString;\n    }\n    return this.getMarkedMails()\n      .map(mail => mail.id)\n      .join(',');\n  }\n\n  getMarkedMails() {\n    return this.mails.filter(mail => mail.marked);\n  }\n\n  /**\n   * @name isNeedFetchMails\n   * @description Decide to fetch the mails from the backend by checking the deicated folder is existed [store->mailState->folders]\n   * @returns {boolean} Boolean value that the mails is existed for the current folder on Store\n   */\n  private isNeedFetchMails() {\n    const info_by_folder = this.mailState.info_by_folder.get(this.mailFolder);\n    if (info_by_folder && (info_by_folder.is_not_first_page || info_by_folder.is_dirty)) {\n      return true;\n    }\n    if (this.mailState.folders) {\n      const cachedMails = this.mailState.folders.get(this.mailFolder);\n      if (cachedMails && cachedMails.length > 0) {\n        return false;\n      }\n      return true;\n    }\n    return true;\n  }\n\n  ngOnDestroy() {}\n}\n","<div [ngSwitch]=\"mailFolder\">\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.INBOX\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.INBOX\"> </app-generic-folder>\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.DRAFT\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.DRAFT\"> </app-generic-folder>\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.TRASH\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.TRASH\"> </app-generic-folder>\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.SENT\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.SENT\"> </app-generic-folder>\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.STARRED\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.STARRED\"> </app-generic-folder>\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.ARCHIVE\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.ARCHIVE\"> </app-generic-folder>\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.SPAM\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.SPAM\"> </app-generic-folder>\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.OUTBOX\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.OUTBOX\"> </app-generic-folder>\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.UNREAD\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.UNREAD\"> </app-generic-folder>\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.ALL_EMAILS\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.ALL_EMAILS\"> </app-generic-folder>\n  <app-generic-folder *ngSwitchCase=\"mailFolderTypes.SEARCH\" [fetchMails]=\"true\" [mailFolder]=\"mailFolderTypes.SEARCH\"> </app-generic-folder>\n  <ng-container *ngFor=\"let folder of customFolders\">\n    <app-generic-folder *ngSwitchCase=\"folder.name\" [fetchMails]=\"true\" [mailFolder]=\"folder.name\"></app-generic-folder>\n  </ng-container>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, UserState } from '../../store/datatypes';\nimport { Folder, MailFolderType } from '../../store/models';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail-list',\n  templateUrl: './mail-list.component.html',\n  styleUrls: ['./mail-list.component.scss'],\n})\nexport class MailListComponent implements OnInit, OnDestroy {\n  mailFolder: string = MailFolderType.INBOX;\n\n  mailFolderTypes = MailFolderType;\n\n  customFolders: Folder[] = [];\n\n  private page = 1;\n\n  constructor(public route: ActivatedRoute, private store: Store<AppState>) {}\n\n  ngOnInit() {\n    /**\n     * Get current folder and page from route\n     * Default value: folder = Inbox, page = 1\n     */\n    this.route.params.pipe(untilDestroyed(this)).subscribe(parameters => {\n      this.mailFolder = parameters.folder as MailFolderType;\n      this.page = +parameters.page;\n    });\n\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.customFolders = user.customFolders;\n      });\n  }\n\n  ngOnDestroy(): void {}\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthGuard } from '../store/services';\n\nimport { MailComponent } from './mail.component';\nimport { MailSettingsComponent } from './mail-settings/mail-settings.component';\nimport { MailDetailComponent } from './mail-detail/mail-detail.component';\nimport { MailListComponent } from './mail-list/mail-list.component';\nimport { MailContactComponent } from './mail-contact/mail-contact.component';\n\nconst routes: Routes = [\n  {\n    path: 'mail',\n    component: MailComponent,\n    canActivate: [AuthGuard],\n    children: [\n      { path: '', redirectTo: 'inbox/page/1', pathMatch: 'full' },\n      { path: 'settings', component: MailSettingsComponent },\n      { path: 'settings/:id', component: MailSettingsComponent },\n      { path: 'contacts', component: MailContactComponent },\n      { path: ':folder/page/:page', component: MailListComponent },\n      { path: ':folder/page/:page/message/:id', component: MailDetailComponent },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MailRoutingModule {}\n","<!-- Signature Section -->\n<section class=\"mailbox-section\">\n  <header class=\"ui-header ui-header-bordered\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0\">\n      <strong [translate]=\"'settings.signature'\">Signature</strong>\n    </h5>\n  </header>\n  <div class=\"mailbox-section-body mailbox-section-body-sm\">\n    <div class=\"form-content-holder\">\n      <div class=\"form-content-row\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label class=\"form-label mb-sm-0\" [translate]=\"'settings.keys.email_address'\"> E-mail address </label>\n          </div>\n          <div class=\"col-sm-7 col-md-5\">\n            <div class=\"btn-dropdown btn-dropdown-select\">\n              <div ngbDropdown class=\"dropdown-sm\">\n                <button ngbDropdownToggle class=\"dropdown-toggle\" id=\"signatureEmailAddressDropdownMenuButton\" role=\"button\">\n                  {{ selectedMailboxForSignature?.email }}\n                </button>\n                <div ngbDropdownMenu aria-labelledby=\"signatureEmailAddressDropdownMenuButton\">\n                  <a class=\"dropdown-item\" *ngFor=\"let mailbox of mailboxes\" (click)=\"selectedMailboxForSignature = mailbox\">{{ mailbox.email }}</a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <ng-container *ngIf=\"selectedMailboxForSignature\">\n        <div class=\"form-content-row\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-sm-3\">\n              <label for=\"displayName\" class=\"form-label mb-sm-0\" [translate]=\"'settings.display_name'\"> Display name </label>\n            </div>\n            <div class=\"col-sm-7 col-md-5\">\n              <input class=\"form-control form-control-sm\" id=\"displayName\" type=\"text\" maxlength=\"32\" [value]=\"selectedMailboxForSignature.display_name\" (change)=\"updateMailboxSettings(selectedMailboxForSignature, 'display_name', $event.target.value)\" [placeholder]=\"'settings.display_name' | translate\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"form-content-row\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-sm-3\">\n              <label for=\"signature\" class=\"form-label mb-sm-0\" [translate]=\"'settings.signature'\"> Signature </label>\n            </div>\n            <div class=\"col\">\n              <quill-editor id=\"signature\" [ngModel]=\"selectedMailboxForSignature.signature\" (ngModelChange)=\"onSignatureChange($event)\" [modules]=\"quillModules\" (onBlur)=\"signatureFocused(false)\" (onFocus)=\"signatureFocused(true)\"> </quill-editor>\n            </div>\n          </div>\n        </div>\n      </ng-container>\n\n      <!-- Will be used later -->\n      <div class=\"form-content-row\" *ngIf=\"false\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label class=\"form-label mb-sm-0\" [translate]=\"'settings.load_embedded_content'\"> Load embedded content </label>\n          </div>\n          <div class=\"col-sm-7 col-md-5\">\n            <div class=\"row row-sm\">\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"embeddedContentField1\" name=\"[6]\" type=\"radio\" (click)=\"updateSettings('embed_content', true)\" [checked]=\"settings?.embed_content\" />\n                  <label for=\"embeddedContentField1\" [translate]=\"'common.yes'\">Yes</label>\n                </div>\n              </div>\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"embeddedContentField2\" name=\"[6]\" type=\"radio\" (click)=\"updateSettings('embed_content', false)\" [checked]=\"!settings?.embed_content\" />\n                  <label for=\"embeddedContentField2\" [translate]=\"'common.no'\">No</label>\n                </div>\n              </div>\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"embeddedContentField3\" name=\"[6]\" type=\"radio\" disabled />\n                  <label for=\"embeddedContentField3\" [translate]=\"'settings.only_images'\"> Only images </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Will be used later -->\n      <div class=\"form-content-row\" *ngIf=\"false\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label class=\"form-label mb-sm-0\" [translate]=\"'settings.show_snippets'\"> Show snippets </label>\n          </div>\n          <div class=\"col-sm-7 col-md-5\">\n            <div class=\"row row-sm\">\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"showSnippetsField1\" name=\"[7]\" type=\"radio\" (click)=\"updateSettings('show_snippets', true)\" [checked]=\"settings?.show_snippets\" />\n                  <label for=\"showSnippetsField1\" [translate]=\"'common.yes'\">Yes</label>\n                </div>\n              </div>\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"showSnippetsField2\" name=\"[7]\" type=\"radio\" (click)=\"updateSettings('show_snippets', false)\" [checked]=\"!settings?.show_snippets\" />\n                  <label for=\"showSnippetsField2\" [translate]=\"'common.no'\">No</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n\n<!-- Aliases Section -->\n<section class=\"mailbox-section\">\n  <header class=\"ui-header ui-header-bordered\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0\">\n      <strong [translate]=\"'settings.addresses'\">Aliases</strong>\n    </h5>\n  </header>\n  <div class=\"mailbox-section-body mailbox-section-body-sm\">\n    <div class=\"form-content-holder\">\n      <div class=\"mb-3 row\">\n        <div class=\"col-6\">\n          <button type=\"button\" *ngIf=\"mailboxes?.length < settings?.email_count\" (click)=\"onAddNewAddress()\" class=\"btn btn-sm btn-secondary\">\n            <span [translate]=\"'settings.add_address'\">Add Alias</span>\n          </button>\n        </div>\n        <div class=\"col-6 text-right\">\n          <button class=\"btn btn-sm btn-secondary\" (click)=\"startReorder()\" *ngIf=\"!reorder && mailboxes?.length > 1\" [ngbTooltip]=\"'settings.reorder_addresses' | translate\" [translate]=\"'settings.reorder'\">Reorder Aliases</button>\n        </div>\n      </div>\n      <ul class=\"ui-list ui-list-styled list-styled addresses-list\">\n        <li *ngIf=\"newAddressOptions.isAddingNew\" class=\"ui-list-item ui-list-item-xs-full\">\n          <form class=\"signup-form\" [formGroup]=\"newAddressForm\" #form=\"ngForm\">\n            <div class=\"row row-xs align-items-center\">\n              <div class=\"col-sm-10\">\n                <div class=\"form-group mb-0\">\n                  <div\n                    class=\"form-inline userame-field-group\"\n                    [ngClass]=\"{\n                      'is-validate': newAddressForm.controls.username.invalid && (newAddressForm.controls.username.touched || newAddressOptions.isSubmitted)\n                    }\"\n                  >\n                    <input class=\"form-control text-dark mb-3 mb-sm-0\" id=\"new-address-username\" [placeholder]=\"'create_account.choose_username' | translate\" type=\"text\" name=\"username\" formControlName=\"username\" />\n                    <span class=\"domain-separator text-center text-dark\">@</span>\n                    <div class=\"btn-dropdown btn-dropdown-select\">\n                      <div ngbDropdown class=\"dropdown-sm\">\n                        <button ngbDropdownToggle class=\"dropdown-toggle custom-domains-dropdown\" id=\"custom-domains\" role=\"button\">\n                          <div>{{ newAddressForm.get('domain').value }}</div>\n                        </button>\n                        <div ngbDropdownMenu aria-labelledby=\"signatureEmailAddressDropdownMenuButton\">\n                          <a class=\"dropdown-item\" *ngFor=\"let customDomain of customDomains\" (click)=\"onDomainChange(customDomain)\">\n                            {{ customDomain }}\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n                    <ng-container *ngIf=\"newAddressOptions.isBusy || mailBoxesState?.inProgress; else showIcons\">\n                      <app-loading-spinner [showSpinner]=\"true\"></app-loading-spinner>\n                    </ng-container>\n                    <ng-template #showIcons>\n                      <i class=\"fas fa-check green\" *ngIf=\"newAddressOptions.usernameExists === false && !newAddressForm.controls['username'].errors\"></i>\n                      <i class=\"fas fa-times text-danger\" *ngIf=\"newAddressOptions.usernameExists === true || (newAddressForm.controls['username'].errors && newAddressForm.controls['username'].touched && newAddressOptions.isSubmitted)\"></i>\n                    </ng-template>\n                  </div>\n                  <ng-container *ngIf=\"newAddressForm.controls['username'].errors && (newAddressForm.controls['username'].touched || newAddressOptions.isSubmitted); else usernameExistsBlock\">\n                    <span class=\"validate-message\" *ngIf=\"newAddressForm.controls['username'].errors; else usernameRequiredError\">\n                      <ng-container *ngIf=\"newAddressForm.controls['username'].errors.pattern; else usernameLengthBlock\">\n                        <span [translate]=\"'settings.username_allowed_chars'\"> The username must start with a letter and end with a letter or number.It may only contain </span>\n                        <em>a-z</em>, <em>A-Z</em>, <em>0-9</em> or <em>._-</em>\n                        <span [translate]=\"'settings.username_minlen'\" *ngIf=\"!isCustomDomainSelected; else customDomainsUserNameMinLenBlock\"> characters, and minimum length is 2 characters. </span>\n                        <ng-template #customDomainsUserNameMinLenBlock>\n                          <span>characters, and minimum length is 1 character.</span>\n                        </ng-template>\n                      </ng-container>\n                      <ng-template #usernameLengthBlock>\n                        <ng-container *ngIf=\"newAddressForm.controls['username'].errors.minlength || newAddressForm.controls['username'].errors.maxlength\">\n                          <span [translate]=\"'settings.username_chars'\" *ngIf=\"!isCustomDomainSelected; else customDomainsUserNameLenBlock\"> The username must be between 2 and 64 characters. </span>\n                          <ng-template #customDomainsUserNameLenBlock>\n                            <span>The username must be between 1 and 64 characters.</span>\n                          </ng-template>\n                        </ng-container>\n                      </ng-template>\n                    </span>\n                    <ng-template #usernameRequiredError>\n                      <span class=\"validate-message\" [translate]=\"'settings.username_required'\"> The username is required. </span>\n                    </ng-template>\n                  </ng-container>\n                  <ng-template #usernameExistsBlock>\n                    <span *ngIf=\"newAddressOptions.usernameExists === true\" class=\"validate-message\" [translate]=\"'settings.alias_exist'\"> Email alias already exists. </span>\n                  </ng-template>\n                </div>\n              </div>\n              <div class=\"col-sm-2\">\n                <ul class=\"setting-actions-list d-flex align-items-center justify-content-end list-styled text-right\">\n                  <li>\n                    <button class=\"btn-link cursor-pointer\" (click)=\"submitNewAddress()\" [disabled]=\"newAddressOptions.isBusy\">\n                      <span [translate]=\"'settings.add'\">Add</span>\n                    </button>\n                  </li>\n                  <li>\n                    <button type=\"button\" class=\"btn-link p-0\" (click)=\"onDiscardNewAddress()\" role=\"button\" [disabled]=\"newAddressOptions.isBusy\">\n                      <i class=\"icon icon-garbage\"></i>\n                    </button>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </form>\n        </li>\n        <li class=\"ui-list-item ui-list-item-xs-full\" *ngFor=\"let mailbox of mailboxes; let i = index\">\n          <div class=\"row row-xs align-items-center\">\n            <div class=\"col-10 col-sm-8\">\n              <div class=\"form-label text-dark mb-0\">\n                {{ mailbox.email }}\n                <span *ngIf=\"mailbox.is_default\" class=\"badge badge-default\" [translate]=\"'settings.primary'\"> Primary </span>\n                <span *ngIf=\"!mailbox.is_enabled\" class=\"badge badge-danger\" [translate]=\"'common.disabled'\"> Disabled </span>\n              </div>\n            </div>\n            <div class=\"col-2 col-sm-4 row\">\n              <div class=\"col\" align=\"right\" *ngIf=\"reorder\">\n                <i class=\"fas fa-chevron-up cursor-pointer mr-2\" [class.hidden]=\"i === 0\" [ngbTooltip]=\"'settings.move_up' | translate\" (click)=\"sortUp(i)\"> </i>\n                <i class=\"fas fa-chevron-down cursor-pointer\" [class.hidden]=\"i === mailboxes.length - 1\" [ngbTooltip]=\"'settings.move_down' | translate\" (click)=\"sortDown(i)\"> </i>\n              </div>\n              <ul *ngIf=\"!reorder && !mailbox.inProgress\" class=\"col setting-actions-list d-flex align-items-center justify-content-end list-styled text-right\">\n                <li *ngIf=\"false\">\n                  <button type=\"button\" role=\"button\" class=\"btn-link\" (click)=\"updateDefaultEmailAddress(mailbox)\">\n                    <span [translate]=\"'settings.make_default'\">Make Default</span>\n                  </button>\n                </li>\n                <li *ngIf=\"mailbox.is_enabled && !mailbox.is_default\">\n                  <button type=\"button\" role=\"button\" class=\"btn-link\" (click)=\"updateMailboxSettings(mailbox, 'is_enabled', false)\">\n                    <span [translate]=\"'settings.disable'\">Disable</span>\n                  </button>\n                </li>\n                <li *ngIf=\"!mailbox.is_enabled\">\n                  <button type=\"button\" role=\"button\" class=\"btn-link\" (click)=\"updateMailboxSettings(mailbox, 'is_enabled', true)\">\n                    <span [translate]=\"'settings.enable'\">Enable</span>\n                  </button>\n                </li>\n                <li>\n                  <a role=\"button\" *ngIf=\"!mailbox.is_default\" (click)=\"showConfirmDeleteMailboxModal(mailbox)\" ngbTooltip=\"Delete alias\">\n                    <i class=\"icon icon-garbage\"></i>\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </li>\n      </ul>\n      <div align=\"right\" *ngIf=\"reorder\">\n        <app-loading-spinner [showSpinner]=\"reorderInProgress\"></app-loading-spinner>\n        <button class=\"btn btn-sm btn-primary mr-1\" [disabled]=\"reorderInProgress\" (click)=\"cancelOrder()\">\n          <span [translate]=\"'common.cancel'\">Cancel</span>\n        </button>\n        <button class=\"btn btn-sm btn-secondary\" [disabled]=\"reorderInProgress\" (click)=\"saveOrder()\">\n          <span [translate]=\"'settings.save_order'\">Save order</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</section>\n\n<!-- Keys Section -->\n<section class=\"mailbox-section\">\n  <header class=\"ui-header ui-header-bordered\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0\">\n      <strong [translate]=\"'settings.keys.name'\">Keys</strong>\n    </h5>\n  </header>\n  <div class=\"mailbox-section-body mailbox-section-body-sm\">\n    <div class=\"form-content-holder\">\n      <div class=\"form-content-row\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label class=\"form-label mb-sm-0\" [translate]=\"'settings.keys.email_address'\"> Email address </label>\n          </div>\n          <div class=\"col-sm-7 col-md-5\">\n            <div class=\"btn-dropdown btn-dropdown-select\">\n              <div ngbDropdown class=\"dropdown-sm\">\n                <button ngbDropdownToggle class=\"dropdown-toggle\" id=\"keyEmailAddressDropdownMenuButton\" role=\"button\">\n                  {{ selectedMailboxForKey?.email }}\n                </button>\n                <div ngbDropdownMenu aria-labelledby=\"keyEmailAddressDropdownMenuButton\" class=\"aliases-dropdown\">\n                  <a class=\"dropdown-item\" *ngFor=\"let mailbox of mailboxes\" (click)=\"onSelectedMailboxForKeyChanged(mailbox)\">\n                    {{ mailbox.email }}\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"form-content-row\">\n        <div class=\"row label-align\">\n          <div class=\"col-sm-3\">\n            <label for=\"fingerPrint\" class=\"form-label mb-sm-0\" [translate]=\"'settings.keys.fingerprint'\"> Fingerprint </label>\n          </div>\n          <div class=\"col-sm-7 col-md-5\">\n            <input class=\"form-control form-control-sm\" id=\"fingerPrint\" type=\"text\" [value]=\"selectedMailboxForKey?.fingerprint\" readonly=\"\" />\n            <ng-container *ngIf=\"selectedMailboxPublicKey\">\n              <span class=\"form-label-text mt-1\">\n                <a [href]=\"selectedMailboxPublicKey | safe: 'url'\">\n                  <strong>\n                    <u>\n                      <span [translate]=\"'settings.download_public_key'\"> Download public key </span>\n                      (4096 Bit)\n                    </u>\n                  </strong>\n                </a>\n              </span>\n              <span class=\"form-label-text mt-1\">\n                <a [href]=\"selectedMailboxPrivateKey | safe: 'url'\">\n                  <strong>\n                    <u>\n                      <span [translate]=\"'settings.download_private_key'\"> Download private key </span>\n                      (4096 Bit)\n                    </u>\n                  </strong>\n                </a>\n              </span>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n\n<!-- Confirm delete modal -->\n<ng-template #deleteAliasModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'contacts.delete.title'\">Confirm Delete</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\">\n        <span [translate]=\"'settings.delete_alias_confirm'\"> Are you sure, you want to delete alias</span>\n        <b class=\"font-italic\"> {{ mailboxToDelete?.email }}</b\n        >?\n        <div class=\"mt-3\">\n          <b class=\"warning-text\" [translate]=\"'settings.warning'\">Warning</b><br />\n          <span>Deleting alias will delete all the emails associated with it.</span>\n        </div>\n      </div>\n      <div class=\"form-group text-right mb-0\">\n        <button (click)=\"d()\" class=\"btn btn-secondary btn-sm mr-2\" role=\"button\" [translate]=\"'common.cancel'\">Cancel</button>\n        <button (click)=\"deleteMailboxConfirmed(); d()\" class=\"btn btn-danger btn-sm\" role=\"button\" [translate]=\"'common.delete'\">Delete</button>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.Confirm delete modal ends -->\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Subject } from 'rxjs/internal/Subject';\nimport ImageResize from 'quill-image-resize-module';\nimport Quill from 'quill';\n\nimport { MailSettingsService } from '../../../store/services/mail-settings.service';\nimport { MailboxSettingsUpdate } from '../../../store/actions/mail.actions';\nimport { ImageFormat, OpenPgpService, SharedService, UsersService } from '../../../store/services';\nimport { AppState, MailBoxesState, Settings, UserState } from '../../../store/datatypes';\nimport {\n  CreateMailbox,\n  DeleteMailbox,\n  SetDefaultMailbox,\n  SnackErrorPush,\n  UpdateMailboxOrder,\n} from '../../../store/actions';\nimport { Mailbox } from '../../../store/models';\nimport { PRIMARY_DOMAIN, QUILL_FORMATTING_MODULES } from '../../../shared/config';\n\n// Register quill modules and fonts and image parameters\nQuill.register('modules/imageResize', ImageResize);\nQuill.register(ImageFormat, true);\n\n@UntilDestroy()\n@Component({\n  selector: 'app-addresses-signature',\n  templateUrl: './addresses-signature.component.html',\n  styleUrls: ['./../mail-settings.component.scss', './addresses-signature.component.scss'],\n})\nexport class AddressesSignatureComponent implements OnInit, OnDestroy {\n  @ViewChild('deleteAliasModal') deleteAliasModal;\n\n  public mailBoxesState: MailBoxesState;\n\n  public mailboxes: Mailbox[];\n\n  public unmodifiedMailboxes: Mailbox[];\n\n  public currentMailBox: Mailbox;\n\n  public userState: UserState;\n\n  public selectedMailboxPublicKey: string;\n\n  public selectedMailboxPrivateKey: string;\n\n  newAddressForm: FormGroup;\n\n  newAddressOptions: any = {};\n\n  selectedMailboxForSignature: Mailbox;\n\n  selectedMailboxForKey: Mailbox;\n\n  settings: Settings;\n\n  customDomains: string[];\n\n  reorder: boolean;\n\n  reorderInProgress = false;\n\n  mailboxToDelete: Mailbox;\n\n  signatureChanged: Subject<string> = new Subject<string>();\n\n  quillModules = QUILL_FORMATTING_MODULES;\n\n  isCustomDomainSelected: boolean;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private openPgpService: OpenPgpService,\n    private usersService: UsersService,\n    private settingsService: MailSettingsService,\n    private modalService: NgbModal,\n    private store: Store<AppState>,\n  ) {}\n\n  ngOnInit() {\n    /**\n     * Get current mailbox status and update selected mailbox\n     */\n    this.store\n      .select(state => state.mailboxes)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailboxesState: MailBoxesState) => {\n        if (mailboxesState.isUpdatingOrder) {\n          this.reorderInProgress = true;\n          return;\n        }\n        if (this.reorderInProgress) {\n          this.reorderInProgress = false;\n          this.reorder = false;\n        }\n        if (\n          this.mailBoxesState &&\n          this.mailBoxesState.inProgress &&\n          !mailboxesState.inProgress &&\n          this.newAddressOptions.isBusy\n        ) {\n          this.onDiscardNewAddress();\n        }\n        this.mailBoxesState = mailboxesState;\n        this.mailboxes = mailboxesState.mailboxes;\n        if (this.mailboxes.length > 0) {\n          this.currentMailBox = mailboxesState.currentMailbox;\n          if (!this.selectedMailboxForSignature || this.selectedMailboxForSignature.id === this.currentMailBox.id) {\n            // update selected mailbox in case `currentMailbox` has been updated\n            this.selectedMailboxForSignature = mailboxesState.currentMailbox;\n          }\n          if (!this.selectedMailboxForKey || this.selectedMailboxForKey.id === this.currentMailBox.id) {\n            // update selected mailbox in case `currentMailbox` has been updated\n            this.onSelectedMailboxForKeyChanged(mailboxesState.currentMailbox);\n          }\n        }\n      });\n\n    /**\n     * Set customeDomains list from user's state\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n        this.settings = user.settings;\n        this.customDomains = user.customDomains\n          .filter(item => item.is_domain_verified && item.is_mx_verified)\n          .map(item => item.domain);\n        this.customDomains = [PRIMARY_DOMAIN, ...this.customDomains];\n      });\n\n    this.newAddressForm = this.formBuilder.group({\n      username: [\n        '',\n        [\n          Validators.required,\n          Validators.pattern(/^[a-z]+([\\da-z]*[._-]?[\\da-z]+)+$/i),\n          Validators.minLength(2),\n          Validators.maxLength(64),\n        ],\n      ],\n      domain: ['', Validators.required],\n    });\n\n    this.signatureChanged.pipe(debounceTime(3000), distinctUntilChanged()).subscribe(value => {\n      this.updateMailboxSettings(this.selectedMailboxForSignature, 'signature', value);\n    });\n\n    this.handleUsernameAvailability();\n  }\n\n  onDomainChange(customDomain: string) {\n    this.newAddressForm.get('username').reset();\n    if (customDomain !== PRIMARY_DOMAIN) {\n      this.isCustomDomainSelected = true;\n      this.newAddressForm\n        .get('username')\n        .setValidators([\n          Validators.required,\n          Validators.pattern(/^[a-z]*([\\da-z]*[._-]?[\\da-z]+)+$/i),\n          Validators.minLength(1),\n          Validators.maxLength(64),\n        ]);\n      this.newAddressForm.get('domain').setValidators([Validators.required]);\n      this.newAddressForm.get('username').updateValueAndValidity();\n    } else {\n      this.isCustomDomainSelected = false;\n\n      this.newAddressForm\n        .get('username')\n        .setValidators([\n          Validators.required,\n          Validators.pattern(/^[a-z]+([\\da-z]*[._-]?[\\da-z]+)+$/i),\n          Validators.minLength(1),\n          Validators.maxLength(64),\n        ]);\n      this.newAddressForm.get('domain').setValidators([Validators.required]);\n      this.newAddressForm.get('username').updateValueAndValidity();\n    }\n\n    this.newAddressForm.get('domain').setValue(customDomain);\n  }\n\n  onAddNewAddress() {\n    if (!this.newAddressOptions.isAddingNew) {\n      this.newAddressForm.reset();\n      this.newAddressForm.get('domain').setValue(PRIMARY_DOMAIN);\n      this.newAddressOptions = {\n        isAddingNew: true,\n      };\n    }\n  }\n\n  onDiscardNewAddress() {\n    this.newAddressForm.reset();\n    this.newAddressOptions = {\n      isAddingNew: false,\n    };\n  }\n\n  submitNewAddress() {\n    this.newAddressOptions.isSubmitted = true;\n    if (\n      this.newAddressForm.valid &&\n      this.newAddressOptions.usernameExists === false &&\n      this.newAddressForm.controls.username.value\n    ) {\n      this.newAddressOptions.isBusy = true;\n      this.openPgpService.generateUserKeys(this.userState.username, atob(this.usersService.getUserKey()));\n      if (this.openPgpService.getUserKeys()) {\n        this.addNewAddress();\n      } else {\n        this.openPgpService.waitForPGPKeys(this, 'addNewAddress');\n      }\n    }\n  }\n\n  addNewAddress() {\n    const requestData = {\n      email: this.getEmail(),\n      ...this.openPgpService.getUserKeys(),\n    };\n    this.store.dispatch(new CreateMailbox(requestData));\n  }\n\n  updateDefaultEmailAddress(selectedMailbox: Mailbox) {\n    this.store.dispatch(new SetDefaultMailbox(selectedMailbox));\n  }\n\n  onSelectedMailboxForKeyChanged(mailbox: Mailbox) {\n    this.selectedMailboxForKey = mailbox;\n    this.selectedMailboxPublicKey = `data:application/octet-stream;charset=utf-8;base64,${btoa(\n      this.selectedMailboxForKey.public_key,\n    )}`;\n    this.selectedMailboxPrivateKey = `data:application/octet-stream;charset=utf-8;base64,${btoa(\n      this.selectedMailboxForKey.private_key,\n    )}`;\n  }\n\n  onSignatureChange(value) {\n    this.signatureChanged.next(value);\n  }\n\n  signatureFocused(value) {\n    SharedService.isQuillEditorOpen = value;\n  }\n\n  updateMailboxSettings(selectedMailbox: Mailbox, key: string, value: any) {\n    if (selectedMailbox[key] !== value) {\n      selectedMailbox.inProgress = true;\n      this.store.dispatch(new MailboxSettingsUpdate({ ...selectedMailbox, [key]: value }));\n    }\n  }\n\n  showConfirmDeleteMailboxModal(mailbox: Mailbox) {\n    this.mailboxToDelete = mailbox;\n    this.modalService.open(this.deleteAliasModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n      backdrop: 'static',\n    });\n  }\n\n  deleteMailboxConfirmed() {\n    this.store.dispatch(new DeleteMailbox(this.mailboxToDelete));\n    this.mailboxes = this.mailboxes.filter(mailbox => mailbox.id !== this.mailboxToDelete.id);\n  }\n\n  sortDown(index: number) {\n    const sortOrder = this.mailboxes[index].sort_order;\n    this.mailboxes[index].sort_order = this.mailboxes[index + 1].sort_order;\n    this.mailboxes[index + 1].sort_order = sortOrder;\n    this.mailboxes.sort((a, b) => {\n      return a.sort_order - b.sort_order;\n    });\n  }\n\n  sortUp(index: number) {\n    const sortOrder = this.mailboxes[index].sort_order;\n    this.mailboxes[index].sort_order = this.mailboxes[index - 1].sort_order;\n    this.mailboxes[index - 1].sort_order = sortOrder;\n    this.mailboxes.sort((a, b) => {\n      return a.sort_order - b.sort_order;\n    });\n  }\n\n  startReorder() {\n    this.reorder = true;\n    this.unmodifiedMailboxes = this.mailboxes.map(x => ({ ...x }));\n    this.mailboxes = this.mailboxes\n      .sort((a, b) => {\n        return a.sort_order - b.sort_order;\n      })\n      .map((item, index) => {\n        item.sort_order = index + 1;\n        return item;\n      });\n  }\n\n  saveOrder() {\n    this.reorderInProgress = true;\n    const payload: any = {\n      mailboxes: this.mailboxes,\n      data: {\n        mailbox_list: this.mailboxes.map(item => {\n          return { mailbox_id: item.id, sort_order: item.sort_order };\n        }),\n      },\n    };\n    this.store.dispatch(new UpdateMailboxOrder(payload));\n  }\n\n  cancelOrder() {\n    this.reorder = false;\n    this.mailboxes = this.unmodifiedMailboxes;\n  }\n\n  private getEmail() {\n    return (\n      this.newAddressForm.controls.username.value +\n      (this.newAddressForm.controls.domain.value === PRIMARY_DOMAIN\n        ? ''\n        : `@${this.newAddressForm.controls.domain.value}`)\n    );\n  }\n\n  private handleUsernameAvailability() {\n    this.newAddressForm\n      .get('username')\n      .valueChanges.pipe(debounceTime(500), untilDestroyed(this))\n      .subscribe(username => {\n        if (!username) {\n          return;\n        }\n        if (!this.newAddressForm.controls.username.errors) {\n          this.newAddressOptions.isBusy = true;\n          this.usersService.checkUsernameAvailability(this.getEmail()).subscribe(\n            response => {\n              this.newAddressOptions.usernameExists = response.exists;\n              this.newAddressOptions.isBusy = false;\n            },\n            error => {\n              this.store.dispatch(\n                new SnackErrorPush({ message: `Failed to check username availability. ${error.error}` }),\n              );\n              this.newAddressOptions.isBusy = false;\n              this.newAddressOptions.usernameExists = null;\n            },\n          );\n        }\n      });\n  }\n\n  updateSettings(key?: string, value?: any) {\n    this.settingsService.updateSettings(this.settings, key, value);\n  }\n\n  ngOnDestroy(): void {\n    SharedService.isQuillEditorOpen = false;\n  }\n}\n","<!-- Custom Domain Section -->\n<section class=\"mailbox-section mt-4\">\n  <div class=\"mailbox-section-body pt-0\">\n    <div class=\"desc-card-holder mt-sm-3 mt-md-0\">\n      <div class=\"row\">\n        <div class=\"col-md-12 mb-4 mb-md-0\">\n          <!-- Current Domains Part -->\n          <div *ngIf=\"!isAddingNewDomain\">\n            <div class=\"desc-card\">\n              <div class=\"desc-card-header ui-header ui-header-bordered border-all-corner border-bottom-0\">\n                <h5 class=\"ui-header-subtitle text-dark mb-0 d-inline-block\">\n                  <strong [translate]=\"'settings.domains'\">Domains</strong>\n                </h5>\n                <a href=\"{{ primaryWebsite }}/help/answer/add-a-domain/\" ngbTooltip=\"Learn more\" class=\"learn-more-info-icon\" target=\"_blank\">\n                  <i class=\"far fa-question-circle\"></i>\n                </a>\n              </div>\n              <div class=\"desc-card-body bg-faded domain-body\">\n                <button class=\"btn btn-secondary btn-add-domain text-small\" *ngIf=\"userState?.isPrime && domains?.length > 0; else domainsEmpty\" (click)=\"startAddingNewDomain()\">\n                  <span [translate]=\"'settings.add_domain'\">Add Domain</span>\n                </button>\n                <ng-template #domainsEmpty>\n                  <button class=\"btn btn-secondary btn-create-domain text-small\" *ngIf=\"userState?.isPrime\" (click)=\"startAddingNewDomain()\">\n                    <span [translate]=\"'settings.create_domain'\">Create Domain</span>\n                  </button>\n                </ng-template>\n                <div class=\"py-4 error-message\" *ngIf=\"!userState?.isPrime && userState?.customDomainsLoaded\">\n                  <span [translate]=\"'settings.domains_and_users.premium_feature'\"> This is a premium feature,please</span>\n                  <a class=\"cursor-pointer\" (click)=\"gotoPricingPlans()\">\n                    &nbsp;\n                    <span [translate]=\"'settings.domains_and_users.upgrade'\">upgrade</span>\n                  </a>\n                  &nbsp;\n                  <span [translate]=\"'settings.domains_and_users.use_feature'\"> in order to use this feature. </span>\n                </div>\n\n                <app-loading-spinner [showSpinner]=\"userState?.inProgress\" class=\"loading-spinner\"> </app-loading-spinner>\n\n                <div class=\"domains-list\" *ngIf=\"domains?.length > 0\">\n                  <div class=\"row d-none d-sm-flex bg-white heading\">\n                    <div class=\"col-2\">\n                      <span class=\"text-capitalize font-weight-bold\" [translate]=\"'settings.domain'\"> Domain </span>\n                    </div>\n                    <div class=\"col-5\">\n                      <span class=\"text-capitalize font-weight-bold\" [translate]=\"'settings.current_status'\"> Current Status </span>\n                    </div>\n                    <div class=\"col-1 text-center\">\n                      <span class=\"text-capitalize font-weight-bold\" [translate]=\"'settings.addresses'\"> Aliases </span>\n                    </div>\n                    <div class=\"col-1 text-center\">\n                      <span class=\"text-capitalize font-weight-bold\" [translate]=\"'settings.domains_and_users.users'\">Users</span>\n                    </div>\n                    <div class=\"col-2 text-center\">\n                      <span class=\"text-capitalize font-weight-bold\" [translate]=\"'settings.catch_all'\"> Catch all </span>\n                    </div>\n                  </div>\n\n                  <div class=\"row d-none d-sm-flex bg-white align-items-start\" *ngFor=\"let domain of domains\">\n                    <div class=\"col-2 text-dark text-domain font-weight-bold\">{{ domain.domain }}</div>\n                    <div class=\"col-5 text-uppercase text-small d-flex flex-wrap align-content-start domain-status\">\n                      <div class=\"failed\" [class.verified]=\"domain.is_domain_verified\">\n                        <span [translate]=\"'settings.status_verification'\">Verification</span>\n                      </div>\n                      <div class=\"failed\" [class.verified]=\"domain.is_mx_verified\">\n                        <span [translate]=\"'settings.status_mx'\">\n                          <i class=\"fa fa-check\"></i>\n                          <i class=\"fa fa-exclamation\"></i>MX\n                        </span>\n                      </div>\n                      <div [class.verified]=\"domain.is_spf_verified\">\n                        <span [translate]=\"'settings.status_spf'\">\n                          <i class=\"fa fa-check\"></i>\n                          <i class=\"fa fa-exclamation\"></i>SPF\n                        </span>\n                      </div>\n                      <div [class.verified]=\"domain.is_dkim_verified\">\n                        <span [translate]=\"'settings.status_dkim'\">\n                          <i class=\"fa fa-check\"></i>\n                          <i class=\"fa fa-exclamation\"></i>DKIM\n                        </span>\n                      </div>\n                      <div [class.verified]=\"domain.is_dmarc_verified\">\n                        <span [translate]=\"'settings.status_dmarc'\">\n                          <i class=\"fa fa-check\"></i>\n                          <i class=\"fa fa-exclamation\"></i>DMARC\n                        </span>\n                      </div>\n                    </div>\n                    <div class=\"col-1 text-dark text-domain text-center\">{{ domain.number_of_aliases }}</div>\n                    <div class=\"col-1 text-dark text-domain text-center\">{{ domain.number_of_users }}</div>\n                    <div class=\"col-2 text-dark text-domain text-center\">\n                      <mat-checkbox type=\"checkbox\" [checked]=\"domain.catch_all\" (change)=\"domain.catch_all = $event.checked; updateDomain(domain)\"> </mat-checkbox>\n                    </div>\n                    <div class=\"col-1 d-flex justify-content-end actions\">\n                      <div class=\"action action-normal d-none d-md-flex d-sm-none justify-content-center align-items-center\">\n                        <a class=\"text-muted\" (click)=\"verifyDomain(domain.id, false, true)\" ngbTooltip=\"Verify dns records again.\">\n                          <i class=\"fas fa-sync-alt reverify-domain\"></i>\n                        </a>\n                      </div>\n                      <div class=\"action action-normal d-none d-md-flex d-sm-none justify-content-center align-items-center\">\n                        <a class=\"text-muted\" (click)=\"startAddingNewDomain(domain)\" [ngbTooltip]=\"'settings.edit' | translate\">\n                          <i class=\"icon icon-edit\"></i>\n                        </a>\n                      </div>\n                      <div class=\"action action-normal d-none d-md-flex d-sm-none justify-content-center align-items-center\">\n                        <a class=\"text-muted\" [ngbTooltip]=\"'settings.delete' | translate\" (click)=\"openConfirmDeleteModal(domain)\">\n                          <i class=\"icon icon-garbage\"></i>\n                        </a>\n                      </div>\n                      <div class=\"d-flex d-md-none justify-content-center align-items-center\">\n                        <div ngbDropdown class=\"d-inline-block\">\n                          <button class=\"btn bg-white action\" ngbDropdownToggle>\n                            <i class=\"fa fa-ellipsis-h\"></i>\n                          </button>\n                          <div ngbDropdownMenu class=\"dropdown-menu-right\">\n                            <button class=\"dropdown-item text-muted\" (click)=\"startAddingNewDomain(domain)\" [ngbTooltip]=\"'settings.edit' | translate\">\n                              <i class=\"icon icon-edit\"></i>\n                              <span [translate]=\"'settings.edit_details'\">Edit Details</span>\n                            </button>\n                            <button class=\"dropdown-item text-muted\" [ngbTooltip]=\"'settings.delete' | translate\" (click)=\"openConfirmDeleteModal(domain)\">\n                              <i class=\"icon icon-garbage\"></i>\n                              <span [translate]=\"'settings.remove'\">Remove</span>\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row d-block d-sm-none bg-white align-items-start mb-2\" *ngFor=\"let domain of domains\">\n                    <div class=\"pb-3 px-2\">\n                      <div class=\"d-flex\">\n                        <div class=\"align-items-center mr-auto\">\n                          <span class=\"text-uppercase text-small\" [translate]=\"'settings.domain'\">Domain</span>\n                        </div>\n                        <div class=\"d-flex actions\">\n                          <div ngbDropdown class=\"d-inline-block\">\n                            <button class=\"btn bg-white action text-right p-0\" ngbDropdownToggle>\n                              <i class=\"fa fa-ellipsis-h\"></i>\n                            </button>\n                            <div ngbDropdownMenu class=\"dropdown-menu-right\">\n                              <button class=\"dropdown-item text-muted text-small\" (click)=\"startAddingNewDomain(domain)\" [ngbTooltip]=\"'settings.edit' | translate\">\n                                <i class=\"icon icon-edit\"></i>\n                                <span [translate]=\"'settings.edit_details'\">Edit Details</span>\n                              </button>\n                              <button class=\"dropdown-item text-muted text-small\" [ngbTooltip]=\"'settings.delete' | translate\" (click)=\"openConfirmDeleteModal(domain)\">\n                                <i class=\"icon icon-garbage\"></i>\n                                <span [translate]=\"'settings.remove'\">Remove</span>\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"mb-3\">\n                        <span class=\"text-dark text-domain font-weight-bold\">{{ domain.domain }}</span>\n                      </div>\n                      <div class=\"my-2\">\n                        <span class=\"text-uppercase text-small\" [translate]=\"'settings.current_status'\"> Current Status </span>\n                      </div>\n                      <div class=\"text-uppercase text-small d-flex flex-wrap align-content-start domain-status\">\n                        <div class=\"failed\" [class.verified]=\"domain.is_domain_verified\">\n                          <span [translate]=\"'settings.status_verification'\">Verification</span>\n                        </div>\n                        <div class=\"failed\" [class.verified]=\"domain.is_mx_verified\">\n                          <span [translate]=\"'settings.status_mx'\">\n                            <i class=\"fa fa-check\"></i>\n                            <i class=\"fa fa-exclamation\"></i>MX\n                          </span>\n                        </div>\n                        <div [class.verified]=\"domain.is_spf_verified\">\n                          <span [translate]=\"'settings.status_spf'\">\n                            <i class=\"fa fa-check\"></i>\n                            <i class=\"fa fa-exclamation\"></i>SPF\n                          </span>\n                        </div>\n                        <div [class.verified]=\"domain.is_dkim_verified\">\n                          <span [translate]=\"'settings.status_dkim'\">\n                            <i class=\"fa fa-check\"></i>\n                            <i class=\"fa fa-exclamation\"></i>DKIM\n                          </span>\n                        </div>\n                        <div [class.verified]=\"domain.is_dmarc_verified\">\n                          <span [translate]=\"'settings.status_dmarc'\">\n                            <i class=\"fa fa-check\"></i>\n                            <i class=\"fa fa-exclamation\"></i>DMARC\n                          </span>\n                        </div>\n                      </div>\n                      <div class=\"my-2\">\n                        <span class=\"text-uppercase text-small\">Catch all</span>\n                      </div>\n                      <mat-checkbox type=\"checkbox\" [checked]=\"domain.catch_all\" (change)=\"domain.catch_all = $event.checked; updateDomain(domain)\"> </mat-checkbox>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"mt-4\">\n              <app-organization-users></app-organization-users>\n            </div>\n          </div>\n          <!-- Add New Domain Part -->\n          <div class=\"desc-card\" *ngIf=\"isAddingNewDomain\">\n            <div class=\"ml-3 my-3 my-sm-4\">\n              <h3 class=\"ui-header-subtitle mb-0\">\n                <strong [translate]=\"'settings.create_domain'\" *ngIf=\"!isEditing\">Create domain</strong>\n                <strong *ngIf=\"isEditing\"> <span [translate]=\"'settings.domain'\">Domain</span>: {{ newDomain?.domain }} </strong>\n              </h3>\n            </div>\n            <div class=\"desc-card-body bg-faded\">\n              <mat-vertical-stepper [selectedIndex]=\"currentStep\" #stepper>\n                <ng-template matStepperIcon=\"edit\">\n                  <i class=\"fa fa-check\"></i>\n                </ng-template>\n                <mat-step [stepControl]=\"domainNameForm\">\n                  <form [formGroup]=\"domainNameForm\">\n                    <ng-template matStepLabel>\n                      <span class=\"font-weight-bold\" [class.green]=\"newDomain?.id\" [translate]=\"'settings.add_domain_step.name'\"> Domain name </span>\n                      <span class=\"record-status px-2 py-1 font-weight-bold text-white text-small text-uppercase float-right\" [translate]=\"'settings.set'\" *ngIf=\"newDomain?.id\"> Set </span>\n                    </ng-template>\n                    <div class=\"stepper-form\">\n                      <div class=\"pb-3\">\n                        <span class=\"text-dark\" [translate]=\"'settings.add_domain_step.info'\"> Add a domain that you own to your CTemplar account. </span>\n                      </div>\n                      <div>\n                        <input class=\"domain-input text-dark form-control\" id=\"domainInput\" type=\"text\" placeholder=\"mydomain.com\" formControlName=\"domainNameCtrl\" />\n                      </div>\n                      <div *ngIf=\"userState.isError && newDomainError\" class=\"l-alert l-alert-danger mt-3\">\n                        {{ newDomainError }}\n                      </div>\n                      <div class=\"mt-3 mt-sm-4\">\n                        <button class=\"btn btn-sm btn-secondary\" (click)=\"createDomain()\">\n                          <span [translate]=\"'settings.next'\">Next</span>\n                        </button>\n                        <app-loading-spinner [showSpinner]=\"userState?.inProgress\"></app-loading-spinner>\n                      </div>\n                    </div>\n                  </form>\n                </mat-step>\n                <mat-step [stepControl]=\"verifyForm\">\n                  <form [formGroup]=\"verifyForm\">\n                    <ng-template matStepLabel>\n                      <span class=\"font-weight-bold\" [class.green]=\"newDomain?.is_domain_verified\" [translate]=\"'settings.verify_step.name'\"> Verify </span>\n                      <span class=\"text-muted ml-2\" [class.green]=\"newDomain?.is_domain_verified\" [translate]=\"'settings.required'\"> Required </span>\n                      <span class=\"record-status px-2 py-1 font-weight-bold text-white text-small text-uppercase float-right\" [translate]=\"'settings.good'\" *ngIf=\"newDomain?.is_domain_verified\"> Good </span>\n                    </ng-template>\n                    <div class=\"stepper-form\" *ngIf=\"newDomain?.id\">\n                      <div class=\"pb-3\">\n                        <span class=\"text-dark\" [innerHTML]=\"'settings.verify_step.info' | translate\">\n                          For security reasons, we need to verify that you are the owner of your domain. Please add the following code into your DNS. Do not remove it even after successful verification. This can typically be done in the control panel of your domain name registrar.<br /><br />\n                          Please add the following TXT record:\n                        </span>\n                      </div>\n                      <div class=\"domains-list\">\n                        <div class=\"row\">\n                          <div class=\"col-md-2 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.verify_step.type'\"> Type </span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.verification_record.type }}</span>\n                            </div>\n                          </div>\n                          <div class=\"col-md-2 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.verify_step.host_name'\"> Host Name </span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.verification_record.host }}</span>\n                            </div>\n                          </div>\n                          <div class=\"col-md-7 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.verify_step.value_data_points_to'\"> Value / Data / Points To </span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.verification_record.value }}</span>\n                              <button mat-icon-button (click)=\"copyToClipboard(newDomain?.verification_record.value)\" class=\"copy-btn\">\n                                <i class=\"fas fa-copy\" ngbTooltip=\"Copy to clipboard\"></i>\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div *ngIf=\"userState?.isError\" class=\"l-alert l-alert-danger mt-3\" [translate]=\"'settings.domains_and_users.domain_verification_message'\">Domain verification failed, please add above TXT record in your host DNS and try again. DNS records can take several hours to update. Once domain is verified, you can proceed to next step.</div>\n                      <ng-container *ngTemplateOutlet=\"nextButton\"></ng-container>\n                    </div>\n                  </form>\n                </mat-step>\n                <mat-step [stepControl]=\"mxForm\">\n                  <form [formGroup]=\"mxForm\">\n                    <ng-template matStepLabel>\n                      <span class=\"font-weight-bold\" [class.green]=\"newDomain?.is_mx_verified\" [translate]=\"'settings.mx_step.name'\"> MX </span>\n                      <span class=\"text-muted ml-2\" [class.green]=\"newDomain?.is_mx_verified\" [translate]=\"'settings.required'\"> Required </span>\n                      <span class=\"record-status px-2 py-1 font-weight-bold text-white text-small text-uppercase float-right\" [translate]=\"'settings.good'\" *ngIf=\"newDomain?.is_mx_verified\"> Good </span>\n                    </ng-template>\n                    <div class=\"stepper-form\" *ngIf=\"newDomain?.id\">\n                      <div class=\"pb-3\">\n                        <span class=\"text-dark\" [innerHTML]=\"'settings.mx_step.info' | translate\">\n                          Before you can receive emails for your custom domain addresses at CTemplar, you need to add the following MX record to your DNS. This can typically be done in the control panel of your domain name registrar.<br /><br />\n                          Please add the following MX record. Note, DNS records can take several hours to update.\n                        </span>\n                      </div>\n                      <div class=\"domains-list\">\n                        <div class=\"row\">\n                          <div class=\"col-md-2 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.mx_step.type'\">Type</span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.mx_record.type }}</span>\n                            </div>\n                          </div>\n                          <div class=\"col-md-2 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.mx_step.host_name'\"> Host Name </span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.mx_record.host }}</span>\n                            </div>\n                          </div>\n                          <div class=\"col-md-3 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.mx_step.value_data_points_to'\">Value / Data / Points To</span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.mx_record.value }}</span>\n                              <button mat-icon-button (click)=\"copyToClipboard(newDomain?.mx_record.value)\" class=\"copy-btn\">\n                                <i class=\"fas fa-copy\" ngbTooltip=\"Copy to clipboard\"></i>\n                              </button>\n                            </div>\n                          </div>\n                          <div class=\"col-md-4 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.mx_step.priority'\">Priority</span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.mx_record.priority }}</span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div *ngIf=\"userState?.isError\" class=\"l-alert l-alert-danger mt-3\" [translate]=\"'settings.mx_step.mx_failed_message'\">MX Record verification failed, please add above MX record in your host DNS and try again. DNS records can take several hours to update. Once MX record is verified, you can proceed to next step.</div>\n                      <ng-container *ngTemplateOutlet=\"nextButton\"></ng-container>\n                    </div>\n                  </form>\n                </mat-step>\n                <mat-step [stepControl]=\"spfForm\">\n                  <form [formGroup]=\"spfForm\">\n                    <ng-template matStepLabel>\n                      <span class=\"font-weight-bold\" [class.green]=\"newDomain?.is_spf_verified\" [translate]=\"'settings.spf_step.name'\"> SPF </span>\n                      <span class=\"text-muted ml-2\" [class.green]=\"newDomain?.is_spf_verified\" [translate]=\"'settings.recommended'\"> Recommended </span>\n                      <span class=\"record-status px-2 py-1 font-weight-bold text-white text-small text-uppercase float-right\" [translate]=\"'settings.good'\" *ngIf=\"newDomain?.is_spf_verified\"> Good </span>\n                    </ng-template>\n                    <div class=\"stepper-form\" *ngIf=\"newDomain?.id\">\n                      <div class=\"pb-3\">\n                        <span class=\"text-dark\" [innerHTML]=\"'settings.spf_step.info' | translate\">\n                          SPF is used to specify who is allowed to send email for the domain so we strongly recommend including CTemplar in your SPF record. Please add the following TXT record into your DNS. This can typically be done in the control panel of your domain name registrar.<br /><br />\n                          Please add the following TXT record. Note, DNS records can take several hours to update.\n                        </span>\n                      </div>\n                      <div class=\"domains-list\">\n                        <div class=\"row\">\n                          <div class=\"col-md-2 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.spf_step.type'\">Type</span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.spf_record.type }}</span>\n                            </div>\n                          </div>\n                          <div class=\"col-md-2 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.spf_step.host_name'\"> Host Name </span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.spf_record.host }}</span>\n                            </div>\n                          </div>\n                          <div class=\"col-md-7 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.spf_step.value_data_points_to'\">Value / Data / Points To</span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.spf_record.value }}</span>\n                              <button mat-icon-button (click)=\"copyToClipboard(newDomain?.spf_record.value)\" class=\"copy-btn\">\n                                <i class=\"fas fa-copy\" ngbTooltip=\"Copy to clipboard\"></i>\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <ng-container *ngTemplateOutlet=\"nextButton\"></ng-container>\n                    </div>\n                  </form>\n                </mat-step>\n                <mat-step [stepControl]=\"dkimForm\">\n                  <form [formGroup]=\"dkimForm\">\n                    <ng-template matStepLabel>\n                      <span class=\"font-weight-bold\" [class.green]=\"newDomain?.is_dkim_verified\" [translate]=\"'settings.dkim_step.name'\"> DKIM </span>\n                      <span class=\"text-muted ml-2\" [class.green]=\"newDomain?.is_dkim_verified\" [translate]=\"'settings.recommended'\"> Recommended </span>\n                      <span class=\"record-status px-2 py-1 font-weight-bold text-white text-small text-uppercase float-right\" [translate]=\"'settings.on'\" *ngIf=\"newDomain?.is_dkim_verified\"> On </span>\n                    </ng-template>\n                    <div class=\"stepper-form\" *ngIf=\"newDomain?.id\">\n                      <div class=\"pb-3\">\n                        <span class=\"text-dark\" [innerHTML]=\"'settings.dkim_step.info' | translate\">\n                          CTemplar supports DKIM signing for custom domains. To use DKIM authentication, please add the following TXT record into your DNS for this domain. This can typically be done in the control panel of your domain name registrar.<br /><br />\n                          Please add the follow TXT record. Note, DNS records can take several hours to update.\n                        </span>\n                      </div>\n                      <div class=\"domains-list\">\n                        <div class=\"row\">\n                          <div class=\"col-md-2 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.dkim_step.type'\">Type</span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.dkim_record.type }}</span>\n                            </div>\n                          </div>\n                          <div class=\"col-md-2 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.dkim_step.host_name'\"> Host Name </span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.dkim_record.host }}</span>\n                            </div>\n                          </div>\n                          <div class=\"col-md-7 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.dkim_step.value_data_points_to'\"> Value / Data / Points To </span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.dkim_record.value }}</span>\n                              <button mat-icon-button (click)=\"copyToClipboard(newDomain?.dkim_record.value)\" class=\"copy-btn\">\n                                <i class=\"fas fa-copy\" ngbTooltip=\"Copy to clipboard\"></i>\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <ng-container *ngTemplateOutlet=\"nextButton\"></ng-container>\n                    </div>\n                  </form>\n                </mat-step>\n                <mat-step [stepControl]=\"dmarcForm\">\n                  <form [formGroup]=\"dmarcForm\">\n                    <ng-template matStepLabel>\n                      <span class=\"font-weight-bold\" [class.green]=\"newDomain?.is_dmarc_verified\" [translate]=\"'settings.dmarc_step.name'\"> DMARC </span>\n                      <span class=\"text-muted ml-2\" [class.green]=\"newDomain?.is_dmarc_verified\" [translate]=\"'settings.optional_advanced'\"> Optional, advanced </span>\n                    </ng-template>\n                    <div class=\"stepper-form\" *ngIf=\"newDomain?.id\">\n                      <div class=\"pb-3\">\n                        <span class=\"text-dark\" [innerHTML]=\"'settings.dmarc_step.info' | translate\">\n                          CTemplar supports DKIM signing for custom domains. To use DKIM authentication, please add the following TXT record into your DNS for this domain. This can typically be done in the control panel of your domain name registrar.<br /><br />\n                          Please add the follow TXT record. Note, DNS records can take several hours to update.</span\n                        >\n                      </div>\n                      <div class=\"domains-list\">\n                        <div class=\"row\">\n                          <div class=\"col-md-2 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.dmarc_step.type'\">Type</span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.dmarc_record.type }}</span>\n                            </div>\n                          </div>\n                          <div class=\"col-md-2 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.dmarc_step.host_name'\"> Host Name </span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.dmarc_record.host }}</span>\n                            </div>\n                          </div>\n                          <div class=\"col-md-7 col-sm-12\">\n                            <div class=\"pl-sm-3\">\n                              <span class=\"text-uppercase text-small\" [translate]=\"'settings.dmarc_step.value_data_points_to'\">Value / Data / Points To</span>\n                            </div>\n                            <div class=\"bg-white px-3 py-3\">\n                              <span class=\"text-dark text-small\">{{ newDomain?.dmarc_record.value }}</span>\n                              <button mat-icon-button (click)=\"copyToClipboard(newDomain?.dmarc_record.value)\" class=\"copy-btn\">\n                                <i class=\"fas fa-copy\" ngbTooltip=\"Copy to clipboard\"></i>\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div>\n                        <button class=\"btn btn-sm btn-secondary mt-3 mt-sm-4\" (click)=\"finishAddingNewDomain()\">\n                          <span [translate]=\"'settings.next'\">Next</span>\n                        </button>\n                      </div>\n                    </div>\n                  </form>\n                </mat-step>\n              </mat-vertical-stepper>\n              <div class=\"btn-group-controls mt-3\">\n                <button class=\"btn btn-outline-secondary mr-3\" (click)=\"finishAddingNewDomain()\">\n                  <span class=\"text-small\" [translate]=\"'common.cancel'\">Cancel</span>\n                </button>\n                <button class=\"btn btn-secondary\" (click)=\"finishAddingNewDomain()\">\n                  <span class=\"text-small\" [translate]=\"'common.save'\">Save</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n\n<!-- Confirm domain delete modal -->\n<ng-template #confirmDeleteModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'contacts.delete.title'\">Confirm Delete</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\">\n        <span [translate]=\"'contacts.delete.message'\">Are you sure, you want to delete</span>\n        <strong>{{ newDomain?.domain }}</strong\n        >?<br />\n        <span class=\"warning\">\n          <span class=\"warning-text\" [translate]=\"'settings.warning'\">Warning</span>:\n          <span [translate]=\"'settings.domains_and_users.domain_deletion_message'\"> All the associated email aliases and users(if any) of this domain will also be deleted. </span>\n        </span>\n      </div>\n      <div class=\"form-group text-right mb-0\">\n        <button (click)=\"cancelDelete()\" class=\"btn btn-secondary btn-sm mr-2\" [translate]=\"'common.cancel'\" role=\"button\">Cancel</button>\n        <button (click)=\"deleteDomain()\" class=\"btn btn-danger btn-sm\" [translate]=\"'common.delete'\" role=\"button\">Delete</button>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.Confirm delete modal ends -->\n\n<ng-template #nextButton>\n  <div class=\"mt-3 mt-sm-4\">\n    <button class=\"btn btn-sm btn-secondary mr-2\" *ngIf=\"currentStep > 1\" (click)=\"verifyDomain(newDomain?.id)\">\n      <span [translate]=\"'settings.verify'\">Verify</span>\n    </button>\n\n    <button class=\"btn btn-sm btn-secondary\" (click)=\"verifyDomain(newDomain?.id, true)\">\n      <span [translate]=\"'settings.next'\">Next</span>\n    </button>\n    <app-loading-spinner [showSpinner]=\"userState?.inProgress\"></app-loading-spinner>\n  </div>\n</ng-template>\n","import { Component, EventEmitter, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgbDropdownConfig, NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { CreateDomain, DeleteDomain, GetDomains, UpdateDomain, VerifyDomain } from '../../../store/actions';\nimport { AppState, AuthState, Domain, Settings, UserState } from '../../../store/datatypes';\nimport { SharedService } from '../../../store/services';\nimport { PRIMARY_WEBSITE } from '../../../shared/config';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-custom-domains',\n  templateUrl: './custom-domains.component.html',\n  styleUrls: ['./custom-domains.component.scss'],\n})\nexport class CustomDomainsComponent implements OnInit, OnDestroy {\n  @Output() onGotoTab = new EventEmitter<string>();\n\n  @ViewChild('confirmDeleteModal') confirmDeleteModal;\n\n  userState: UserState;\n\n  authState: AuthState;\n\n  settings: Settings;\n\n  domains: Domain[] = [];\n\n  newDomain: Domain;\n\n  newDomainError: string;\n\n  isAddingNewDomain = false;\n\n  currentStep = 0;\n\n  domainNameForm: FormGroup;\n\n  verifyForm: FormGroup;\n\n  mxForm: FormGroup;\n\n  spfForm: FormGroup;\n\n  dkimForm: FormGroup;\n\n  dmarcForm: FormGroup;\n\n  isEditing: boolean;\n\n  primaryWebsite = PRIMARY_WEBSITE;\n\n  private confirmModalRef: NgbModalRef;\n\n  constructor(\n    config: NgbDropdownConfig,\n    private modalService: NgbModal,\n    private store: Store<AppState>,\n    private formBuilder: FormBuilder,\n    private sharedService: SharedService,\n  ) {\n    // customize default values of dropdowns used by this component tree\n    config.autoClose = true; // ~'outside';\n  }\n\n  ngOnInit() {\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        this.authState = authState;\n      });\n\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n        if (!user.inProgress) {\n          this.settings = user.settings;\n          this.domains = user.customDomains;\n          this.newDomain = user.newCustomDomain;\n          this.newDomainError = user.newCustomDomainError;\n          this.currentStep = user.currentCreationStep;\n        }\n      });\n\n    this.domainNameForm = this.formBuilder.group({\n      domainNameCtrl: ['', Validators.required],\n    });\n\n    this.verifyForm = this.formBuilder.group({});\n    this.mxForm = this.formBuilder.group({});\n    this.spfForm = this.formBuilder.group({});\n    this.dkimForm = this.formBuilder.group({});\n    this.dmarcForm = this.formBuilder.group({});\n  }\n\n  ngOnDestroy(): void {}\n\n  startAddingNewDomain(domain: any = null) {\n    this.newDomainError = null;\n    if (domain) {\n      this.currentStep = 1;\n      this.isEditing = true;\n      this.newDomain = domain;\n      this.isAddingNewDomain = true;\n    } else if (!this.userState.inProgress) {\n      this.currentStep = 0;\n      domain = {};\n      this.newDomain = domain;\n      this.isAddingNewDomain = true;\n      this.isEditing = false;\n    }\n  }\n\n  createDomain() {\n    const domain = this.domainNameForm.value.domainNameCtrl;\n    if (domain !== '') {\n      this.store.dispatch(new CreateDomain(domain));\n    }\n  }\n\n  copyToClipboard(text: string) {\n    this.sharedService.copyToClipboard(text);\n  }\n\n  verifyDomain(id: number, gotoNextStep = false, reverify = false) {\n    if (id !== null) {\n      this.store.dispatch(new VerifyDomain({ id, gotoNextStep, reverify, currentStep: this.currentStep }));\n    }\n  }\n\n  updateDomain(domain: Domain) {\n    this.store.dispatch(new UpdateDomain(domain));\n  }\n\n  finishAddingNewDomain() {\n    this.isAddingNewDomain = false;\n    this.currentStep = 0;\n    this.newDomain = null;\n    this.domainNameForm.setValue({ domainNameCtrl: '' });\n    this.store.dispatch(new GetDomains());\n  }\n\n  openConfirmDeleteModal(domain: Domain) {\n    if (!this.userState.inProgress) {\n      this.newDomain = domain;\n      this.confirmModalRef = this.modalService.open(this.confirmDeleteModal, {\n        centered: true,\n        windowClass: 'modal-sm users-action-modal',\n        backdrop: 'static',\n      });\n    }\n  }\n\n  cancelDelete() {\n    this.confirmModalRef.close();\n  }\n\n  deleteDomain() {\n    this.confirmModalRef.close();\n    this.store.dispatch(new DeleteDomain(this.newDomain.id));\n  }\n\n  gotoPricingPlans() {\n    this.onGotoTab.emit('dashboard-plans');\n  }\n}\n","<section class=\"mailbox-section\">\n  <header class=\"ui-header ui-header-bordered\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0\">\n      <strong [translate]=\"'page_pricing.folders'\">Folders</strong>\n      <app-loading-spinner [showSpinner]=\"userState?.inProgress && folders.length === 0\"></app-loading-spinner>\n    </h5>\n  </header>\n  <div class=\"mailbox-section-body mailbox-section-body-sm\">\n    <div class=\"form-content-holder\">\n      <button class=\"btn btn-secondary text-small mb-2\" (click)=\"addFolder()\" [ngbTooltip]=\"'mail_sidebar.add_folder' | translate\">\n        <span [translate]=\"'mail_sidebar.add_folder'\">Add Folder</span>\n      </button>\n      <button class=\"btn btn-sm btn-secondary float-right\" (click)=\"startReorder()\" *ngIf=\"!reorder && folders?.length > 1\" [ngbTooltip]=\"'settings.reorder_addresses' | translate\">\n        <span [translate]=\"'settings.reorder'\">Reorder</span>\n      </button>\n      <ng-container *ngTemplateOutlet=\"reorderButtons\"></ng-container>\n      <ul class=\"ui-list ui-list-styled list-styled folders-list\">\n        <li *ngFor=\"let folder of folders; let i = index\" class=\"ui-list-item ui-list-item-xs-full\">\n          <div class=\"row row-xs align-items-center folder-item\">\n            <div class=\"col-10 col-sm-8 show-ellipses\">\n              <span>\n                <i class=\"folder-color-box icon\" [style.background]=\"folder.color\"></i>\n              </span>\n              <span class=\"folder-name\">{{ folder.name }}</span>\n              <span class=\"folder-messages-counts\">( {{ folder.counts }}</span>\n              <span [translate]=\"'settings.conversations'\" *ngIf=\"folder.counts > 1; else elseConversation\">conversations )</span>\n              <ng-template #elseConversation>\n                <span [translate]=\"'settings.conversation'\">conversation )</span>\n              </ng-template>\n            </div>\n            <div class=\"col-2 col-sm-4\">\n              <div align=\"right\" *ngIf=\"reorder\">\n                <i class=\"fas fa-chevron-up cursor-pointer mr-2\" [class.hidden]=\"i === 0\" [ngbTooltip]=\"'settings.move_up' | translate\" (click)=\"sortUp(i)\"> </i>\n                <i class=\"fas fa-chevron-down cursor-pointer\" [class.hidden]=\"i === folders.length - 1\" [ngbTooltip]=\"'settings.move_down' | translate\" (click)=\"sortDown(i)\"> </i>\n              </div>\n              <ul *ngIf=\"!reorder\" class=\"setting-actions-list d-flex align-items-center justify-content-end list-styled text-right\">\n                <li>\n                  <a role=\"button\" (click)=\"addFolder(folder, true)\" [ngbTooltip]=\"'settings.edit_folder' | translate\">\n                    <i class=\"icon icon-edit\"></i>\n                  </a>\n                </li>\n                <li>\n                  <a role=\"button\" (click)=\"showConfirmationModal(folder)\" [ngbTooltip]=\"'settings.delete_folder' | translate\">\n                    <i class=\"icon icon-garbage\"></i>\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</section>\n<!-- Reorder folder -->\n<ng-template #reorderButtons>\n  <div align=\"right\" *ngIf=\"reorder\" class=\"float-right\">\n    <app-loading-spinner [showSpinner]=\"reorderInProgress\"></app-loading-spinner>\n    <button class=\"btn btn-sm btn-primary mr-1\" [disabled]=\"reorderInProgress\" (click)=\"cancelOrder()\">\n      <span [translate]=\"'common.cancel'\">Cancel</span>\n    </button>\n    <button class=\"btn btn-sm btn-secondary\" [disabled]=\"reorderInProgress\" (click)=\"saveOrder()\">\n      <span [translate]=\"'settings.save_order'\">Save order</span>\n    </button>\n  </div>\n</ng-template>\n\n<!-- Confirm delete folder modal -->\n<ng-template #confirmationModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'contacts.delete.title'\">Confirm Delete</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\">\n        <span [translate]=\"'settings.delete_folder_message'\">Are you sure, you want to delete folder</span>\n        <b>\"{{ selectedFolder?.name }}\"</b>?\n      </div>\n      <div class=\"form-group text-right mb-0\">\n        <button (click)=\"d()\" class=\"btn btn-secondary btn-sm mr-2\" role=\"button\">\n          <span [translate]=\"'common.cancel'\">Cancel</span>\n        </button>\n        <button (click)=\"deleteFolder()\" class=\"btn btn-danger btn-sm\" role=\"button\" [disabled]=\"userState?.inProgress\">\n          <span [translate]=\"'settings.delete'\">Delete</span>\n        </button>\n        <app-loading-spinner [showSpinner]=\"userState?.inProgress\"></app-loading-spinner>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.Confirm delete folder modal ends -->\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { Folder } from '../../../store/models';\nimport { AppState, UserState, MailState } from '../../../store/datatypes';\nimport { DeleteFolder, UpdateFolderOrder, GetCustomFolderMessageCount } from '../../../store/actions';\nimport { MAX_FOLDERS_COUNT } from '../../../shared/config';\nimport { CreateFolderComponent } from '../../dialogs/create-folder/create-folder.component';\nimport { NotificationService } from '../../../store/services/notification.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-folders',\n  templateUrl: './folders.component.html',\n  styleUrls: ['../mail-settings.component.scss', './folders.component.scss'],\n})\nexport class FoldersComponent implements OnInit, OnDestroy {\n  folders: Array<Folder> = [];\n\n  userState: UserState;\n\n  @ViewChild('confirmationModal') confirmationModal;\n\n  confirmModalRef: NgbModalRef;\n\n  selectedFolder: Folder;\n\n  reorder: boolean;\n\n  reorderInProgress = false;\n\n  private unmodifiedFolders: Array<Folder>;\n\n  private mailState: MailState;\n\n  constructor(\n    private store: Store<AppState>,\n    private modalService: NgbModal,\n    private notificationService: NotificationService,\n  ) {}\n\n  ngOnInit() {\n    /**\n     * Get list of customFolders for current user\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n        this.store.dispatch(new GetCustomFolderMessageCount());\n        if (user.inProgress) {\n          this.reorderInProgress = true;\n          return;\n        }\n        if (this.reorderInProgress) {\n          this.reorderInProgress = false;\n          this.reorder = false;\n        }\n        this.folders = [...user.customFolders];\n      });\n    /**\n     * Add message count on each custom folder\n     */\n    this.store\n      .select(state => state.mail)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailState: MailState) => {\n        this.mailState = mailState;\n        const mergeById = (a1, a2) =>\n          a1.map(itm => ({\n            ...itm,\n            ...a2.find(item => item.folder === itm.name && item),\n          }));\n\n        this.folders = mergeById(this.folders, this.mailState.customFolderMessageCount);\n      });\n  }\n\n  showConfirmationModal(folder: Folder) {\n    this.confirmModalRef = this.modalService.open(this.confirmationModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n    this.selectedFolder = folder;\n  }\n\n  /**\n   * @description\n   * Prime Users - Can create as many folders as they want\n   * Free Users - Only allow a maximum of 5 folders per account\n   */\n  // == Open NgbModal\n  addFolder(folder: Folder = { id: null, name: '', color: '' }, edit?: boolean) {\n    const options: any = {\n      centered: true,\n      windowClass: 'modal-sm mailbox-modal create-folder-modal',\n    };\n\n    if (\n      this.userState.isPrime ||\n      this.userState.customFolders === null ||\n      this.userState.customFolders.length < MAX_FOLDERS_COUNT ||\n      edit\n    ) {\n      const component = this.modalService.open(CreateFolderComponent, options).componentInstance;\n      component.folder = folder;\n    } else {\n      this.notificationService.showSnackBar('Free users can only create a maximum of 5 folders.');\n    }\n  }\n\n  deleteFolder() {\n    this.store.dispatch(new DeleteFolder(this.selectedFolder));\n    setTimeout(() => {\n      this.confirmModalRef.dismiss();\n    }, 1000);\n  }\n\n  sortDown(index: number) {\n    const sortOrder = this.folders[index].sort_order;\n    this.folders[index].sort_order = this.folders[index + 1].sort_order;\n    this.folders[index + 1].sort_order = sortOrder;\n    this.folders.sort((a, b) => {\n      return a.sort_order - b.sort_order;\n    });\n  }\n\n  sortUp(index: number) {\n    const sortOrder = this.folders[index].sort_order;\n    this.folders[index].sort_order = this.folders[index - 1].sort_order;\n    this.folders[index - 1].sort_order = sortOrder;\n    this.folders.sort((a, b) => {\n      return a.sort_order - b.sort_order;\n    });\n  }\n\n  startReorder() {\n    this.reorder = true;\n    this.unmodifiedFolders = this.folders.map(x => ({ ...x }));\n  }\n\n  saveOrder() {\n    this.reorderInProgress = true;\n    const payload: any = {\n      folders: this.folders,\n      data: {\n        folder_list: this.folders.map(item => {\n          return { folder_id: item.id, sort_order: item.sort_order };\n        }),\n      },\n    };\n    this.store.dispatch(new UpdateFolderOrder(payload));\n  }\n\n  cancelOrder() {\n    this.reorder = false;\n    this.folders = this.unmodifiedFolders;\n  }\n\n  ngOnDestroy(): void {}\n}\n","<header class=\"ui-header ui-header-bordered\">\n  <h5 class=\"ui-header-subtitle text-dark mb-0\">\n    <strong>Invitation codes</strong>\n  </h5>\n</header>\n<div class=\"mailbox-section-body mailbox-section-body-sm position-relative\">\n  <div class=\"form-content-holder\">\n    <div class=\"form-content-row\">\n      <div class=\"align-items-center\">\n        <div>\n          <div class=\"row\">\n            <div class=\"col mb-2\" align=\"left\">\n              <button type=\"button\" ngbTooltip=\"Generate an invitation code\" [disabled]=\"inProgress || !isPrime\" (click)=\"generateCode()\" class=\"btn btn-sm btn-secondary\">\n                <span>Generate a code</span>\n              </button>\n            </div>\n            <app-loading-spinner class=\"loading-spinner\" [showSpinner]=\"inProgress\"></app-loading-spinner>\n          </div>\n          <div>\n            <div *ngIf=\"!isPrime\" class=\"l-alert\">Note: Only paid customers can generate invitation codes.</div>\n            <div *ngIf=\"inviteCodes?.length > 0\">\n              <ul class=\"ui-list ui-list-styled list-styled users-list\">\n                <li class=\"ui-list-item ui-list-item-xs-full\">\n                  <div class=\"row row-xs align-items-center\">\n                    <div class=\"col-6 font-weight-bold col-item\">Code</div>\n                    <div class=\"col-3 col-item\">\n                      <div class=\"form-label mb-0 font-weight-bold\">Expiration date</div>\n                    </div>\n                    <div class=\"col-3 font-weight-bold col-item\">Is Used ?</div>\n                  </div>\n                </li>\n\n                <li class=\"ui-list-item ui-list-item-xs-full\" *ngFor=\"let inviteCode of inviteCodes\">\n                  <div class=\"row row-xs align-items-center\">\n                    <div class=\"col-6 text-dark col-item\">\n                      <span>{{ inviteCode.code }}</span>\n                      <button mat-icon-button (click)=\"copyToClipboard(inviteCode.code)\" class=\"copy-btn\">\n                        <i class=\"fas fa-copy font-20px\" ngbTooltip=\"Copy to clipboard\"></i>\n                      </button>\n                    </div>\n                    <div class=\"col-3 col-item\">\n                      <div class=\"form-label text-dark mb-0\">\n                        {{ inviteCode.expiration_date | date: 'medium' }}\n                      </div>\n                    </div>\n                    <div class=\"col-3 text-dark col-item\">\n                      <div class=\"form-label text-dark mb-0\">\n                        {{ inviteCode.is_used ? 'YES' : 'NO' }}\n                      </div>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, InviteCode, UserState } from '../../../store/datatypes';\nimport { GenerateInviteCode, GetInviteCodes } from '../../../store/actions';\nimport { PRIMARY_WEBSITE } from '../../../shared/config';\nimport { SharedService } from '../../../store/services';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-invite-codes',\n  templateUrl: './invite-codes.component.html',\n  styleUrls: ['./invite-codes.component.scss', '../mail-settings.component.scss'],\n})\nexport class InviteCodesComponent implements OnInit, OnDestroy {\n  inviteCodes: InviteCode[] = [];\n\n  inProgress: boolean;\n\n  primaryWebsite = PRIMARY_WEBSITE;\n\n  isPrime: boolean;\n\n  isLoaded: boolean;\n\n  constructor(private store: Store<AppState>, private sharedService: SharedService) {}\n\n  ngOnInit() {\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((userState: UserState) => {\n        this.inviteCodes = userState.inviteCodes;\n        this.inProgress = userState.inProgress;\n        this.isPrime = userState.isPrime;\n        if (this.isPrime && !this.isLoaded) {\n          this.isLoaded = true;\n          this.store.dispatch(new GetInviteCodes());\n        }\n      });\n  }\n\n  generateCode() {\n    this.store.dispatch(new GenerateInviteCode());\n  }\n\n  copyToClipboard(value: string) {\n    this.sharedService.copyToClipboard(value);\n  }\n\n  ngOnDestroy(): void {}\n}\n","<section class=\"mailbox-section\">\n  <header class=\"ui-header ui-header-bordered\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0\">\n      <strong [translate]=\"'settings.forwarding.autoresponder'\">Autoresponder</strong>\n      <app-loading-spinner [showSpinner]=\"userState?.inProgress\"></app-loading-spinner>\n    </h5>\n  </header>\n  <div class=\"mailbox-section-body mailbox-section-body-sm\">\n    <div class=\"form-content-holder\">\n      <div class=\"form-group col\">\n        <div class=\"toggle-switcher\">\n          <input class=\"d-none toggle-switcher-control\" id=\"autoresponder\" name=\"autoresponder\" type=\"checkbox\" [(ngModel)]=\"autoresponder.autoresponder_active\" />\n          <label for=\"autoresponder\"></label>\n          <span class=\"toggle-switcher-text\" [translate]=\"'settings.forwarding.autoresponder'\">Autoresponder</span>\n        </div>\n      </div>\n      <div class=\"form-group col\">\n        <div class=\"fancy-field-group\">\n          <input type=\"checkbox\" id=\"timeRestricted\" name=\"timeRestricted\" [(ngModel)]=\"autoresponder.is_time_range_restricted\" class=\"d-none fancy-field-control fancy-field-control-sm\" />\n          <label for=\"timeRestricted\" [translate]=\"'settings.forwarding.restrict'\">Restrict to time range</label>\n        </div>\n      </div>\n      <div class=\"form-group row col-md-8\">\n        <div class=\"col-md-12 row\">\n          <div class=\"form-group col-sm col-sm-6\">\n            <label class=\"form-inline\" [translate]=\"'settings.forwarding.start_time'\">Start Time</label>\n            <ngb-timepicker [(ngModel)]=\"startTime\" [meridian]=\"true\" [disabled]=\"!autoresponder.is_time_range_restricted\"></ngb-timepicker>\n          </div>\n          <div class=\"form-group col-sm col-sm-6\">\n            <label class=\"form-inline\" [translate]=\"'settings.forwarding.end_time'\">End Time</label>\n            <ngb-timepicker [(ngModel)]=\"endTime\" [meridian]=\"true\" [disabled]=\"!autoresponder.is_time_range_restricted\"></ngb-timepicker>\n          </div>\n        </div>\n      </div>\n      <div class=\"form-group col-md-10\">\n        <div class=\"form-group\">\n          <label for=\"autoresponseMessage\" class=\"form-inline\" [translate]=\"'settings.forwarding.auto_message'\"> Email autoresponse message </label>\n          <quill-editor id=\"autoresponseMessage\" [(ngModel)]=\"autoresponder.autoresponder_message\" [modules]=\"quillModules\" (onBlur)=\"editorFocused(false)\" (onFocus)=\"editorFocused(true)\"> </quill-editor>\n        </div>\n      </div>\n      <div class=\"form-group col\">\n        <div class=\"toggle-switcher\">\n          <input class=\"d-none toggle-switcher-control\" id=\"vacationAutoresponder\" name=\"vacationAutoresponder\" type=\"checkbox\" [(ngModel)]=\"autoresponder.vacationautoresponder_active\" />\n          <label for=\"vacationAutoresponder\"></label>\n          <span class=\"toggle-switcher-text\" [translate]=\"'settings.forwarding.vac_autoresponder'\"> Vacation Autoresponder </span>\n        </div>\n      </div>\n      <div class=\"form-group row col-md-8\">\n        <div class=\"col-md-12 row\">\n          <div class=\"form-group col-sm col-sm-6\">\n            <label class=\"form-inline\" [translate]=\"'settings.forwarding.start_time'\">Start Date</label>\n            <ngb-datepicker #startDatePicker [(ngModel)]=\"startDate\" [disabled]=\"!autoresponder.vacationautoresponder_active\" class=\"bg-white ng-datepicker ng-datepicker-265\"> </ngb-datepicker>\n          </div>\n          <div class=\"form-group col-sm col-sm-6\">\n            <label class=\"form-inline\" [translate]=\"'settings.forwarding.end_time'\">End Date</label>\n            <ngb-datepicker #endDatePicker [(ngModel)]=\"endDate\" [disabled]=\"!autoresponder.vacationautoresponder_active\" class=\"bg-white ng-datepicker ng-datepicker-265\"> </ngb-datepicker>\n          </div>\n        </div>\n      </div>\n      <div class=\"form-group col-md-10\">\n        <div class=\"form-group\">\n          <label for=\"vacationAutoresponseMessage\" class=\"form-inline\" [translate]=\"'settings.forwarding.auto_message'\"> Email autoresponse message </label>\n          <quill-editor id=\"vacationAutoresponseMessage\" [(ngModel)]=\"autoresponder.vacationautoresponder_message\" [modules]=\"quillModules\" (onBlur)=\"editorFocused(false)\" (onFocus)=\"editorFocused(true)\"> </quill-editor>\n        </div>\n      </div>\n      <div class=\"form-group col\">\n        <div class=\"fancy-field-group\">\n          <input type=\"checkbox\" id=\"onlyContacts\" name=\"onlyContacts\" [(ngModel)]=\"autoresponder.only_contacts\" class=\"d-none fancy-field-control fancy-field-control-sm\" />\n          <label for=\"onlyContacts\" [translate]=\"'settings.forwarding.send_response'\"> Only send a response to people in my contacts </label>\n        </div>\n      </div>\n      <div *ngIf=\"errorMessage\" class=\"l-alert l-alert-danger mb-3 ml-1\">\n        {{ errorMessage }}\n      </div>\n      <div class=\"form-group\">\n        <button (click)=\"save()\" [disabled]=\"userState.inProgress\" class=\"btn btn-secondary btn-sm\" [translate]=\"'common.save'\">Save</button>\n        <app-loading-spinner [showSpinner]=\"userState.inProgress\"></app-loading-spinner>\n      </div>\n    </div>\n  </div>\n</section>\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { NgbDatepicker, NgbDateStruct, NgbModal, NgbTimeStruct } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { SaveAutoResponder, SnackErrorPush } from '../../../store/actions';\nimport { AppState, AutoResponder, Settings, UserState } from '../../../store/datatypes';\nimport { DateTimeUtilService } from '../../../store/services/datetime-util.service';\nimport { SharedService } from '../../../store/services';\nimport { QUILL_FORMATTING_MODULES } from '../../../shared/config';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail-autoresponder',\n  templateUrl: './mail-autoresponder.component.html',\n  styleUrls: ['./mail-autoresponder.component.scss', '../mail-settings.component.scss'],\n})\nexport class MailAutoresponderComponent implements OnInit, OnDestroy {\n  @ViewChild('startDatePicker') startDatePicker: NgbDatepicker;\n\n  @ViewChild('endDatePicker') endDatePicker: NgbDatepicker;\n\n  userState: UserState;\n\n  settings: Settings;\n\n  autoresponder: AutoResponder = {};\n\n  startTime: NgbTimeStruct = { hour: 0, minute: 0, second: 0 };\n\n  endTime: NgbTimeStruct = { hour: 0, minute: 0, second: 0 };\n\n  startDate: NgbDateStruct;\n\n  endDate: NgbDateStruct;\n\n  errorMessage: string;\n\n  quillModules = QUILL_FORMATTING_MODULES;\n\n  constructor(\n    private store: Store<AppState>,\n    private formBuilder: FormBuilder,\n    private modalService: NgbModal,\n    private dateTimeUtilService: DateTimeUtilService,\n  ) {}\n\n  ngOnInit() {\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n        this.settings = user.settings;\n        if (user.autoresponder) {\n          this.autoresponder = user.autoresponder;\n          this.initData(this.autoresponder);\n        }\n        this.errorMessage = user.autoResponderErrorMessage;\n      });\n  }\n\n  ngOnDestroy(): void {\n    SharedService.isQuillEditorOpen = false;\n  }\n\n  /**\n   * initialize Autoresponder time and date from user's autoresponder status\n   */\n  initData(autoresponder: AutoResponder) {\n    if (autoresponder) {\n      this.startTime = autoresponder.start_time\n        ? this.dateTimeUtilService.getNgbTimeStructFromTimeStr(autoresponder.start_time, 'HH:mm:ss')\n        : { hour: 0, minute: 0, second: 0 };\n      this.endTime = autoresponder.end_time\n        ? this.dateTimeUtilService.getNgbTimeStructFromTimeStr(autoresponder.end_time, 'HH:mm:ss')\n        : { hour: 0, minute: 0, second: 0 };\n      this.startDate = autoresponder.start_date\n        ? this.dateTimeUtilService.getNgbDateStructFromDateStr(autoresponder.start_date, 'YYYY-MM-DD')\n        : null;\n      this.endDate = autoresponder.end_date\n        ? this.dateTimeUtilService.getNgbDateStructFromDateStr(autoresponder.end_date, 'YYYY-MM-DD')\n        : null;\n      if (this.startDate && this.startDatePicker) {\n        this.startDatePicker.navigateTo(this.startDate);\n      }\n      if (this.endDate && this.endDatePicker) {\n        this.endDatePicker.navigateTo(this.endDate);\n      }\n    }\n  }\n\n  save() {\n    // save user's choice for autoresponder\n    if (this.autoresponder.is_time_range_restricted) {\n      this.autoresponder.start_time = this.dateTimeUtilService.createTimeStrFromNgbTimeStruct(\n        this.startTime,\n        'HH:mm:ss',\n      );\n      this.autoresponder.end_time = this.dateTimeUtilService.createTimeStrFromNgbTimeStruct(this.endTime, 'HH:mm:ss');\n      if (this.dateTimeUtilService.isBefore(this.autoresponder.end_time, this.autoresponder.start_time, 'HH:mm:ss')) {\n        this.store.dispatch(new SnackErrorPush({ message: 'End time cannot be before start time.' }));\n        return;\n      }\n    }\n    if (this.autoresponder.vacationautoresponder_active) {\n      this.autoresponder.start_date = this.startDate\n        ? this.dateTimeUtilService.createDateStrFromNgbDateStruct(this.startDate, 'YYYY-MM-DD')\n        : null;\n      this.autoresponder.end_date = this.endDate\n        ? this.dateTimeUtilService.createDateStrFromNgbDateStruct(this.endDate, 'YYYY-MM-DD')\n        : null;\n      if (\n        this.autoresponder.end_date &&\n        this.autoresponder.start_date &&\n        this.dateTimeUtilService.isBefore(this.autoresponder.end_date, this.autoresponder.start_date)\n      ) {\n        this.store.dispatch(new SnackErrorPush({ message: 'End date cannot be before start date.' }));\n        return;\n      }\n    }\n    this.store.dispatch(new SaveAutoResponder(this.autoresponder));\n  }\n\n  editorFocused(value: boolean) {\n    SharedService.isQuillEditorOpen = value;\n  }\n}\n","<section class=\"mailbox-section\">\n  <header class=\"ui-header ui-header-bordered\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0\">\n      <strong [translate]=\"'settings.filters.name'\">Filters</strong>\n      <app-loading-spinner [showSpinner]=\"userState?.inProgress\"></app-loading-spinner>\n    </h5>\n  </header>\n  <div class=\"mailbox-section-body mailbox-section-body-sm\">\n    <div class=\"form-content-holder\">\n      <ul class=\"ui-list ui-list-styled list-styled\">\n        <li *ngFor=\"let filter of filters\" class=\"ui-list-item ui-list-item-xs-full\">\n          <div class=\"row row-xs align-items-center\">\n            <div class=\"col-10 col-sm-8 show-ellipses\">\n              {{ filter.name }}\n            </div>\n            <div class=\"col-2 col-sm-4\">\n              <ul class=\"setting-actions-list d-flex align-items-center justify-content-end list-styled text-right\">\n                <li>\n                  <a (click)=\"openCustomFilterModal(filter)\" role=\"button\">\n                    <i class=\"icon icon-edit\"></i>\n                  </a>\n                </li>\n                <li>\n                  <a (click)=\"confirmDeleteFilter(filter)\" role=\"button\">\n                    <i class=\"icon icon-garbage\"></i>\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </li>\n      </ul>\n      <div class=\"info-card\">\n        <p [translate]=\"'settings.filters.add_filter'\">Add a filter to perform actions such as automatically labeling or archiving.</p>\n        <a href=\"javascript:void(0);\" class=\"text-uppercase btn-link\" role=\"button\" (click)=\"openCustomFilterModal()\">\n          <strong>\n            <u [translate]=\"'settings.filters.add_custom_filter'\"> Add custom filter </u>\n          </strong>\n        </a>\n      </div>\n    </div>\n  </div>\n</section>\n\n<!-- Add custom filter Modal -->\n<ng-template #customFilterModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\" id=\"customFilterModalLabel\">\n      <strong [translate]=\"'settings.filters.custom_filter'\"> Custom filter </strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <form ngNativeValidate class=\"signup-form\" [formGroup]=\"createFilterForm\" (submit)=\"onSubmit()\">\n    <div class=\"modal-body bg-faded\">\n      <div class=\"form-content-holder\">\n        <div class=\"form-group\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-sm-3\">\n              <label class=\"form-label mb-sm-0\" for=\"filterName\">\n                <span [translate]=\"'settings.filters.filter_name'\"> Filter name </span>\n                :\n              </label>\n            </div>\n            <div class=\"col-sm-9\">\n              <div class=\"form-content-row mb-0\">\n                <input class=\"form-control form-control-sm\" id=\"filterName\" type=\"text\" formControlName=\"name\" />\n                <span class=\"validate-message\" *ngIf=\"hasDuplicateFilterName\" [translate]=\"'settings.filters.filter_name_exist'\"> Filter name already exists. </span>\n                <span *ngIf=\"createFilterForm.controls['name'].errors && createFilterForm.controls['name'].touched\" id=\"username-valid\" class=\"validate-message\">\n                  <span *ngIf=\"createFilterForm.controls['name'].errors.required\" [translate]=\"'settings.filters.filter_name_req'\"> Filter name is required. </span>\n                  <span *ngIf=\"createFilterForm.controls['name'].errors.maxlength\" [translate]=\"'settings.filters.filter_name_char'\"> Filter name must be less than 64 characters. </span>\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"form-group\">\n          <div class=\"row\">\n            <div class=\"col-sm-3\">\n              <label class=\"form-label mb-sm-0\" [translate]=\"'settings.filters.conditions'\"> Condition: </label>\n            </div>\n            <div class=\"col-sm-9\">\n              <div class=\"form-content-row form-content-row-sm\">\n                <div class=\"btn-dropdown btn-dropdown-select\">\n                  <div ngbDropdown class=\"dropdown-sm\">\n                    <button type=\"button\" ngbDropdownToggle id=\"filterParameterDropdownMenuBtn\" role=\"button\">\n                      <span *ngIf=\"createFilterData.parameter; else selectCondition\">\n                        {{ 'If the ' + createFilterData.parameter }}\n                      </span>\n                      <ng-template #selectCondition>\n                        <span [translate]=\"'settings.filters.select_condition'\"> Select condition </span>\n                      </ng-template>\n                    </button>\n                    <div ngbDropdownMenu aria-labelledby=\"filterParameterDropdownMenuBtn\">\n                      <a (click)=\"createFilterData.parameter = filterParameter.SUBJECT\" class=\"dropdown-item\">\n                        <span [translate]=\"'settings.filters.if_subject'\">If the subject</span>\n                      </a>\n                      <a (click)=\"createFilterData.parameter = filterParameter.SENDER\" class=\"dropdown-item\">\n                        <span [translate]=\"'settings.filters.if_sender'\">If the sender</span>\n                      </a>\n                      <a (click)=\"createFilterData.parameter = filterParameter.RECIPIENT\" class=\"dropdown-item\">\n                        <span>If the receiver</span>\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row form-content-row-sm\">\n                <div class=\"btn-dropdown btn-dropdown-select\">\n                  <div ngbDropdown class=\"dropdown-sm\">\n                    <button type=\"button\" ngbDropdownToggle id=\"filterConditionDropdownMenuBtn\" role=\"button\" [disabled]=\"!createFilterData.parameter\">\n                      {{ createFilterData.condition === filterCondition.STARTSWITH ? 'starts with' : createFilterData.condition }}\n                    </button>\n                    <div ngbDropdownMenu class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"filterConditionDropdownMenuBtn\">\n                      <a (click)=\"createFilterData.condition = filterCondition.CONTAINS\" class=\"dropdown-item\" [translate]=\"'settings.contains'\"> contains </a>\n                      <a (click)=\"createFilterData.condition = filterCondition.STARTSWITH\" class=\"dropdown-item\">\n                        <span [translate]=\"'settings.filters.starts_with'\">starts with</span>\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row mb-0\">\n                <input *ngIf=\"!createFilterData.condition; else showFilterTextField\" type=\"text\" class=\"form-control form-control-sm\" [placeholder]=\"'settings.filters.text_or_pattern' | translate\" disabled />\n                <ng-template #showFilterTextField>\n                  <input type=\"text\" id=\"filterTextField\" formControlName=\"filterText\" class=\"form-control form-control-sm\" placeholder=\"text or pattern\" />\n                </ng-template>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"form-group mb-0\">\n          <div class=\"row\">\n            <div class=\"col-sm-3\">\n              <label class=\"form-label mb-sm-0\" [translate]=\"'settings.filters.actions'\">Actions:</label>\n            </div>\n            <div class=\"col-sm-9\">\n              <div class=\"form-content-row form-content-row-sm\">\n                <div class=\"row row-sm align-items-center\">\n                  <div class=\"col-sm-4\">\n                    <div class=\"fancy-field-group\">\n                      <input formControlName=\"moveTo\" id=\"filterMoveTo\" class=\"d-none fancy-field-control fancy-field-control-sm\" type=\"checkbox\" />\n                      <label for=\"filterMoveTo\" [translate]=\"'settings.filters.move_to'\">move to</label>\n                    </div>\n                  </div>\n                  <div class=\"col-sm-8\">\n                    <div class=\"btn-dropdown btn-dropdown-select\">\n                      <div ngbDropdown class=\"dropdown-sm\">\n                        <button type=\"button\" ngbDropdownToggle class=\"has-icon text-capitalize\" id=\"filterFolderDropdownMenuBtn\" role=\"button\" [disabled]=\"!createFilterForm.controls['moveTo'].value\">\n                          <i class=\"icon icon-{{ folderIcons[createFilterData.folder] || 'icon-folder' }}\"></i>\n                          <span *ngIf=\"!createFilterData.folder; else selectFolder\" [translate]=\"'settings.filters.select_folder'\"> Select folder </span>\n                          <ng-template #selectFolder>{{ createFilterData.folder }} </ng-template>\n                        </button>\n                        <div ngbDropdownMenu aria-labelledby=\"filterFolderDropdownMenuBtn\" class=\"folder-dropdown\">\n                          <a (click)=\"createFilterData.folder = mailFolderType.INBOX\" class=\"dropdown-item has-icon\">\n                            <i class=\"icon {{ folderIcons[mailFolderType.INBOX] }}\"></i>\n                            <span [translate]=\"'mail_sidebar.inbox'\">Inbox</span>\n                          </a>\n                          <a (click)=\"createFilterData.folder = mailFolderType.ARCHIVE\" class=\"dropdown-item has-icon\">\n                            <i class=\"icon {{ folderIcons[mailFolderType.ARCHIVE] }}\"></i>\n                            <span [translate]=\"'mail_sidebar.archive'\">Archive</span>\n                          </a>\n                          <a (click)=\"createFilterData.folder = mailFolderType.SPAM\" class=\"dropdown-item has-icon\">\n                            <i class=\"icon {{ folderIcons[mailFolderType.SPAM] }}\"></i>\n                            <span [translate]=\"'mail_sidebar.spam'\">Spam</span>\n                          </a>\n                          <a (click)=\"createFilterData.folder = mailFolderType.TRASH\" class=\"dropdown-item has-icon\">\n                            <i class=\"icon {{ folderIcons[mailFolderType.TRASH] }}\"></i>\n                            <span [translate]=\"'mail_sidebar.trash'\">Trash</span>\n                          </a>\n                          <a *ngFor=\"let folder of customFolders\" class=\"dropdown-item has-icon\" (click)=\"createFilterData.folder = folder.name\">\n                            <i class=\"icon icon-folder\"></i>\n                            <p class=\"folder-dropdown-item\">{{ folder.name }}</p>\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row\">\n                <div class=\"row row-sm align-items-center\">\n                  <div class=\"col-6 flex-auto-col\">\n                    <div class=\"fancy-field-group\">\n                      <input formControlName=\"markAsRead\" id=\"filterMarkAsRead\" class=\"d-none fancy-field-control fancy-field-control-sm\" type=\"checkbox\" />\n                      <label for=\"filterMarkAsRead\" [translate]=\"'mail_list.mark_as_read'\">mark as read</label>\n                    </div>\n                  </div>\n                  <div class=\"col-8 flex-auto-col\">\n                    <div class=\"fancy-field-group\">\n                      <input formControlName=\"markAsStarred\" id=\"filterMarkAsStarred\" class=\"d-none fancy-field-control fancy-field-control-sm\" type=\"checkbox\" />\n                      <label for=\"filterMarkAsStarred\" [translate]=\"'settings.filters.mark_as_starred'\"> mark as starred </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div *ngIf=\"errorMessage\" class=\"l-alert l-alert-danger mt-3\">\n        {{ errorMessage }}\n      </div>\n    </div>\n    <div class=\"modal-footer justify-content-center justify-content-sm-end\">\n      <button class=\"btn btn-secondary btn-sm\" type=\"submit\" [disabled]=\"userState?.inProgress\" [translate]=\"'billing_info.submit'\">Submit</button>\n      <app-loading-spinner [showSpinner]=\"userState?.inProgress\"></app-loading-spinner>\n    </div>\n  </form> </ng-template\n><!-- /.Add custom filter ends -->\n\n<!-- Confirm delete filter modal -->\n<ng-template #deleteFilterModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'contacts.delete.title'\">Confirm Delete</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\">\n        <span [translate]=\"'settings.filters.delete_message'\"> Are you sure, you want to delete filter</span>\n        <b>\"{{ selectedFilter?.name }}\"</b>?\n      </div>\n      <div class=\"form-group text-right mb-0\">\n        <button (click)=\"d()\" class=\"btn btn-secondary btn-sm mr-2\" role=\"button\" [translate]=\"'common.cancel'\">Cancel</button>\n        <button (click)=\"deleteFilter()\" class=\"btn btn-danger btn-sm\" role=\"button\">Delete</button>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.Confirm delete filter modal ends -->\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { CreateFilter, DeleteFilter, UpdateFilter } from '../../../store/actions';\nimport { AppState, UserState } from '../../../store/datatypes';\nimport { Folder, MailFolderType } from '../../../store/models';\nimport { Filter, FilterCondition, FilterParameter } from '../../../store/models/filter.model';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail-filters',\n  templateUrl: './mail-filters.component.html',\n  styleUrls: ['../mail-settings.component.scss'],\n})\nexport class MailFiltersComponent implements OnInit, OnDestroy {\n  readonly folderIcons: any = {\n    [MailFolderType.INBOX]: 'icon-inbox',\n    [MailFolderType.ARCHIVE]: 'icon-archive',\n    [MailFolderType.TRASH]: 'icon-garbage',\n    [MailFolderType.SPAM]: 'icon-warning',\n  };\n\n  @ViewChild('customFilterModal') customFilterModal;\n\n  @ViewChild('deleteFilterModal') deleteFilterModal;\n\n  mailFolderType = MailFolderType;\n\n  filterCondition = FilterCondition;\n\n  filterParameter = FilterParameter;\n\n  filters: Filter[];\n\n  userState: UserState;\n\n  customFolders: Folder[];\n\n  createFilterForm: FormGroup;\n\n  createFilterData: any;\n\n  errorMessage: string;\n\n  selectedFilter: Filter;\n\n  hasDuplicateFilterName: boolean;\n\n  private customFilterModalRef: NgbModalRef;\n\n  private deleteFilterModalRef: NgbModalRef;\n\n  constructor(private store: Store<AppState>, private formBuilder: FormBuilder, private modalService: NgbModal) {}\n\n  ngOnInit() {\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((userState: UserState) => {\n        this.filters = userState.filters;\n        this.customFolders = userState.customFolders;\n        if (\n          this.userState &&\n          this.userState.inProgress &&\n          this.customFilterModalRef &&\n          !userState.inProgress &&\n          !userState.filtersError\n        ) {\n          this.customFilterModalRef.dismiss();\n        }\n        this.errorMessage = userState.filtersError;\n        this.userState = userState;\n      });\n\n    this.createFilterForm = this.formBuilder.group({\n      name: ['', [Validators.required, Validators.maxLength(64)]],\n      filterText: [''],\n      moveTo: [false],\n      markAsRead: [false],\n      markAsStarred: [false],\n    });\n\n    this.createFilterForm\n      .get('name')\n      .valueChanges.pipe(untilDestroyed(this))\n      .subscribe((value: string) => {\n        this.checkFilterExist(value);\n      });\n\n    this.createFilterForm\n      .get('moveTo')\n      .valueChanges.pipe(untilDestroyed(this))\n      .subscribe(value => {\n        if (!value && this.createFilterData) {\n          this.createFilterData.folder = null;\n        }\n      });\n  }\n\n  ngOnDestroy(): void {}\n\n  openCustomFilterModal(selectedFilter?: Filter) {\n    this.errorMessage = null;\n    this.hasDuplicateFilterName = false;\n    this.createFilterForm.reset();\n    if (selectedFilter) {\n      this.createFilterData = { ...selectedFilter };\n      this.selectedFilter = selectedFilter;\n      this.createFilterForm.get('name').setValue(selectedFilter.name);\n      this.createFilterForm.get('filterText').setValue(selectedFilter.filter_text);\n      this.createFilterForm.get('moveTo').setValue(selectedFilter.move_to);\n      this.createFilterForm.get('markAsRead').setValue(selectedFilter.mark_as_read);\n      this.createFilterForm.get('markAsStarred').setValue(selectedFilter.mark_as_starred);\n    } else {\n      this.createFilterData = {};\n      this.selectedFilter = null;\n    }\n    this.customFilterModalRef = this.modalService.open(this.customFilterModal, {\n      centered: true,\n      windowClass: 'modal-sm',\n    });\n  }\n\n  /**\n   * Save custom filter's form content\n   */\n  onSubmit() {\n    this.errorMessage = null;\n    if (this.createFilterForm.valid && !this.hasDuplicateFilterName) {\n      const data = {\n        ...this.createFilterData,\n        name: this.createFilterForm.get('name').value,\n        filter_text: this.createFilterForm.get('filterText').value,\n        move_to: this.createFilterForm.get('moveTo').value || false,\n        mark_as_read: this.createFilterForm.get('markAsRead').value || false,\n        mark_as_starred: this.createFilterForm.get('markAsStarred').value || false,\n      };\n      if (!data.condition || !data.parameter) {\n        this.errorMessage = 'Please select a condition.';\n      } else if (!data.filter_text) {\n        this.errorMessage = 'Please enter some text or pattern.';\n      } else if (data.move_to && !data.folder) {\n        this.errorMessage = 'Please select a folder.';\n      } else if (data.id) {\n        this.store.dispatch(new UpdateFilter(data));\n      } else {\n        this.store.dispatch(new CreateFilter(data));\n      }\n    }\n  }\n\n  confirmDeleteFilter(filter: Filter) {\n    this.selectedFilter = filter;\n    this.deleteFilterModalRef = this.modalService.open(this.deleteFilterModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  deleteFilter() {\n    if (this.selectedFilter) {\n      this.store.dispatch(new DeleteFilter(this.selectedFilter));\n      this.deleteFilterModalRef.dismiss();\n    }\n  }\n\n  private checkFilterExist(value: string) {\n    if (value) {\n      if (this.selectedFilter && this.selectedFilter.name.toLowerCase() === value.toLowerCase()) {\n        this.hasDuplicateFilterName = false;\n      } else if (this.filters.find(filter => value && filter.name.toLowerCase() === value.toLowerCase())) {\n        this.hasDuplicateFilterName = true;\n        return true;\n      }\n    }\n    this.hasDuplicateFilterName = false;\n    return false;\n  }\n}\n","<section class=\"mailbox-section\">\n  <header class=\"ui-header ui-header-bordered\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0\">\n      <strong [translate]=\"'settings.forwarding.title'\">Forwarding</strong>\n      <app-loading-spinner [showSpinner]=\"userState?.inProgress\"></app-loading-spinner>\n    </h5>\n  </header>\n  <div class=\"mailbox-section-body mailbox-section-body-sm\">\n    <div class=\"form-content-holder col-sm col-sm-8\">\n      <ul class=\"ui-list ui-list-styled list-styled\" *ngIf=\"settings?.enable_forwarding; else addForwardingAddress\">\n        <li class=\"ui-list-item ui-list-item-xs-full\">\n          <div class=\"row row-xs align-items-center\">\n            <div class=\"col-10 col-sm-8 show-ellipses\">\n              {{ settings.forwarding_address }}\n            </div>\n            <div class=\"col-2 col-sm-4\">\n              <ul class=\"setting-actions-list d-flex align-items-center justify-content-end list-styled text-right\">\n                <li>\n                  <a (click)=\"onEditAddress()\" role=\"button\">\n                    <i class=\"icon icon-edit\"></i>\n                  </a>\n                </li>\n                <li>\n                  <a (click)=\"onDeleteAddress()\" role=\"button\">\n                    <i class=\"icon icon-garbage\"></i>\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </li>\n      </ul>\n      <div class=\"row row-xs align-items-center\" *ngIf=\"settings.enable_forwarding\">\n        <input type=\"checkbox\" id=\"copyForwarding\" name=\"copyForwarding\" [(ngModel)]=\"settings.enable_copy_forwarding\" (ngModelChange)=\"changeKeepCopy($event)\" class=\"d-none fancy-field-control fancy-field-control-sm\" />\n        <label for=\"copyForwarding\" [translate]=\"'settings.forwarding.keep_copy'\"> Keep a copy of forwarded messages </label>\n      </div>\n      <ng-template #addForwardingAddress>\n        <div class=\"info-card\">\n          <p [translate]=\"'settings.forwarding.auto_forward'\">You can automatically forward your messages to another address.</p>\n          <a href=\"javascript:void(0);\" class=\"text-uppercase btn-link\" role=\"button\" (click)=\"onAddAddress()\">\n            <strong>\n              <u [translate]=\"'settings.forwarding.add_address'\"> Add a forwarding address </u>\n            </strong>\n          </a>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</section>\n\n<!-- Add forwarding address modal -->\n<ng-template #addAddressModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'settings.forwarding.add_address'\"> Add a forwarding address </strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <!-- when verification code is not sent to provided email address -->\n  <form *ngIf=\"!isVerificationCodeSent; else codeSent\" [formGroup]=\"emailForm\" (submit)=\"onAddAddressSubmit()\">\n    <div class=\"modal-body bg-faded\">\n      <div class=\"text-holder text-dark text-medium\">\n        <p [translate]=\"'settings.forwarding.enter_email'\">Please enter a forwarding email address.</p>\n        <div class=\"mx-auto mt-2 pt-sm-2\">\n          <div class=\"form\">\n            <div class=\"form-group form-group-sm\">\n              <label for=\"forwardingAddress\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'settings.forwarding.address'\"> Forwarding Address </label>\n              <input class=\"form-control text-dark\" id=\"forwardingAddress\" autocomplete=\"off\" [placeholder]=\"'settings.forwarding.address' | translate\" type=\"email\" name=\"forwardingAddress\" formControlName=\"email\" required />\n              <ng-container *ngIf=\"emailForm.controls['email'].errors && showFormErrorMessages\">\n                <span *ngIf=\"emailForm.controls['email'].errors.required\" class=\"validate-message\" [translate]=\"'settings.forwarding.address_req'\"> The address is required. </span>\n                <span *ngIf=\"emailForm.controls['email'].errors.pattern\" class=\"validate-message\" [translate]=\"'settings.forwarding.address_invalid'\"> The address is invalid. </span>\n              </ng-container>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"text-center mt-2\">\n        <a (click)=\"isVerificationCodeSent = true; showFormErrorMessages = false; errorMessage = null\" role=\"button\">\n          <small>\n            <u [translate]=\"'settings.forwarding.code_message'\">Already have the code</u>\n          </small>\n        </a>\n      </div>\n      <div *ngIf=\"errorMessage\" class=\"l-alert l-alert-danger mb-3\">\n        {{ errorMessage }}\n      </div>\n    </div>\n    <div class=\"modal-footer justify-content-center justify-content-sm-end\">\n      <button class=\"btn btn-default btn-sm\" type=\"reset\" (click)=\"d()\">\n        <span [translate]=\"'common.cancel'\">Cancel</span>\n      </button>\n      <button class=\"btn btn-secondary btn-sm\" type=\"submit\" [disabled]=\"userState.inProgress\">\n        <span [translate]=\"'billing_info.submit'\">Submit</span>\n      </button>\n      <app-loading-spinner [showSpinner]=\"userState.inProgress\"></app-loading-spinner>\n    </div>\n  </form>\n  <!-- when verification code is sent to provided email address -->\n  <ng-template #codeSent>\n    <form [formGroup]=\"codeForm\" (submit)=\"onVerifyCodeSubmit()\">\n      <div class=\"modal-body bg-faded\">\n        <div class=\"text-holder text-dark text-medium\">\n          <p [translate]=\"'settings.forwarding.enter_code'\">Please enter the verification code sent to provided email address.</p>\n          <div class=\"mx-auto mt-2 pt-sm-2\">\n            <div class=\"form\">\n              <div class=\"form-group form-group-sm\">\n                <label for=\"verifyForwardingAddress\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'settings.forwarding.address'\"> Forwarding Address </label>\n                <input class=\"form-control text-dark\" id=\"verifyForwardingAddress\" autocomplete=\"off\" [placeholder]=\"'settings.forwarding.address' | translate\" type=\"email\" name=\"verifyForwardingAddress\" formControlName=\"email\" required />\n                <ng-container *ngIf=\"codeForm.controls['email'].errors && showFormErrorMessages\">\n                  <span *ngIf=\"codeForm.controls['email'].errors.required\" class=\"validate-message\" [translate]=\"'settings.forwarding.address_req'\"> The address is required. </span>\n                  <span *ngIf=\"codeForm.controls['email'].errors.pattern\" class=\"validate-message\" [translate]=\"'settings.forwarding.address_invalid'\"> The address is invalid. </span>\n                </ng-container>\n              </div>\n              <div class=\"form-group form-group-sm\">\n                <label for=\"verificationCode\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'settings.forwarding.verif_code'\"> Verification Code </label>\n                <input class=\"form-control text-dark\" id=\"verificationCode\" autocomplete=\"off\" [placeholder]=\"'settings.forwarding.verif_code' | translate\" type=\"number\" name=\"forwardingAddress\" formControlName=\"code\" required />\n                <ng-container *ngIf=\"codeForm.controls['code'].errors && showFormErrorMessages\">\n                  <span *ngIf=\"codeForm.controls['code'].errors.required\" class=\"validate-message\" [translate]=\"'settings.forwarding.code_req'\"> The verification code is required. </span>\n                </ng-container>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div *ngIf=\"errorMessage\" class=\"l-alert l-alert-danger mb-3\">\n          {{ errorMessage }}\n        </div>\n      </div>\n      <div class=\"modal-footer justify-content-center justify-content-sm-end\">\n        <button class=\"btn btn-default btn-sm\" type=\"reset\" (click)=\"d()\">\n          <span [translate]=\"'common.cancel'\"> Cancel </span>\n        </button>\n        <button class=\"btn btn-secondary btn-sm\" type=\"submit\" [disabled]=\"userState.inProgress\" [translate]=\"'billing_info.submit'\">Submit</button>\n        <app-loading-spinner [showSpinner]=\"userState.inProgress\"></app-loading-spinner>\n      </div>\n    </form>\n  </ng-template> </ng-template\n><!-- /. Add forwarding address modal ends -->\n\n<!-- Confirm delete forwarding address modal -->\n<ng-template #confirmDeleteAddressModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'contacts.delete.title'\">Confirm Delete</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"text-holder text-dark text-medium\">\n      <p [translate]=\"'settings.forwarding.delete_message'\">Are you sure you want to delete forwarding address?</p>\n    </div>\n  </div>\n  <div class=\"modal-footer justify-content-center justify-content-sm-end\">\n    <button (click)=\"d()\" class=\"btn btn-default btn-sm\" role=\"button\">\n      <span [translate]=\"'common.cancel'\">Cancel</span>\n    </button>\n    <button (click)=\"deleteAddress()\" class=\"btn btn-danger btn-sm\" role=\"button\">\n      <span [translate]=\"'common.delete'\">Delete</span>\n    </button>\n  </div> </ng-template\n><!-- /.Confirm delete forwarding address modal ends -->\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { VALID_EMAIL_REGEX } from '../../../shared/config';\nimport { SendEmailForwardingCode, SettingsUpdate, VerifyEmailForwardingCode } from '../../../store/actions';\nimport { AppState, Settings, UserState } from '../../../store/datatypes';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail-forwarding',\n  templateUrl: './mail-forwarding.component.html',\n  styleUrls: ['./mail-forwarding.component.scss', '../mail-settings.component.scss'],\n})\nexport class MailForwardingComponent implements OnInit, OnDestroy {\n  @ViewChild('addAddressModal') addAddressModal;\n\n  @ViewChild('confirmDeleteAddressModal') confirmDeleteAddressModal;\n\n  userState: UserState;\n\n  settings: Settings;\n\n  emailForm: FormGroup;\n\n  codeForm: FormGroup;\n\n  showFormErrorMessages: boolean;\n\n  errorMessage: string;\n\n  isVerificationCodeSent: boolean;\n\n  isCodeFormSubmitted: boolean;\n\n  private addAddressModalRef: NgbModalRef;\n\n  private confirmDeleteAddressModalRef: NgbModalRef;\n\n  constructor(private store: Store<AppState>, private formBuilder: FormBuilder, private modalService: NgbModal) {}\n\n  ngOnInit() {\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.isVerificationCodeSent = user.isForwardingVerificationCodeSent;\n        this.errorMessage = user.emailForwardingErrorMessage;\n        if (\n          this.isCodeFormSubmitted &&\n          this.userState.inProgress &&\n          !user.inProgress &&\n          !user.emailForwardingErrorMessage\n        ) {\n          this.addAddressModalRef.dismiss();\n          this.isCodeFormSubmitted = false;\n        }\n        this.userState = user;\n        this.settings = user.settings;\n      });\n    this.emailForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.pattern(VALID_EMAIL_REGEX)]],\n    });\n    this.codeForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.pattern(VALID_EMAIL_REGEX)]],\n      code: ['', [Validators.required]],\n    });\n  }\n\n  ngOnDestroy(): void {}\n\n  onAddAddress() {\n    this.showFormErrorMessages = false;\n    this.isCodeFormSubmitted = false;\n    this.isVerificationCodeSent = false;\n    this.errorMessage = null;\n    this.emailForm.reset();\n    this.codeForm.reset();\n    this.addAddressModalRef = this.modalService.open(this.addAddressModal, { centered: true, windowClass: 'modal-sm' });\n  }\n\n  onEditAddress() {\n    this.onAddAddress();\n    this.emailForm.get('email').setValue(this.settings.forwarding_address);\n  }\n\n  onDeleteAddress() {\n    this.confirmDeleteAddressModalRef = this.modalService.open(this.confirmDeleteAddressModal, {\n      centered: true,\n      windowClass: 'modal-sm',\n    });\n  }\n\n  onAddAddressSubmit() {\n    this.showFormErrorMessages = true;\n    if (this.emailForm.valid) {\n      this.store.dispatch(new SendEmailForwardingCode({ email: this.emailForm.value.email }));\n      this.showFormErrorMessages = false;\n      this.codeForm.controls.email.setValue(this.emailForm.value.email);\n    }\n  }\n\n  onVerifyCodeSubmit() {\n    this.showFormErrorMessages = true;\n    if (this.codeForm.valid) {\n      this.store.dispatch(new VerifyEmailForwardingCode({ ...this.codeForm.value }));\n      this.isCodeFormSubmitted = true;\n      this.showFormErrorMessages = false;\n    }\n  }\n\n  deleteAddress() {\n    this.settings.enable_forwarding = false;\n    this.settings.enable_copy_forwarding = false;\n    this.settings.forwarding_address = '';\n    this.store.dispatch(new SettingsUpdate(this.settings));\n    this.confirmDeleteAddressModalRef.dismiss();\n  }\n\n  changeKeepCopy() {\n    this.store.dispatch(new SettingsUpdate(this.settings));\n  }\n}\n","<div class=\"mailbox-sub-content\" #settingsContent>\n  <ngb-tabset #tabSet=\"ngbTabset\" (tabChange)=\"navigateToTab($event); scrollTop(settingsContent)\">\n    <!-- Dashboard and Plans -->\n    <ngb-tab id=\"dashboard-and-plans\">\n      <ng-template ngbTabTitle>\n        <span [translate]=\"'settings.dashboard_plans'\"> Dashboard & plans </span>\n      </ng-template>\n      <ng-template ngbTabContent>\n        <!-- Overview Section -->\n        <section class=\"mailbox-section mt-4\">\n          <div class=\"mailbox-section-body pt-0\">\n            <div class=\"desc-card-holder mt-sm-3 mt-md-0\">\n              <!--START Plan details -->\n              <div class=\"mb-4 row plan-details\">\n                <div class=\"col-12\">\n                  <div class=\"desc-card\">\n                    <div class=\"desc-card-header ui-header ui-header-bordered border-all-corner border-bottom-0\">\n                      <h5 class=\"ui-header-subtitle text-dark mb-0\">\n                        <strong [translate]=\"'settings.plan_details'\">Plan Details</strong>\n                      </h5>\n                    </div>\n                    <div class=\"desc-card-body\">\n                      <div class=\"row\">\n                        <div class=\"col-md-5 col-sm-12\">\n                          <div align=\"center\" class=\"subscription\">\n                            <div class=\"subscription-tag\">\n                              {{ userPlanType }}\n                            </div>\n                            <div>\n                              <i class=\"far fa-credit-card\"></i>\n                            </div>\n                            <div>\n                              <a (click)=\"scroll(targetUpgrade)\" class=\"btn btn-gradient-primary cursor-pointer\" [translate]=\"'settings.upgrade'\"> Upgrade </a>\n                            </div>\n                          </div>\n                        </div>\n                        <div class=\"col-md-7 col-sm user-details\">\n                          <ul class=\"info-list list-styled text-dark\">\n                            <li class=\"info-list-item\">\n                              <div class=\"info-list-text info-list-label\" [translate]=\"'settings.username'\">Username</div>\n                              <div class=\"info-list-text info-list-val\">{{ userState.username }}</div>\n                            </li>\n                            <li class=\"info-list-item\">\n                              <div class=\"info-list-text info-list-label\">Recovery Email</div>\n                              <div class=\"info-list-text info-list-val\" *ngIf=\"userState.isLoaded\">\n                                <div class=\"row\" *ngIf=\"isEditingRecoveryEmail; else recoveryEmailTemplate\">\n                                  <form autocomplete=\"off\" class=\"col-10\">\n                                    <input class=\"form-control form-control-sm\" id=\"recoveryMail\" type=\"email\" name=\"email\" autocomplete=\"off\" [(ngModel)]=\"settings.recovery_email\" [ngModelOptions]=\"{ updateOn: 'blur' }\" (change)=\"updateSettings('recovery_email', $event.target.value)\" placeholder=\"example@mail.com\" />\n                                  </form>\n                                  <a class=\"col-2 align-self-center -underline\" (click)=\"toggleRecoveyEmailEdit()\">\n                                    <u>Save</u>\n                                  </a>\n                                </div>\n                                <ng-template #recoveryEmailTemplate class=\"-align-right\">\n                                  <div class=\"row\" *ngIf=\"settings.recovery_email; else addRecoveryEmailTemplate\">\n                                    <div class=\"col-10 info-list-text info-list-val\">\n                                      {{ settings.recovery_email }}\n                                    </div>\n                                    <a class=\"col-2\" (click)=\"toggleRecoveyEmailEdit()\">\n                                      <u>Edit</u>\n                                    </a>\n                                  </div>\n                                  <ng-template #addRecoveryEmailTemplate>\n                                    <a (click)=\"toggleRecoveyEmailEdit()\">\n                                      <u>Add</u>\n                                    </a>\n                                  </ng-template>\n                                </ng-template>\n                              </div>\n                            </li>\n                            <li class=\"info-list-item\">\n                              <div class=\"info-list-text info-list-label\" [translate]=\"'settings.domains'\">Domains</div>\n                              <div class=\"info-list-text info-list-val\">\n                                <span *ngIf=\"userState.isPrime\">{{ settings?.domain_count }}</span>\n                                <span *ngIf=\"!userState.isPrime\" [translate]=\"'settings.none'\">None</span>\n                              </div>\n                            </li>\n                            <li class=\"info-list-item align-items-start\">\n                              <div class=\"info-list-text info-list-label\" [translate]=\"'settings.addresses'\">Aliases</div>\n                              <div class=\"info-list-text info-list-val\">\n                                <div *ngIf=\"userState.isPrime\" class=\"ng-tooltips-holder d-inline-block\" placement=\"top\">\n                                  <div class=\"info-list-val-text\" [translate]=\"'settings.address_tooltip'\">\n                                    {{ settings?.email_count }}\n                                  </div>\n                                </div>\n                                <div *ngIf=\"!userState.isPrime\" class=\"d-inline-block\">\n                                  <div class=\"info-list-val-text\" [translate]=\"'settings.address_one'\">One</div>\n                                </div>\n                              </div>\n                            </li>\n                            <li class=\"info-list-item\">\n                              <div class=\"info-list-text info-list-label\" [translate]=\"'settings.storage'\">Storage</div>\n                              <div class=\"info-list-text info-list-val\">\n                                <div class=\"info-list-val-text\">\n                                  {{ settings?.used_storage | filesize }} of\n                                  {{ settings?.allocated_storage | filesize }}\n                                </div>\n                                <div class=\"progress progress-secondary progress-lg\">\n                                  <div class=\"progress-bar\" role=\"progressbar\" [style.width.%]=\"(settings.used_storage / settings.allocated_storage) * 100\" [attr.aria-valuenow]=\"settings.used_storage\" aria-valuemin=\"0\" [attr.aria-valuemax]=\"settings.allocated_storage\"></div>\n                                </div>\n                              </div>\n                            </li>\n                          </ul>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <!--END Plan details -->\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <div class=\"desc-card\">\n                    <div class=\"desc-card-header ui-header ui-header-bordered border-all-corner border-bottom-0\">\n                      <h5 class=\"ui-header-subtitle text-dark mb-0\">\n                        <strong [translate]=\"'settings.my_subscription'\"> My Subscription </strong>\n                      </h5>\n                    </div>\n                    <div class=\"desc-card-body\">\n                      <ul class=\"info-list info-list-lg list-styled text-dark\" *ngIf=\"payment\">\n                        <li class=\"info-list-item\">\n                          <div class=\"info-list-item-row\">\n                            <div class=\"info-list-text info-list-label\">\n                              <span class=\"info-list-label-text\" [translate]=\"'settings.plans'\">Plan</span>\n                            </div>\n                            <div class=\"info-list-text info-list-val\">{{ userPlanType }}</div>\n                          </div>\n                        </li>\n                        <ng-container *ngIf=\"userPlanType !== planType.FREE\">\n                          <li class=\"info-list-item\">\n                            <div class=\"info-list-text info-list-label\" [translate]=\"'billing_info.billing'\">Billing</div>\n                            <div class=\"info-list-text info-list-val\">\n                              {{ payment.payment_type }}\n                            </div>\n                          </li>\n                          <li class=\"info-list-item\">\n                            <div class=\"info-list-text info-list-label\" [translate]=\"'settings.payment'\">Payment</div>\n                            <div class=\"info-list-text info-list-val text-capitalize\">\n                              <span>{{ payment.payment_method }}</span>\n                              <i *ngIf=\"payment?.payment_method === paymentMethod.stripe\" class=\"{{ isCardUpdateMode ? 'fas fa-chevron-up pr-2 cursor-pointer float-right' : 'fas fa-chevron-down pr-2 cursor-pointer float-right' }}\" (click)=\"isCardUpdateMode = !isCardUpdateMode\"></i>\n                            </div>\n                          </li>\n                          <li class=\"info-list-item info-list-detail\" *ngIf=\"isCardUpdateMode\">\n                            <div class=\"info-list-text info-list-detail-content col-12\" *ngFor=\"let card of cards\">\n                              <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"{{ 'card_' + card.last4 }}\" name=\"activeCard\" type=\"radio\" (click)=\"onMakePrimaryCard(card)\" [checked]=\"card.is_primary\" />\n                              <label for=\"{{ 'card_' + card.last4 }}\">{{ card.last4 | creditcardnumber }}</label>\n                              <i *ngIf=\"!card.is_primary\" (click)=\"onDeleteCard(card)\" [ngbTooltip]=\"'common.delete' | translate\" class=\"fas fa-trash pr-2 cursor-pointer float-right\"></i>\n                            </div>\n                            <div class=\"info-list-text info-list-action col-12\">\n                              <a (click)=\"onAddNewCard()\" [translate]=\"'settings.add_new_method'\">ADD NEW METHOD</a>\n                            </div>\n                          </li>\n                          <li class=\"info-list-item\">\n                            <div class=\"info-list-text info-list-label\" [translate]=\"'settings.billing_cycle_end'\">Billing Cycle End</div>\n                            <div class=\"info-list-text info-list-val\">\n                              <span>{{ payment.billing_cycle_ends | momentDate: 'mediumDate' }}</span>\n                              <a *ngIf=\"!settings.recurrence_billing || payment?.payment_method === paymentMethod.bitcoin\" [ngbTooltip]=\"'settings.extend_billing_cycle' | translate\" class=\"float-right\" (click)=\"renew()\" [translate]=\"'settings.renew'\"> Renew </a>\n                            </div>\n                          </li>\n                          <li class=\"info-list-item\">\n                            <div class=\"info-list-text info-list-label\" [translate]=\"'settings.recurring_billing'\">Recurring Billing</div>\n                            <div class=\"info-list-text info-list-val\">\n                              <div class=\"row row-sm\" *ngIf=\"payment.payment_method === paymentMethod.stripe; else bitcoinMethod\">\n                                <div class=\"col-6 flex-auto-col\">\n                                  <div class=\"fancy-field-group\">\n                                    <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"enableRecurringBilling\" name=\"recurringBilling\" type=\"radio\" (click)=\"updateSettings('recurrence_billing', true)\" [checked]=\"settings.recurrence_billing\" />\n                                    <label for=\"enableRecurringBilling\" [translate]=\"'common.yes'\">Yes</label>\n                                  </div>\n                                </div>\n                                <div class=\"col-6 flex-auto-col\">\n                                  <div class=\"fancy-field-group\">\n                                    <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"disableRecurringBilling\" name=\"recurringBilling\" type=\"radio\" (click)=\"updateSettings('recurrence_billing', false)\" [checked]=\"!settings.recurrence_billing\" />\n                                    <label for=\"disableRecurringBilling\" [translate]=\"'common.no'\">No</label>\n                                  </div>\n                                </div>\n                              </div>\n                              <ng-template #bitcoinMethod>\n                                <span [translate]=\"'settings.not_available_for_bitcoin'\"> Not available for bitcoin </span>\n                              </ng-template>\n                            </div>\n                          </li>\n                        </ng-container>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-6 mb-4 mb-md-0\">\n                  <div class=\"desc-card\">\n                    <div class=\"desc-card-header ui-header ui-header-bordered border-all-corner border-bottom-0\">\n                      <h5 class=\"ui-header-subtitle text-dark mb-0\">\n                        <strong [translate]=\"'settings.bills'\">Bills</strong>\n                      </h5>\n                    </div>\n                    <div class=\"plan-details\">\n                      <div class=\"desc-card-body invoices\" [ngClass]=\"{ 'no-invoice': userState?.isInvoiceLoaded && invoices?.length === 0 }\">\n                        <div *ngIf=\"userState?.isInvoiceLoaded && invoices?.length > 0\">\n                          <ul class=\"ui-list ui-list-styled list-styled invoices-list\">\n                            <li class=\"ui-list-item ui-list-item-xs-full\">\n                              <div class=\"row row-xs align-items-center\">\n                                <div class=\"col-5 font-weight-bold col-item\"># <span [translate]=\"'settings.invoice'\">Invoice</span></div>\n                                <div class=\"col-3 col-item\">\n                                  <div class=\"form-label mb-0 font-weight-bold\" [translate]=\"'settings.date'\">Date</div>\n                                </div>\n                                <div class=\"col-2 font-weight-bold col-item\" [translate]=\"'settings.amount'\">Amount</div>\n                              </div>\n                            </li>\n\n                            <li class=\"ui-list-item ui-list-item-xs-full\" *ngFor=\"let invoice of invoices\">\n                              <div class=\"row row-xs align-items-center\">\n                                <div class=\"col-5 text-dark col-item\" [ngbTooltip]=\"'settings.view_invoice' | translate\">\n                                  <a class=\"cursor-pointer\" (click)=\"onViewInvoice(invoice)\">\n                                    {{ invoice.invoice_id }}\n                                  </a>\n                                </div>\n                                <div class=\"col-3 col-item\">\n                                  <div class=\"form-label text-dark mb-0\">\n                                    {{ invoice.invoice_date | date: 'dd/MM/yyyy' }}\n                                  </div>\n                                </div>\n                                <div class=\"col-2 text-dark col-item\">${{ (invoice.total_amount / 100).toFixed(2) }}</div>\n                                <div class=\"col-2 display-inline-flex actions\">\n                                  <i (click)=\"onViewInvoice(invoice)\" [ngbTooltip]=\"'settings.view' | translate\" class=\"fas fa-eye pr-2 cursor-pointer\"> </i>\n                                  <i (click)=\"onPrintInvoice(invoice)\" [ngbTooltip]=\"'mail_detail.print' | translate\" class=\"fas fa-print cursor-pointer\"> </i>\n                                </div>\n                              </div>\n                            </li>\n                          </ul>\n                        </div>\n                        <div class=\"no-data\" *ngIf=\"userState?.isInvoiceLoaded && invoices?.length === 0\" [translate]=\"'settings.no_bills_avail'\">No bills available</div>\n                        <div class=\"loader\" *ngIf=\"!userState?.isInvoiceLoaded\">\n                          <app-loading-spinner [showSpinner]=\"true\"></app-loading-spinner>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n        <!-- Account Type Section -->\n        <section class=\"mailbox-section\" #targetUpgrade>\n          <div class=\"ui-header ui-header-bordered position-relative\">\n            <h5 class=\"ui-header-subtitle text-dark mb-0\">\n              <strong [translate]=\"'settings.account_type'\">Account Type</strong>\n            </h5>\n          </div>\n          <app-pricing-plans hideHeader=\"true\" blockGapsZero=\"true\" [showCurrentPlan]=\"true\" [userPlanType]=\"userPlanType\" [selectedCurrency]=\"payment.currency\" [paymentType]=\"payment.payment_type\" [paymentMethod]=\"payment.payment_method === 'stripe' ? paymentMethod.STRIPE : payment.payment_method === 'bitcoin' ? paymentMethod.BITCOIN : payment.payment_method\" [openBillingInfoInModal]=\"true\"> </app-pricing-plans>\n        </section>\n      </ng-template>\n    </ngb-tab>\n\n    <!-- General -->\n    <ngb-tab id=\"general\">\n      <ng-template ngbTabTitle>\n        <span [translate]=\"'settings.general'\">General</span>\n      </ng-template>\n      <ng-template ngbTabContent>\n        <!-- General Settings -->\n        <section class=\"mailbox-section\">\n          <header class=\"ui-header ui-header-bordered\">\n            <h5 class=\"ui-header-subtitle text-dark mb-0\">\n              <strong [translate]=\"'settings.general_settings'\"> General settings </strong>\n            </h5>\n          </header>\n          <div class=\"mailbox-section-body mailbox-section-body-sm\">\n            <div class=\"form-content-holder\">\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\">\n                    <label class=\"form-label mb-0\" [translate]=\"'settings.language'\">Language</label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"btn-dropdown btn-dropdown-select\">\n                      <div ngbDropdown class=\"dropdown-sm\">\n                        <button ngbDropdownToggle role=\"button\" id=\"langDropdownMenuButton\">{{ selectedLanguage?.name }} ({{ selectedLanguage?.locale }})</button>\n                        <div ngbDropdownMenu aria-labelledby=\"langDropdownMenuButton\">\n                          <a class=\"dropdown-item\" *ngFor=\"let language of languages\" (click)=\"updateLanguage(language)\"> {{ language.name }} ({{ language.locale }}) </a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\">\n                    <label class=\"form-label mb-0\" [translate]=\"'settings.current_time_zone'\"> Current time zone </label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"btn-dropdown btn-dropdown-select\">\n                      <div class=\"dropdown-sm timezone-block\">\n                        <mat-form-field class=\"timezone-filter\" floatLabel=\"never\">\n                          <input type=\"text\" placeholder=\"\" aria-label=\"Number\" [formControl]=\"timeZoneFilter\" [matAutocomplete]=\"auto\" [value]=\"settings.timezone\" matInput />\n                          <mat-autocomplete #auto=\"matAutocomplete\" class=\"timezone-option\">\n                            <mat-option class=\"timezone-option\" *ngFor=\"let timezone of timeZoneFilteredOptions | async\" (onSelectionChange)=\"updateSettings('timezone', timezone.value)\" [value]=\"timezone.value\">\n                              {{ timezone.value }}\n                            </mat-option>\n                          </mat-autocomplete>\n                        </mat-form-field>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\">\n                    <label class=\"form-label mb-0\" [translate]=\"'settings.automatically_save_contact'\"> Automatically save contacts </label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"row row-sm\">\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"autoSaveField1\" name=\"[1]\" type=\"radio\" (click)=\"updateSettings('save_contacts', true)\" [checked]=\"settings.save_contacts\" />\n                          <label for=\"autoSaveField1\" [translate]=\"'common.enabled'\">Enabled</label>\n                        </div>\n                      </div>\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"autoSaveField2\" name=\"[1]\" type=\"radio\" (click)=\"updateSettings('save_contacts', false)\" [checked]=\"!settings.save_contacts\" />\n                          <label for=\"autoSaveField2\" [translate]=\"'common.disabled'\">Disabled</label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\">\n                    <label class=\"form-label mb-0\">Default composer size</label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"row row-sm\">\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"composersize1\" name=\"[composerSize]\" type=\"radio\" (click)=\"updateSettings('is_composer_full_screen', false)\" [checked]=\"!settings.is_composer_full_screen\" />\n                          <label for=\"composersize1\">Small pop-up</label>\n                        </div>\n                      </div>\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"composersize2\" name=\"[composerSize]\" type=\"radio\" (click)=\"updateSettings('is_composer_full_screen', true)\" [checked]=\"settings.is_composer_full_screen\" />\n                          <label for=\"composersize2\">Full screen</label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\">\n                    <label class=\"form-label mb-0\" [translate]=\"'settings.compose_font'\"> Default Mail Compose Font </label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"btn-dropdown btn-dropdown-select\">\n                      <div ngbDropdown class=\"dropdown-sm\">\n                        <button ngbDropdownToggle class=\"text-capitalize\" role=\"button\" id=\"defaultFontDropdownMenuButton\">\n                          {{ settings.default_font }}\n                        </button>\n                        <div ngbDropdownMenu aria-labelledby=\"defaultFontDropdownMenuButton\">\n                          <a class=\"dropdown-item text-capitalize\" *ngFor=\"let font of fonts\" (click)=\"updateSettings('default_font', font)\">\n                            {{ font }}\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\">\n                    <label class=\"form-label mb-0\" [translate]=\"'settings.compose_autosave_duration'\"> Mail compose autosave duration </label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"btn-dropdown btn-dropdown-select\">\n                      <div ngbDropdown class=\"dropdown-sm\">\n                        <button ngbDropdownToggle class=\"text-capitalize\" role=\"button\" id=\"defaultAutosaveDropdownMenuButton\">\n                          {{ autosave_duration }}\n                        </button>\n                        <div ngbDropdownMenu aria-labelledby=\"defaultAutosaveDropdownMenuButton\">\n                          <a class=\"dropdown-item text-capitalize\" *ngFor=\"let duration of autosave_duration_list\" (click)=\"updateSettings('autosave_duration', duration)\">\n                            {{ duration }}\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\" ngbTooltip=\"Enabling this option would block all the external images from loading automatically when you open an email\">\n                    <label class=\"form-label mb-0\">Block external images</label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"row row-sm\">\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"blockExternalImages1\" name=\"[blockExternalImages]\" type=\"radio\" (click)=\"updateSettings('is_disable_loading_images', true)\" [checked]=\"settings.is_disable_loading_images\" />\n                          <label for=\"blockExternalImages1\" [translate]=\"'common.enabled'\">Enabled</label>\n                        </div>\n                      </div>\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"blockExternalImages2\" name=\"[blockExternalImages]\" type=\"radio\" (click)=\"updateSettings('is_disable_loading_images', false)\" [checked]=\"!settings.is_disable_loading_images\" />\n                          <label for=\"blockExternalImages2\" [translate]=\"'common.disabled'\">Disabled</label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\" ngbTooltip=\"Enabling this option would include original message text when you reply\">\n                    <label class=\"form-label mb-0\">Include original message text</label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"row row-sm\">\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"includeOriginalMsg1\" name=\"[includeOriginalMsg]\" type=\"radio\" (click)=\"updateSettings('include_original_message', true)\" [checked]=\"settings.include_original_message\" />\n                          <label for=\"includeOriginalMsg1\" [translate]=\"'common.enabled'\">Enabled</label>\n                        </div>\n                      </div>\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"includeOriginalMsg2\" name=\"[includeOriginalMsg]\" type=\"radio\" (click)=\"updateSettings('include_original_message', false)\" [checked]=\"!settings.include_original_message\" />\n                          <label for=\"includeOriginalMsg2\" [translate]=\"'common.disabled'\">Disabled</label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\">\n                    <label class=\"form-label mb-0\" [translate]=\"'settings.html_editor'\">HTML editor</label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"row row-sm\">\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"htmlEditor1\" name=\"[htmlEditor]\" type=\"radio\" (click)=\"updateSettings('is_html_disabled', false)\" [checked]=\"!settings.is_html_disabled\" />\n                          <label for=\"htmlEditor1\" [translate]=\"'common.enabled'\">Enabled</label>\n                        </div>\n                      </div>\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"htmlEditor2\" name=\"[htmlEditor]\" type=\"radio\" (click)=\"updateSettings('is_html_disabled', true)\" [checked]=\"settings.is_html_disabled\" />\n                          <label for=\"htmlEditor2\" [translate]=\"'common.disabled'\">Disabled</label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"info-card mt-2 mx-3 full-width\">\n                    <p [translate]=\"'settings.disabling_editor_message'\">Disabling HTML editor will allow you to use plain text editor for composing email.</p>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\" ngbTooltip=\"Help to report bugs automatically by enabling this option\">\n                    <label class=\"form-label mb-0\">Report bugs</label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"row row-sm\">\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"reportBugs1\" name=\"[reportBugs]\" type=\"radio\" (click)=\"updateSettings('is_enable_report_bugs', true)\" [checked]=\"settings.is_enable_report_bugs\" />\n                          <label for=\"reportBugs1\" [translate]=\"'common.enabled'\">Enabled</label>\n                        </div>\n                      </div>\n                      <div class=\"col-6 flex-auto-col\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"reportBugs2\" name=\"[reportBugs]\" type=\"radio\" (click)=\"updateSettings('is_enable_report_bugs', false)\" [checked]=\"!settings.is_enable_report_bugs\" />\n                          <label for=\"reportBugs2\" [translate]=\"'common.disabled'\">Disabled</label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        <!-- Appreance Section -->\n        <section class=\"mailbox-section\">\n          <header class=\"ui-header ui-header-bordered\">\n            <h5 class=\"ui-header-subtitle text-dark mb-0\">\n              <strong [translate]=\"'settings.appearance'\">Appearance</strong>\n            </h5>\n          </header>\n          <div class=\"mailbox-section-body mailbox-section-body-sm\">\n            <div class=\"form-content-row\">\n              <div class=\"row align-items-center\">\n                <div class=\"col-sm-3\">\n                  <label class=\"form-label mb-sm-0\" [translate]=\"'settings.emails_per_page'\"> Emails per page </label>\n                </div>\n                <div class=\"col-sm-7 col-md-5\">\n                  <div class=\"row row-sm\">\n                    <div class=\"col-6 flex-auto-col\">\n                      <div class=\"fancy-field-group\">\n                        <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"emailCoutField1\" name=\"[5]\" type=\"radio\" (click)=\"updateSettings('emails_per_page', 20)\" [checked]=\"settings?.emails_per_page === 20\" />\n                        <label for=\"emailCoutField1\">20</label>\n                      </div>\n                    </div>\n                    <div class=\"col-6 flex-auto-col\">\n                      <div class=\"fancy-field-group\">\n                        <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"emailCoutField2\" name=\"[5]\" type=\"radio\" (click)=\"updateSettings('emails_per_page', 50)\" [checked]=\"settings?.emails_per_page === 50\" />\n                        <label for=\"emailCoutField2\">50</label>\n                      </div>\n                    </div>\n                    <div class=\"col-6 flex-auto-col\">\n                      <div class=\"fancy-field-group\">\n                        <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"emailCoutField3\" name=\"[5]\" type=\"radio\" (click)=\"updateSettings('emails_per_page', 100)\" [checked]=\"settings?.emails_per_page === 100\" />\n                        <label for=\"emailCoutField3\">100</label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"form-content-row\">\n              <div class=\"row align-items-center\">\n                <div class=\"col-sm-3\">\n                  <label class=\"form-label mb-0\">Dark mode</label>\n                </div>\n                <div class=\"col-sm-7 col-md-5\">\n                  <div class=\"row row-sm\">\n                    <div class=\"col-6 flex-auto-col\">\n                      <div class=\"fancy-field-group\">\n                        <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"darkMode1\" name=\"[darkMode]\" type=\"radio\" (click)=\"updateSettings('is_night_mode', true)\" [checked]=\"settings.is_night_mode\" />\n                        <label for=\"darkMode1\" [translate]=\"'common.enabled'\">Enabled</label>\n                      </div>\n                    </div>\n                    <div class=\"col-6 flex-auto-col\">\n                      <div class=\"fancy-field-group\">\n                        <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"darkMode2\" name=\"[darkMode]\" type=\"radio\" (click)=\"updateSettings('is_night_mode', false)\" [checked]=\"!settings.is_night_mode\" />\n                        <label for=\"darkMode2\" [translate]=\"'common.disabled'\">Disabled</label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"form-content-row\">\n              <div class=\"row align-items-center\">\n                <div class=\"col-sm-3\">\n                  <label class=\"form-label mb-0\">Conversation View</label>\n                </div>\n                <div class=\"col-sm-7 col-md-5\">\n                  <div class=\"row row-sm\">\n                    <div class=\"col-6 flex-auto-col\">\n                      <div class=\"fancy-field-group\">\n                        <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"conversationViewMode1\" name=\"[conversationMode]\" type=\"radio\" (click)=\"updateConversationMode(true)\" [checked]=\"settings.is_conversation_mode\" />\n                        <label for=\"conversationViewMode1\" [translate]=\"'common.enabled'\">Enabled</label>\n                      </div>\n                    </div>\n                    <div class=\"col-6 flex-auto-col\">\n                      <div class=\"fancy-field-group\">\n                        <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"conversationViewMode2\" name=\"[conversationMode]\" type=\"radio\" (click)=\"updateConversationMode(false)\" [checked]=\"!settings.is_conversation_mode\" />\n                        <label for=\"conversationViewMode2\" [translate]=\"'common.disabled'\">Disabled</label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"form-content-row\">\n              <div class=\"row align-items-center\">\n                <div class=\"col-sm-3\">\n                  <label for=\"customCss\" class=\"form-label mb-sm-0\"> Custom css </label>\n                </div>\n                <form class=\"col-sm-7 col-md-5\" autocomplete=\"off\">\n                  <textarea class=\"form-control form-control-sm resize-off\" id=\"customCss\" name=\"customCss\" [(ngModel)]=\"settings.custom_css\" [ngModelOptions]=\"{ updateOn: 'blur' }\" (change)=\"updateSettings('custom_css', $event.target.value)\" rows=\"3\"> </textarea>\n                </form>\n                <div class=\"info-card mx-3 mt-2 full-width\">\n                  <p>You can write the custom css here in order to customize the display of your mailbox.</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        <!-- Notification Section -->\n        <section class=\"mailbox-section\">\n          <header class=\"ui-header ui-header-bordered\">\n            <h5 class=\"ui-header-subtitle text-dark mb-0\">\n              <strong [translate]=\"'settings.notifications'\">Notifications</strong>\n            </h5>\n          </header>\n          <div class=\"mailbox-section-body mailbox-section-body-sm\">\n            <div class=\"form-content-holder\">\n              <div class=\"form-content-row\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\">\n                    <label for=\"notificationEmail\" class=\"form-label mb-sm-0\" [translate]=\"'settings.notification_email'\"> Notification email </label>\n                  </div>\n                  <form class=\"col-sm-7 col-md-5\" autocomplete=\"off\">\n                    <input class=\"form-control form-control-sm\" id=\"notificationEmail\" type=\"email\" name=\"notificationEmail\" autocomplete=\"off\" [(ngModel)]=\"settings.notification_email\" [ngModelOptions]=\"{ updateOn: 'blur' }\" (change)=\"updateSettings('notification_email', $event.target.value)\" placeholder=\"notify@example.com\" onfocus=\"(this.placeholder='')\" onfocusout=\"(this.placeholder='notify@example.com')\" />\n                  </form>\n                  <div class=\"info-card mx-3 mt-2 full-width\">\n                    <p [translate]=\"'settings.enter_notification_email'\">Enter a notification email on which you would like to receive notification each day when you have new emails.</p>\n                  </div>\n                </div>\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-3\">\n                    <label class=\"form-label mb-sm-0\" [translate]=\"'settings.desktop_notification_title'\"> Desktop notifications </label>\n                  </div>\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"info-card mt-3 full-width\">\n                      <p *ngIf=\"notificationsPermission === notificationPermissionType.DENIED\" [translate]=\"'settings.desktop_notifications_dis'\">Desktop Notifications are disabled. Please go to your browser settings in order to enable them.</p>\n                      <p *ngIf=\"notificationsPermission === notificationPermissionType.DEFAULT\">\n                        <a (click)=\"requestNotificationPermission()\" [translate]=\"'settings.click_here'\"> Click here </a>\n                        <span translate=\"settings.enable_notifications\"> in order to enable desktop notifications. </span>\n                      </p>\n                      <p *ngIf=\"notificationsPermission === notificationPermissionType.GRANTED\">\n                        <span [translate]=\"'settings.desktop_notifications_en'\"> Desktop notifications are enabled. </span>\n                        <a (click)=\"testNotification()\">\n                          <span [translate]=\"'settings.click_to_test'\"> Click here to Test </span>\n                        </a>\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        <!-- Notification Section Ends -->\n        <section class=\"mailbox-section\">\n          <app-invite-codes></app-invite-codes>\n        </section>\n\n        <!-- Delete account settings -->\n        <section class=\"mailbox-section\">\n          <header class=\"ui-header ui-header-bordered\">\n            <h5 class=\"ui-header-subtitle text-dark mb-0\">\n              <strong [translate]=\"'settings.delete_account'\"> Delete Account </strong>\n            </h5>\n          </header>\n          <div class=\"mailbox-section-body mailbox-section-body-sm\">\n            <div class=\"form-content-holder\">\n              <app-loading-spinner [showSpinner]=\"authState?.inProgress\"></app-loading-spinner>\n              <div class=\"info-card\">\n                <p [translate]=\"'settings.delete_account_guide'\">If you permanently delete your account you will lose all the data in your mailbox. In 12 months this username will be available for re-use by anyone who selects it.</p>\n                <button type=\"button\" class=\"text-uppercase btn-link\" role=\"button\" [disabled]=\"authState?.inProgress\" (click)=\"onDeleteAccount()\">\n                  <strong>\n                    <u [translate]=\"'settings.delete_account_perm'\">Permanently Delete Account</u>\n                  </strong>\n                </button>\n              </div>\n            </div>\n          </div>\n        </section>\n      </ng-template>\n    </ngb-tab>\n\n    <!-- Filters and blocked addresses -->\n    <ngb-tab id=\"filters-and-blocked-addresses\">\n      <ng-template ngbTabTitle>\n        <span [translate]=\"'settings.filters.title'\">Filters & blocked addresses</span>\n      </ng-template>\n      <ng-template ngbTabContent>\n        <!-- Custom filters -->\n        <app-mail-filters></app-mail-filters>\n\n        <!-- Whitelist settings -->\n        <section class=\"mailbox-section\">\n          <header class=\"ui-header ui-header-bordered\">\n            <h5 class=\"ui-header-subtitle text-dark mb-0\">\n              <strong [translate]=\"'settings.whitelist.name'\">Whitelist</strong>\n            </h5>\n          </header>\n          <div class=\"mailbox-section-body mailbox-section-body-sm\">\n            <div class=\"form-content-holder\">\n              <ul class=\"ui-list ui-list-styled list-styled\">\n                <li class=\"ui-list-item ui-list-item-xs-full\" *ngFor=\"let item of userState.whiteList\">\n                  <div class=\"row row-xs align-items-center\">\n                    <div class=\"col-10 col-sm-8\">\n                      <div class=\"form-label text-dark mb-0\">{{ item.email }}</div>\n                    </div>\n                    <div class=\"col-2 col-sm-4\">\n                      <ul class=\"setting-actions-list d-flex align-items-center justify-content-end list-styled text-right\">\n                        <li>\n                          <a (click)=\"deleteWhiteList(item.id)\" role=\"button\">\n                            <i class=\"icon icon-garbage\"></i>\n                          </a>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n              <div class=\"info-card\">\n                <p [innerHTML]=\"'settings.whitelist.info' | translate\">Messages from contacts in the whitelist always go to <strong>Inbox folder</strong>. Marking a message as not spam adds the address to the Whitelist.</p>\n                <a href=\"javascript:void(0);\" class=\"text-uppercase btn-link\" role=\"button\" (click)=\"newListContact = { show: true, type: 'Whitelist' }\">\n                  <strong>\n                    <u [translate]=\"'settings.whitelist.add_whitelist_contact'\"> Add whitelist contact </u>\n                  </strong>\n                </a>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        <!-- Blacklist settings -->\n        <section class=\"mailbox-section\">\n          <header class=\"ui-header ui-header-bordered\">\n            <h5 class=\"ui-header-subtitle text-dark mb-0\">\n              <strong [translate]=\"'settings.blacklist.name'\">Blacklist</strong>\n            </h5>\n          </header>\n          <div class=\"mailbox-section-body mailbox-section-body-sm\">\n            <div class=\"form-content-holder\">\n              <ul class=\"ui-list ui-list-styled list-styled\">\n                <li class=\"ui-list-item ui-list-item-xs-full\" *ngFor=\"let item of userState.blackList\">\n                  <div class=\"row row-xs align-items-center\">\n                    <div class=\"col-10 col-sm-8\">\n                      <div class=\"form-label text-dark mb-0\">{{ item.email }}</div>\n                    </div>\n                    <div class=\"col-2 col-sm-4\">\n                      <ul class=\"setting-actions-list d-flex align-items-center justify-content-end list-styled text-right\">\n                        <li>\n                          <a (click)=\"deleteBlackList(item.id)\" role=\"button\">\n                            <i class=\"icon icon-garbage\"></i>\n                          </a>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n              <div class=\"info-card\">\n                <p [innerHTML]=\"'settings.blacklist.info' | translate\">Messages from contacts in the blacklist always go to <strong>Spam folder</strong>. Marking a message as spam adds the address to the Blacklist.</p>\n                <a href=\"javascript:void(0);\" class=\"text-uppercase btn-link\" role=\"button\" (click)=\"newListContact = { show: true, type: 'Blacklist' }\">\n                  <strong>\n                    <u [translate]=\"'settings.blacklist.add_blacklist_contact'\"> Add blacklist contact </u>\n                  </strong>\n                </a>\n              </div>\n            </div>\n          </div>\n        </section>\n      </ng-template>\n    </ngb-tab>\n\n    <!-- Addresses and Signatures -->\n    <ngb-tab id=\"addresses-and-signatures\">\n      <ng-template ngbTabTitle><span [translate]=\"'settings.signs_and_aliases'\">Signatures & aliases</span> </ng-template>\n      <ng-template ngbTabContent>\n        <app-addresses-signature></app-addresses-signature>\n      </ng-template>\n    </ngb-tab>\n\n    <!-- Folders -->\n    <ngb-tab id=\"folders\">\n      <ng-template ngbTabTitle>\n        <div [translate]=\"'page_pricing.folders'\">Folders</div>\n      </ng-template>\n      <ng-template ngbTabContent>\n        <app-folders></app-folders>\n      </ng-template>\n    </ngb-tab>\n\n    <!-- Security -->\n    <ngb-tab id=\"security\">\n      <ng-template ngbTabTitle>\n        <div [translate]=\"'home_header.security'\">Security</div>\n      </ng-template>\n      <ng-template ngbTabContent>\n        <app-settings-security></app-settings-security>\n      </ng-template>\n    </ngb-tab>\n\n    <!-- Domains -->\n    <ngb-tab id=\"domains-and-users\">\n      <ng-template ngbTabTitle>\n        <div [translate]=\"'settings.domains_and_users.title'\">Domains & Users</div>\n      </ng-template>\n      <ng-template ngbTabContent>\n        <app-custom-domains (onGotoTab)=\"tabSet.select($event)\"></app-custom-domains>\n      </ng-template>\n    </ngb-tab>\n\n    <!-- Forwarding and auto responder -->\n    <ngb-tab id=\"forwarding-and-auto-responder\">\n      <ng-template ngbTabTitle>\n        <div [translate]=\"'settings.forwarding_and_autores'\">Forwarding & autoresponder</div>\n      </ng-template>\n      <ng-template ngbTabContent>\n        <app-mail-forwarding></app-mail-forwarding>\n        <app-mail-autoresponder></app-mail-autoresponder>\n      </ng-template>\n    </ngb-tab>\n  </ngb-tabset>\n\n  <!-- Save Button -->\n  <button mat-fab color=\"warn\" class=\"fab-bottom\" (click)=\"onUpdateSettingsBtnClick()\">\n    <i class=\"icon icon-save-disk\"></i>\n  </button>\n  <app-mail-footer></app-mail-footer>\n</div>\n\n<!-- Modal groups -->\n<app-save-list-contact *ngIf=\"newListContact.show\" [contactType]=\"newListContact.type\" (closed)=\"newListContact.show = false\"> </app-save-list-contact>\n\n<!-- Delete account info modal -->\n<ng-template #deleteAccountInfoModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header justify-content-sm-center align-items-center text-sm-center\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'settings.delete_account_perm'\"> Permanently Delete Account </strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <form [formGroup]=\"deleteAccountInfoForm\" (submit)=\"onDeleteAccountInfoSubmit()\">\n    <div class=\"modal-body bg-faded\">\n      <div class=\"text-holder text-dark text-medium\">\n        <p class=\"text-danger\" [translate]=\"'settings.delete_account_guide'\">You have selected to permanently delete your account. If you proceed you will lose all the data in your mailbox.In 2 months this username will be available for re-use by anyone who selects it.</p>\n        <p [translate]=\"'settings.provide_email'\">Please provide an email address in case we need to contact you.</p>\n        <div class=\"login-content-holder mx-auto mt-2 pt-sm-2\">\n          <div class=\"form\">\n            <div class=\"form-group form-group-sm\">\n              <label for=\"deleteAccountEmail\" class=\"d-block text-muted text-left hidden-sm-up\"> Email </label>\n              <input class=\"form-control text-dark\" id=\"deleteAccountEmail\" autocomplete=\"off\" [placeholder]=\"'common.email' | translate\" type=\"email\" name=\"deleteAccountEmail\" formControlName=\"contact_email\" />\n              <span *ngIf=\"deleteAccountInfoForm.controls['contact_email'].errors && deleteAccountOptions.showErrors\" class=\"validate-message\" [translate]=\"'settings.email_invalid'\"> The email is invalid. </span>\n            </div>\n            <div class=\"form-group form-group-sm\">\n              <label for=\"deleteAccountPassword\" class=\"d-block text-muted text-left hidden-sm-up\"> Current Password </label>\n              <div class=\"input-group\">\n                <input #deleteAccountPasswordInput class=\"form-control form-control-lg\" id=\"deleteAccountPassword\" autocomplete=\"new-password\" name=\"deleteAccountPassword\" formControlName=\"password\" [placeholder]=\"'settings.current_password' | translate\" type=\"password\" />\n                <span class=\"input-group-addon password-toggle bg-white text-muted\" (click)=\"togglePassword(deleteAccountPasswordInput)\">\n                  <i class=\"fa fa-eye\"></i>\n                </span>\n              </div>\n              <span *ngIf=\"deleteAccountInfoForm.controls['password'].errors && deleteAccountOptions.showErrors\" class=\"validate-message\">\n                <span *ngIf=\"deleteAccountInfoForm.controls['password'].errors.required\" [translate]=\"'settings.password_req'\"> Your current password is required. </span>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"modal-footer justify-content-center justify-content-sm-end\">\n      <button class=\"btn btn-default btn-sm\" type=\"reset\" (click)=\"d()\">\n        <span [translate]=\"'common.cancel'\">Cancel</span>\n      </button>\n      <button class=\"btn btn-danger btn-sm\" type=\"submit\" [translate]=\"'common.delete'\">Delete</button>\n    </div>\n  </form> </ng-template\n><!-- /. Delete account info modal ends -->\n\n<!-- Confirm delete account modal -->\n<ng-template #confirmDeleteAccountModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'settings.permanently_delete'\"> Confirm Permanently Account Delete </strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"text-holder text-dark text-medium\">\n      <p [translate]=\"'settings.permanently_delete_alert'\">Are you sure you want to permanently delete your account? No one will be able to undo this.</p>\n    </div>\n  </div>\n  <div class=\"modal-footer justify-content-center justify-content-sm-end\">\n    <button (click)=\"d()\" class=\"btn btn-default btn-sm\" role=\"button\" [translate]=\"'common.cancel'\">Cancel</button>\n    <button (click)=\"confirmDeleteAccount()\" class=\"btn btn-danger btn-sm\" role=\"button\" [translate]=\"'common.delete'\">Delete</button>\n  </div> </ng-template\n><!-- /.Confirm delete account modal ends -->\n\n<!-- billing info modal -->\n<ng-template #billingInfoModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"billing-header\">\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body user-billing-upgrade-modal bg-faded px-3 py-0 bg-white\">\n    <app-users-billing-info [isUpgradeAccount]=\"true\" [isRenew]=\"true\" [isAddNewCard]=\"isAddNewCard\" [planType]=\"userPlanType\" [paymentType]=\"payment.payment_type\" [currency]=\"payment.currency\" [paymentMethod]=\"payment.payment_method === 'stripe' ? paymentMethod.STRIPE : payment.payment_method === 'bitcoin' ? paymentMethod.BITCOIN : payment.payment_method\" (close)=\"d()\"> </app-users-billing-info>\n  </div> </ng-template\n><!-- /.billing info modal ends -->\n","import { AfterViewInit, ChangeDetectorRef, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { NgbDropdownConfig, NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport * as moment from 'moment-timezone';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\n\nimport { CreditCardNumberPipe } from '../../shared/pipes/creditcard-number.pipe';\nimport { FONTS, Language, LANGUAGES, VALID_EMAIL_REGEX, AUTOSAVE_DURATION } from '../../shared/config';\nimport {\n  BlackListDelete,\n  DeleteAccount,\n  SnackPush,\n  WhiteListDelete,\n  CardDelete,\n  CardMakePrimary,\n  MoveTab,\n  ClearMailsOnConversationModeChange,\n  GetUnreadMailsCount,\n} from '../../store/actions';\nimport {\n  AppState,\n  AuthState,\n  Invoice,\n  MailState,\n  NotificationPermission,\n  Payment,\n  PaymentMethod,\n  PlanType,\n  PricingPlan,\n  Settings,\n  Timezone,\n  TimezonesState,\n  UserState,\n  CardState,\n} from '../../store/datatypes';\nimport { OpenPgpService, SharedService } from '../../store/services';\nimport { MailSettingsService } from '../../store/services/mail-settings.service';\nimport { PushNotificationOptions, PushNotificationService } from '../../shared/services/push-notification.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail-settings',\n  templateUrl: './mail-settings.component.html',\n  styleUrls: ['./mail-settings.component.scss'],\n})\nexport class MailSettingsComponent implements OnInit, AfterViewInit, OnDestroy {\n  readonly fonts = FONTS;\n\n  readonly autosaveDurations = AUTOSAVE_DURATION;\n\n  readonly planType = PlanType;\n\n  @ViewChild('tabSet') tabSet;\n\n  @ViewChild('deleteAccountInfoModal') deleteAccountInfoModal;\n\n  @ViewChild('confirmDeleteAccountModal') confirmDeleteAccountModal;\n\n  @ViewChild('billingInfoModal') billingInfoModal;\n\n  selectedIndex = -1; // Assuming no element are selected initially\n\n  userState: UserState = new UserState();\n\n  mailState: MailState;\n\n  authState: AuthState;\n\n  settings: Settings = new Settings();\n\n  cards: Array<CardState> = [];\n\n  payment: Payment = new Payment();\n\n  paymentMethod = PaymentMethod;\n\n  userPlanType: PlanType = PlanType.FREE;\n\n  newListContact = { show: false, type: 'Whitelist' };\n\n  selectedLanguage: Language;\n\n  languages: Language[] = LANGUAGES;\n\n  timezones: Timezone[];\n\n  deleteAccountInfoForm: FormGroup;\n\n  deleteAccountOptions: any = {};\n\n  notificationsPermission: string;\n\n  autosave_duration: any = {};\n\n  autosave_duration_list: Array<string>;\n\n  notificationPermissionType = NotificationPermission;\n\n  selectedTabQueryParams = 'dashboard-and-plans';\n\n  invoices: Invoice[];\n\n  currentPlan: PricingPlan;\n\n  isAddNewCard = false;\n\n  isCardUpdateMode = false;\n\n  private deleteAccountInfoModalRef: NgbModalRef;\n\n  private confirmDeleteAccountModalRef: NgbModalRef;\n\n  timeZoneFilter = new FormControl('', []);\n\n  timeZoneFilteredOptions: Observable<Timezone[] | void>;\n\n  isEditingRecoveryEmail: boolean;\n\n  constructor(\n    private modalService: NgbModal,\n    config: NgbDropdownConfig,\n    private store: Store<AppState>,\n    private formBuilder: FormBuilder,\n    private openPgpService: OpenPgpService,\n    private settingsService: MailSettingsService,\n    private pushNotificationService: PushNotificationService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private cdr: ChangeDetectorRef,\n    private sharedService: SharedService,\n    private creditcardnumber: CreditCardNumberPipe,\n  ) {\n    // customize default values of dropdowns used by this component tree\n    config.autoClose = true;\n  }\n\n  ngOnInit() {\n    this.initAutoSaving(); // Convert milliseconds to time format(m:s)\n    if ('Notification' in window) {\n      this.notificationsPermission = Notification.permission;\n    }\n    this.sharedService.loadPricingPlans();\n\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        this.authState = authState;\n      });\n\n    /**\n     * Get user's state and initialize\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n        this.settings = user.settings;\n        this.timeZoneFilter.setValue(user.settings.timezone);\n        this.cdr.detectChanges();\n        this.payment = user.payment_transaction;\n        this.cards = user.cards;\n        this.invoices = user.invoices;\n        this.userPlanType = user.settings.plan_type || PlanType.FREE;\n        if (SharedService.PRICING_PLANS && user.settings.plan_type) {\n          this.currentPlan = SharedService.PRICING_PLANS[this.userPlanType];\n        }\n        if (user.settings.language) {\n          this.selectedLanguage = this.languages.find(item => item.name === user.settings.language);\n        }\n        if (user.settings.autosave_duration !== 'none' && user.settings.autosave_duration) {\n          const duration = Number(user.settings.autosave_duration);\n          // convert duration to m:s format (1m = 60000ms, 1s = 1000ms)\n          const newDuration = duration >= 60000 ? `${duration / 60000}m` : `${duration / 1000}s`;\n          this.autosave_duration = newDuration;\n        } else {\n          this.autosave_duration = 'none';\n        }\n      });\n\n    this.store\n      .select(state => state.timezone)\n      .pipe(untilDestroyed(this))\n      .subscribe((timezonesState: TimezonesState) => {\n        this.timezones = timezonesState.timezones;\n      });\n\n    this.deleteAccountInfoForm = this.formBuilder.group({\n      contact_email: ['', [Validators.pattern(VALID_EMAIL_REGEX)]],\n      password: ['', [Validators.required]],\n    });\n    this.route.params.subscribe(parameters => {\n      if (parameters.id !== 'undefined') {\n        this.store.dispatch(new MoveTab(parameters.id));\n      }\n    });\n\n    this.timeZoneFilteredOptions = this.timeZoneFilter.valueChanges.pipe(\n      startWith(''),\n      map(name => (name ? this._filterTimeZone(name) : this.timezones.slice())),\n    );\n\n    /**\n     * Save current settings tab\n     */\n    this.store\n      .select(state => state.mail)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailState: MailState) => {\n        if (mailState.currentSettingsTab) {\n          if (this.selectedTabQueryParams === mailState.currentSettingsTab) {\n            return;\n          }\n          this.selectedTabQueryParams = mailState.currentSettingsTab;\n          this.changeUrlParams();\n          this.tabSet.select(this.selectedTabQueryParams);\n          this.cdr.detectChanges();\n        }\n      });\n  }\n\n  private _filterTimeZone(name) {\n    return this.timezones.filter(option => option.value.toLowerCase().includes(name.toLowerCase()));\n  }\n\n  toggleRecoveyEmailEdit() {\n    this.isEditingRecoveryEmail = !this.isEditingRecoveryEmail;\n  }\n\n  /**\n   * Convert milliseconds to time format(m:s)\n   */\n  initAutoSaving() {\n    const autosave_durations = [];\n    this.autosaveDurations.forEach((duration, index) => {\n      if (duration !== 'none' && duration) {\n        const perduration = Number(duration);\n        const newDuration = perduration >= 60000 ? `${perduration / 60000}m` : `${perduration / 1000}s`;\n        autosave_durations.push(newDuration);\n      } else {\n        autosave_durations.push('none');\n      }\n    });\n    this.autosave_duration_list = autosave_durations;\n  }\n\n  ngAfterViewInit() {\n    this.tabSet.select(this.selectedTabQueryParams);\n    this.cdr.detectChanges();\n  }\n\n  navigateToTab($event) {\n    const tabSelected = $event.nextId;\n    if (this.selectedTabQueryParams === tabSelected) {\n      return;\n    }\n    this.store.dispatch(new MoveTab(tabSelected));\n  }\n\n  changeUrlParams() {\n    this.router.navigateByUrl(`/mail/settings/${this.selectedTabQueryParams}`);\n  }\n\n  // == Toggle active state of the slide in price page\n  toggleSlides(index) {\n    this.selectedIndex = index;\n    document.querySelector('.package-xs-tab > li').classList.remove('active');\n    document.querySelector('.package-prime-col').classList.remove('active-slide');\n  }\n\n  onAddNewCard() {\n    if (this.userState.inProgress) {\n      return;\n    }\n    this.isAddNewCard = true;\n    this.modalService.open(this.billingInfoModal, {\n      centered: true,\n      backdrop: 'static',\n      windowClass: 'modal-lg',\n    });\n  }\n\n  onDeleteCard(card: CardState) {\n    if (this.userState.inProgress) {\n      return;\n    }\n    this.store.dispatch(new CardDelete(card.id));\n  }\n\n  onMakePrimaryCard(card: CardState) {\n    if (this.userState.inProgress) {\n      return;\n    }\n    this.store.dispatch(new CardMakePrimary(card.id));\n  }\n\n  billingInfoModalOpen(billingInfoContent) {\n    this.isAddNewCard = false;\n    this.modalService.open(billingInfoContent, {\n      centered: true,\n      windowClass: 'modal-lg',\n    });\n  }\n\n  renew() {\n    this.isAddNewCard = false;\n    this.modalService.open(this.billingInfoModal, {\n      centered: true,\n      backdrop: 'static',\n      windowClass: 'modal-lg',\n    });\n  }\n\n  public deleteWhiteList(id) {\n    this.store.dispatch(new WhiteListDelete(id));\n  }\n\n  public deleteBlackList(id) {\n    this.store.dispatch(new BlackListDelete(id));\n  }\n\n  updateLanguage(language: Language) {\n    this.settings.language = language.name;\n    this.updateSettings();\n  }\n\n  updateConversationMode(is_conversation_mode: boolean) {\n    this.updateSettings('is_conversation_mode', is_conversation_mode);\n    this.store.dispatch(new ClearMailsOnConversationModeChange());\n    this.store.dispatch(new GetUnreadMailsCount());\n  }\n\n  /**\n   * convert m:s format to milliseconds and update settings\n   */\n  updateSettings(key?: string, value?: any) {\n    if (key === 'autosave_duration') {\n      if (value.slice(-1) === 'm') {\n        value = Number(value.slice(0, -1)) * 60000;\n      }\n      if (value.slice(-1) === 's') {\n        value = Number(value.slice(0, -1)) * 1000;\n      }\n    }\n    this.settingsService.updateSettings(this.settings, key, value);\n  }\n\n  ngOnDestroy(): void {}\n\n  onUpdateSettingsBtnClick() {\n    this.store.dispatch(new SnackPush({ message: 'Settings updated successfully.' }));\n  }\n\n  onDeleteAccount() {\n    this.deleteAccountOptions = {};\n    this.deleteAccountInfoForm.reset();\n    this.deleteAccountInfoModalRef = this.modalService.open(this.deleteAccountInfoModal, {\n      centered: true,\n      windowClass: 'modal-sm',\n    });\n  }\n\n  onDeleteAccountInfoSubmit() {\n    this.deleteAccountOptions.showErrors = true;\n    if (this.deleteAccountInfoForm.valid) {\n      this.deleteAccountInfoModalRef.dismiss();\n      this.confirmDeleteAccountModalRef = this.modalService.open(this.confirmDeleteAccountModal, {\n        centered: true,\n        windowClass: 'modal-sm',\n      });\n    }\n  }\n\n  // == Toggle password visibility\n  togglePassword(input: any): any {\n    if (!input.value) {\n      return;\n    }\n    input.type = input.type === 'password' ? 'text' : 'password';\n  }\n\n  confirmDeleteAccount() {\n    const data = {\n      ...this.deleteAccountInfoForm.value,\n      username: this.userState.username,\n    };\n    this.store.dispatch(new DeleteAccount(data));\n    this.confirmDeleteAccountModalRef.dismiss();\n  }\n\n  requestNotificationPermission() {\n    this.pushNotificationService.requestPermission();\n  }\n\n  scrollTop(element: HTMLElement) {\n    element.scroll(0, 0);\n  }\n\n  scroll(element: HTMLElement) {\n    element.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  testNotification() {\n    const options = new PushNotificationOptions();\n    options.body = 'You have received a new email';\n    options.icon = 'https://mail.ctemplar.com/assets/images/media-kit/mediakit-logo4.png';\n\n    this.pushNotificationService.create('Test Notification', options).subscribe(\n      notif => {\n        if (notif.event.type === 'click') {\n          notif.notification.close();\n        }\n      },\n      error => {\n        console.log(error);\n      },\n    );\n  }\n\n  onViewInvoice(invoice: Invoice) {\n    this.viewInvoice(invoice);\n  }\n\n  onPrintInvoice(invoice: Invoice) {\n    this.viewInvoice(invoice, true);\n  }\n\n  viewInvoice(invoice: Invoice, print = false) {\n    let popupWin;\n    let invoiceItems = '';\n    invoice.items.forEach(item => {\n      invoiceItems += `\n        <tr>\n          <td>${moment(invoice.invoice_date).format('DD/MM/YYYY')}</td>\n          <td>${item.type || invoice.payment_method}</td>\n          <td>${item.description}</td>\n          <td>${item.quantity}</td>\n          <td><b>$${(item.amount / 100).toFixed(2)}</b></td>\n        </tr>\n      `;\n    });\n\n    let invoiceData = `\n      <html>\n      <head>\n        <title>Invoice : ${invoice.invoice_id}</title>\n        <style>\n            body {\n                font-family: \"Roboto\", Helvetica, Arial, sans-serif;\n            }\n\n            div.divFooter {\n                position: fixed;\n                bottom: 75px;\n                width: 100%;\n                text-align: center;\n                display: none;\n            }\n\n            @media print {\n              div.divFooter {\n                display: unset;\n              }\n            }\n\n            .container {\n                padding: 15px;\n                margin: auto;\n                color: #757675;\n                border: 1px solid #757675;\n                width: 21cm;\n                min-height: 29.7cm;\n            }\n\n            .row {\n                padding-left: -15px;\n                padding-right: -15px;\n                display: flex;\n                flex-wrap: wrap;\n            }\n\n            .col-4 {\n                flex: 0 0 33.3333333333%;\n                max-width: 33.3333333333%;\n            }\n\n            .col-8 {\n                flex: 0 0 66.6666666667%;\n                max-width: 66.6666666667%;\n            }\n\n            .text-center {\n                text-align: center;\n            }\n\n            .color-primary {\n                color: #2f4254;\n            }\n\n            .page-title {\n                font-weight: 300;\n            }\n\n            table {\n                border-collapse: collapse;\n                width: 100%;\n            }\n\n            th,\n            td {\n                text-align: left;\n                padding: 20px;\n            }\n\n            th {\n                text-transform: uppercase;\n                color: rgba(0, 0, 0, 0.54);\n                font-weight: normal;\n            }\n\n            tr:nth-child(even) {\n                background-color: #f2f2f2;\n            }\n        </style>\n      </head>`;\n    if (print) {\n      invoiceData += `<body onload=\"window.print();window.close()\">`;\n    } else {\n      invoiceData += `<body>`;\n    }\n    invoiceData += `\n    <div class=\"container\">\n        <div class=\"row\" style=\"margin-top: 1rem;\">\n            <div class=\"col-8\">\n                <img src=\"https://mail.ctemplar.com/assets/images/media-kit/mediakit-logo-sec.png\"\n                    style=\"height: 9rem;margin-left: 2rem;\">\n            </div>\n            <div class=\"col-4 color-primary\">\n                <div style=\"text-align: right;padding-right: 35px; line-height: 1.5;\">\n                    <div><b>Invoice # </b>${invoice.invoice_id}</div>\n                    <div><b>Invoice date : </b>${moment(invoice.invoice_date).format('DD/MM/YYYY')}</div>\n                    <div style=\"margin-top:20px;\"><b>Membership : </b>${invoice.payment_type}</div>\n                    <br>\n                    <div style=\"margin-top: 10px; font-size: 20px;\"><b>Status : <label style=\"color: green;\">PAID<label></label></b>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div style=\"margin-top: 7rem;\">\n            <table>\n                <tr>\n                    <th>Date</th>\n                    <th>Type</th>\n                    <th>Description</th>\n                    <th>QTY</th>\n                    <th>Amount (USD)</th>\n                </tr>\n                ${invoiceItems}\n                <tr>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td>TOTAL</td>\n                    <td><b> $${(invoice.total_amount / 100).toFixed(2)}</b></td>\n                </tr>\n            </table>\n        </div>\n         <div style=\"margin-top:5rem\">\n            <div><b class=\"color-primary\" style=\"padding-right: 81px;\">Storage </b>${\n              invoice.storage / (1024 * 1024)\n            }GB</div>\n            <div><b class=\"color-primary\" style=\"padding-right: 18px;\">Email addresses</b>${\n              invoice.email_addresses\n            }</div>\n            <div><b class=\"color-primary\" style=\"padding-right: 76px;\">Domains</b>${invoice.custom_domains}</div>\n        </div>\n    </div>\n    <div class=\"color-primary divFooter\">\n        <div><b>Orange Project ehf | Armula 4 &amp; 6 | Reykjavk, 108 | Iceland</b></div>\n    </div>\n</body>\n</html>`;\n\n    popupWin = window.open('', '_blank', 'top=0,left=0,height=auto,width=auto');\n    popupWin.document.open();\n    popupWin.document.write(invoiceData);\n    popupWin.document.close();\n  }\n}\n","<div class=\"desc-card\">\n  <div class=\"desc-card-header ui-header ui-header-bordered border-all-corner border-bottom-0 position-relative\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0 d-inline-block\">\n      <strong [translate]=\"'settings.domains_and_users.users'\">Users</strong>\n      <app-loading-spinner [showSpinner]=\"false\" optionalClasses=\"custom-domains-spinner\"></app-loading-spinner>\n    </h5>\n    <a href=\"{{ primaryWebsite }}/help/answer/add-an-user/\" ngbTooltip=\"Learn more\" class=\"users-info-icon\" target=\"_blank\">\n      <i class=\"far fa-question-circle\"></i>\n    </a>\n    <div class=\"beta-users\" placement=\"left\" ngbTooltip=\"This is beta feature and free for all as long as it is in beta, once it is fully released, you will be charged for it.\">\n      Beta\n      <i class=\"far fa-question-circle info-icon\"></i>\n    </div>\n  </div>\n  <div class=\"desc-card-body bg-faded users-body\">\n    <button class=\"btn btn-secondary users-add-button text-small\" (click)=\"openAddUserModal()\" *ngIf=\"customDomains?.length > 0; else noCustomDomain\">\n      <span [translate]=\"'settings.add_user'\">Add User</span>\n    </button>\n\n    <ng-template #noCustomDomain>\n      <div class=\"py-4 error-message\" *ngIf=\"userState?.customDomainsLoaded\" [translate]=\"'settings.domains_and_users.custom_domain'\">Please add a custom domain first in order to add users.</div>\n    </ng-template>\n\n    <app-loading-spinner class=\"loading-spinner\" [showSpinner]=\"organizationState?.inProgress\"></app-loading-spinner>\n\n    <div *ngIf=\"users?.length > 0\">\n      <ul class=\"ui-list ui-list-styled list-styled users-list\">\n        <li class=\"ui-list-item ui-list-item-xs-full\">\n          <div class=\"row row-xs align-items-center\">\n            <div class=\"col-4 font-weight-bold col-item\" [translate]=\"'page_pricing.user'\">User</div>\n            <div class=\"col-2 col-item\">\n              <div class=\"form-label mb-0 font-weight-bold\" [translate]=\"'settings.domain'\">Domain</div>\n            </div>\n            <div class=\"col-3 font-weight-bold col-item\" [translate]=\"'settings.recovery_email'\">Recovery Email</div>\n          </div>\n        </li>\n\n        <li class=\"ui-list-item ui-list-item-xs-full\" *ngFor=\"let user of users\">\n          <div class=\"row row-xs align-items-center\">\n            <div class=\"col-4 text-dark col-item\" [ngbTooltip]=\"user.username\">\n              {{ user.username }}\n            </div>\n            <div class=\"col-2 col-item\">\n              <div class=\"form-label text-dark mb-0\">\n                {{ user.domain }}\n              </div>\n            </div>\n            <div class=\"col-3 text-dark col-item\">\n              <div *ngIf=\"!user.isEditing\">\n                {{ user.recovery_email }}\n              </div>\n              <div *ngIf=\"user.isEditing\">\n                <input class=\"form-control text-dark\" [(ngModel)]=\"user.recovery_email\" [placeholder]=\"'settings.recovery_email' | translate\" autofocus=\"autofocus\" type=\"email\" name=\"recovery_email\" />\n              </div>\n            </div>\n\n            <div class=\"col-3 text-right\">\n              <a class=\"text-muted actions\" *ngIf=\"!user.isEditing\" (click)=\"user.isEditing = true; startUpdatingUser(user)\" [ngbTooltip]=\"'settings.edit' | translate\">\n                <i class=\"icon icon-edit\"></i>\n              </a>\n              <a class=\"text-muted actions\" *ngIf=\"user.isEditing\" (click)=\"user.isEditing = false; updateUser(user)\" [ngbTooltip]=\"'common.save' | translate\">\n                <i class=\"icon icon-save-disk\"></i>\n              </a>\n              <a class=\"text-muted actions\" [ngbTooltip]=\"'settings.delete' | translate\" (click)=\"openConfirmDeleteModal(user)\">\n                <i class=\"icon icon-garbage\"></i>\n              </a>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n<!-- Add user modal -->\n<ng-template #addUserModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'settings.add_user'\">Add User</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"closeAddUserModal()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\" *ngIf=\"isAddingUser\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\">\n        <!--User Add form-->\n        <div class=\"form\">\n          <form class=\"user-add-form\" [formGroup]=\"addUserForm\" #form=\"ngForm\">\n            <div>\n              <div class=\"full-width\">\n                <strong [translate]=\"'create_account.information_label'\">Information:</strong>\n                <span class=\"information-content mb-4\" [translate]=\"'create_account.create_address_warning'\">\n                  By adding a user, a new mailbox will be created with a free plan. It is usually used when you have a team and you want to create a separate mailbox. If you are the one who will use the address, in order to keep the benefits of your paid plan, you have to\n                  <a class=\"ml-1\" [translate]=\"'create_account.go_to_create_address'\" (click)=\"closeAddUserModal()\"> Create an address. </a>\n                </span>\n              </div>\n              <div class=\"form-step-card\">\n                <label class=\"text-dark mb-0\">\n                  <strong [translate]=\"'create_account.username_and_domain'\">Username and domain</strong>\n                </label>\n                <div class=\"form-group position-relative\">\n                  <div\n                    class=\"form-inline userame-field-group\"\n                    [ngClass]=\"{\n                      'is-validate': addUserForm.controls.username.invalid && (addUserForm.controls.username.touched || submitted)\n                    }\"\n                  >\n                    <label for=\"username\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'create_account.choose_username'\"> Choose username </label>\n                    <input class=\"form-control text-dark mb-3 mb-sm-0 username-container\" id=\"username\" [placeholder]=\"'create_account.choose_username' | translate\" type=\"text\" name=\"username\" formControlName=\"username\" />\n                    <span class=\"domain-separator text-center text-dark\">@</span>\n                    <div class=\"btn-dropdown btn-dropdown-select username-container\">\n                      <div ngbDropdown class=\"dropdown-sm\">\n                        <button ngbDropdownToggle class=\"dropdown-toggle custom-domains-dropdown\" id=\"custom-domains\" role=\"button\">\n                          <div>{{ addUserForm.get('domain').value }}</div>\n                        </button>\n                        <div ngbDropdownMenu aria-labelledby=\"signatureEmailAddressDropdownMenuButton\">\n                          <a class=\"dropdown-item\" *ngFor=\"let customDomain of customDomains\" (click)=\"addUserForm.get('domain').setValue(customDomain); addUserForm.get('username').reset(); errorMessage = ''\">\n                            {{ customDomain }}\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n\n                    <ng-container *ngIf=\"newAddressOptions.inProgress; else showIcons\">\n                      <app-loading-spinner class=\"username-availability-spinner\" [showSpinner]=\"true\"> </app-loading-spinner>\n                    </ng-container>\n                    <ng-template #showIcons>\n                      <i class=\"fas fa-check green input-icon\" *ngIf=\"newAddressOptions.usernameExists === false && !addUserForm.controls['username'].errors\"> </i>\n                      <i class=\"fas fa-times text-danger input-icon\" *ngIf=\"newAddressOptions.usernameExists === true || (addUserForm.controls['username'].errors && (addUserForm.controls['username'].touched || submitted))\"> </i>\n                    </ng-template>\n                  </div>\n                  <span *ngIf=\"userExistError\" class=\"validate-message\">{{ userExistError }}</span>\n\n                  <ng-container *ngIf=\"addUserForm.controls['username'].errors && (addUserForm.controls['username'].touched || submitted); else usernameExistsBlock\">\n                    <span class=\"validate-message\" *ngIf=\"addUserForm.controls['username'].errors\">\n                      <ng-container *ngIf=\"addUserForm.controls['username'].errors.pattern; else usernameLengthBlock\">\n                        <span [translate]=\"'settings.username_allowed_chars'\"> The username must start with a letter and end with a letter or number.It may only contain </span>\n                        &nbsp;<em>a-z</em>, <em>A-Z</em>, <em>0-9</em> or <em>._-</em> &nbsp;\n                        <span [translate]=\"'settings.username_constraint'\"> characters and it must be between 1 and 128 characters. </span>\n                      </ng-container>\n                      <ng-template #usernameLengthBlock>\n                        <ng-container *ngIf=\"addUserForm.controls['username'].errors.maxlength\">\n                          <span [translate]=\"'settings.org_username_len'\"> The username must be between 2 and 128 characters. </span>\n                        </ng-container>\n                      </ng-template>\n                    </span>\n                    <span *ngIf=\"addUserForm.controls['username'].errors.required\" class=\"validate-message\" [translate]=\"'settings.username_required'\"> The username is required. </span>\n                  </ng-container>\n                  <ng-template #usernameExistsBlock>\n                    <span *ngIf=\"newAddressOptions.usernameExists === true\" class=\"validate-message\" [translate]=\"'settings.username_exist'\"> Username already exists. </span>\n                  </ng-template>\n                </div>\n              </div>\n              <div>\n                <label class=\"text-dark mb-0\">\n                  <strong [translate]=\"'settings.password'\">Password</strong>\n                </label>\n                <div class=\"form-group position-relative\">\n                  <label for=\"choosePassword\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'create_account.choose_password'\"> Choose Password </label>\n                  <div class=\"input-group\">\n                    <input #input class=\"form-control border-right-0\" id=\"choosePassword\" [placeholder]=\"'create_account.choose_password' | translate\" type=\"password\" aria-describedby=\"passwordToggle\" name=\"password\" formControlName=\"password\" />\n                    <span class=\"input-group-addon password-toggle bg-white text-muted\" id=\"passwordToggle\" (click)=\"togglePassword(input)\">\n                      <i class=\"fa fa-eye\"></i>\n                      <i class=\"fa fa-eye-slash\"></i>\n                    </span>\n                  </div>\n                  <i class=\"fas fa-check green password-ok input-icon\" *ngIf=\"addUserForm.controls['password']?.value?.length > 0 && addUserForm.controls['password']?.value?.length <= 128\"></i>\n                  <div *ngIf=\"addUserForm.controls['password'].errors && (addUserForm.controls['password'].touched || submitted)\" class=\"validate-message\">\n                    <ng-container *ngIf=\"addUserForm.controls['password'].errors.required\">\n                      <span [translate]=\"'login.password_required'\"> The password is required. </span>\n                    </ng-container>\n                    <ng-container *ngIf=\"addUserForm.controls['password'].errors.maxlength\">\n                      <span [translate]=\"'settings.password_length'\"> The password must be less than 128 characters. </span>\n                    </ng-container>\n                  </div>\n                </div>\n                <div class=\"form-group position-relative\">\n                  <label for=\"confirmPassword\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'create_account.confirm_password'\"> Confirm Password </label>\n                  <div\n                    class=\"input-group\"\n                    [ngClass]=\"{\n                      'is-validate': addUserForm.controls.confirmPwd.invalid && !addUserForm.controls.confirmPwd.pristine\n                    }\"\n                  >\n                    <input #input2 class=\"form-control border-right-0\" id=\"confirmPassword\" [placeholder]=\"'create_account.confirm_password' | translate\" type=\"password\" aria-describedby=\"cofirmpasswordToggle\" name=\"confirmPwd\" formControlName=\"confirmPwd\" />\n                    <span class=\"input-group-addon password-toggle bg-white text-muted\" id=\"cofirmpasswordToggle\" (click)=\"togglePassword(input2)\">\n                      <i class=\"fa fa-eye\"></i>\n                      <i class=\"fa fa-eye-slash\"></i>\n                    </span>\n                  </div>\n                  <i class=\"fas fa-check green password-ok input-icon\" *ngIf=\"!addUserForm.controls['confirmPwd'].errors\"></i>\n                  <span *ngIf=\"addUserForm.controls['confirmPwd'].errors && (!addUserForm.controls.confirmPwd.pristine || submitted)\" class=\"validate-message\">\n                    <span [translate]=\"'create_account.passwords_not_match'\">Passwords do not match.</span>\n                  </span>\n                </div>\n              </div>\n\n              <div\n                [ngClass]=\"{\n                  'is-validate': addUserForm.get('recoveryEmail').invalid && addUserForm.controls['recoveryEmail'].touched\n                }\"\n              >\n                <label class=\"text-dark mb-0\">\n                  <strong [translate]=\"'create_account.recovery_email_optional'\">Recovery email (optional)</strong>\n                </label>\n                <div class=\"form-group\">\n                  <label for=\"recoveryEmail\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'settings.recovery_email'\"> Recovery email </label>\n                  <input class=\"form-control text-dark\" id=\"recoveryEmail\" [placeholder]=\"'settings.recovery_email' | translate\" type=\"email\" name=\"recoveryEmail\" formControlName=\"recoveryEmail\" />\n                  <span *ngIf=\"addUserForm.controls['recoveryEmail'].errors && addUserForm.controls['recoveryEmail'].touched\" id=\"email-valid1\" class=\"validate-message\" [translate]=\"'settings.email_invalid'\"> The email is invalid. </span>\n                </div>\n              </div>\n\n              <div class=\"form-group text-center\">\n                <button class=\"btn btn-lg btn-secondary\" [disabled]=\"isAddingUserInProgress\" (click)=\"submitAddUser()\" type=\"submit\" role=\"button\">\n                  <span [translate]=\"'settings.add_user'\">Add User</span>\n                </button>\n                <app-loading-spinner [showSpinner]=\"isAddingUserInProgress\"></app-loading-spinner>\n              </div>\n              <div *ngIf=\"errorMessage\" class=\"validate-message\">\n                {{ errorMessage }}\n                <br />\n                <span [translate]=\"'settings.only_allow_5'\"> Note: We only allow 5 users per domain until the feature is in beta. </span>\n              </div>\n            </div>\n          </form>\n        </div>\n        <!--User Add form END-->\n      </div>\n    </div>\n  </div> </ng-template\n><!-- Add User modal ends -->\n\n<!-- Confirm user delete modal -->\n<ng-template #confirmDeleteModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h3 class=\"modal-title w-100 text-dark\">\n      <strong [translate]=\"'contacts.delete.title'\">Confirm Delete</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n      <div class=\"form-group\">\n        <span [translate]=\"'contacts.delete.message'\">Are you sure, you want to delete</span>\n        <strong>{{ selectedUser?.username }}</strong\n        >?<br />\n        <span class=\"warning\">\n          <span class=\"warning-text\" [translate]=\"'settings.warning'\">Warning</span>:\n          <span [translate]=\"'settings.associated_data'\"> All the associated data (if any) of this user will also be deleted. </span>\n        </span>\n      </div>\n      <div class=\"form-group text-right mb-0\">\n        <app-loading-spinner [showSpinner]=\"organizationState.isDeleteInProgress\"></app-loading-spinner>\n        <button (click)=\"cancelDelete()\" class=\"btn btn-secondary btn-sm mr-2\" [disabled]=\"organizationState.isDeleteInProgress\" [translate]=\"'common.cancel'\" role=\"button\">\n          <span [translate]=\"'common.cancel'\">Cancel</span>\n        </button>\n        <button (click)=\"confirmDelete()\" class=\"btn btn-danger btn-sm\" [translate]=\"'common.delete'\" [disabled]=\"organizationState.isDeleteInProgress\" role=\"button\">\n          <span [translate]=\"'common.delete'\">Delete</span>\n        </button>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.Confirm delete modal ends -->\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { OrganizationUser } from '../../../../store/models';\nimport { PRIMARY_WEBSITE, VALID_EMAIL_REGEX } from '../../../../shared/config';\nimport { PasswordValidation } from '../../../../users/users-create-account/users-create-account.component';\nimport { AppState, UserState } from '../../../../store/datatypes';\nimport { OpenPgpService, UsersService } from '../../../../store/services';\nimport {\n  AddOrganizationUser,\n  DeleteOrganizationUser,\n  OrganizationState,\n  UpdateOrganizationUser,\n} from '../../../../store/organization.store';\nimport { MoveTab } from '../../../../store/actions';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-organization-users',\n  templateUrl: './organization-users.component.html',\n  styleUrls: ['./organization-users.component.scss'],\n})\nexport class OrganizationUsersComponent implements OnInit, OnDestroy {\n  @ViewChild('addUserModal') addUserModal;\n\n  @ViewChild('confirmDeleteModal') confirmDeleteModal;\n\n  users: OrganizationUser[];\n\n  addUserForm: FormGroup;\n\n  errorMessage: any;\n\n  userExistError: string;\n\n  submitted: boolean;\n\n  organizationState: OrganizationState;\n\n  customDomains: string[];\n\n  newAddressOptions = { usernameExists: false, inProgress: false };\n\n  isAddingUser: boolean;\n\n  isAddingUserInProgress: boolean;\n\n  userState: UserState;\n\n  selectedUser: OrganizationUser;\n\n  primaryWebsite = PRIMARY_WEBSITE;\n\n  private addUserModalRef: NgbModalRef;\n\n  private confirmDeleteModalRef: NgbModalRef;\n\n  private isDeleteInProgress: boolean;\n\n  constructor(\n    private modalService: NgbModal,\n    private store: Store<AppState>,\n    private usersService: UsersService,\n    private openPgpService: OpenPgpService,\n    private formBuilder: FormBuilder,\n  ) {}\n\n  ngOnInit() {\n    this.addUserForm = this.formBuilder.group(\n      {\n        username: [\n          '',\n          [\n            Validators.required,\n            Validators.pattern(/^\\w+([.-]?\\w+)*$/),\n            Validators.maxLength(128),\n            Validators.minLength(1),\n          ],\n        ],\n        domain: ['', Validators.required],\n        password: ['', [Validators.required, Validators.maxLength(128)]],\n        confirmPwd: ['', [Validators.required, Validators.maxLength(128)]],\n        recoveryEmail: ['', [Validators.pattern(VALID_EMAIL_REGEX)]],\n      },\n      {\n        validator: PasswordValidation.MatchPassword,\n      },\n    );\n\n    /**\n     * Get user's custom domains\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n        this.customDomains = user.customDomains\n          .filter(item => item.is_domain_verified && item.is_mx_verified)\n          .map(item => item.domain);\n        if (this.customDomains.length > 0) {\n          this.addUserForm.get('domain').setValue(this.customDomains[0]);\n        }\n      });\n\n    this.store\n      .select(state => state.organization)\n      .pipe(untilDestroyed(this))\n      .subscribe((organizationState: OrganizationState) => {\n        this.organizationState = organizationState;\n        this.users = organizationState.users;\n        if (this.isAddingUserInProgress && !this.organizationState.isAddingUserInProgress) {\n          this.isAddingUserInProgress = false;\n          if (this.organizationState.isError) {\n            this.errorMessage = this.organizationState.error;\n          } else {\n            this.closeAddUserModal();\n          }\n        }\n        if (this.isDeleteInProgress && !this.organizationState.isDeleteInProgress) {\n          this.isDeleteInProgress = false;\n          this.cancelDelete();\n        }\n      });\n\n    this.handleUsernameAvailability();\n  }\n\n  openAddUserModal() {\n    this.errorMessage = null;\n    this.isAddingUser = true;\n    this.addUserForm.get('domain').setValue(this.customDomains[0]);\n    this.addUserModalRef = this.modalService.open(this.addUserModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal org-user-add-modal',\n      backdrop: 'static',\n    });\n    this.addUserModalRef.result.then(\n      result => {\n        this.addUserModalClosed();\n      },\n      error => {\n        this.addUserModalClosed();\n      },\n    );\n  }\n\n  addUserModalClosed() {\n    this.addUserForm.reset();\n    this.isAddingUserInProgress = false;\n    this.isAddingUser = false;\n    this.newAddressOptions = { usernameExists: false, inProgress: false };\n    this.submitted = false;\n  }\n\n  closeAddUserModal() {\n    this.addUserModalRef.close();\n    this.store.dispatch(new MoveTab('addresses-and-signatures'));\n  }\n\n  submitAddUser() {\n    this.submitted = true;\n    this.errorMessage = null;\n    if (this.addUserForm.invalid || this.newAddressOptions.usernameExists === true) {\n      return false;\n    }\n    this.isAddingUserInProgress = true;\n    this.openPgpService.generateUserKeys(\n      this.addUserForm.value.username,\n      this.addUserForm.value.password,\n      this.addUserForm.value.domain,\n    );\n    if (this.openPgpService.getUserKeys()) {\n      this.addNewUser();\n    } else {\n      this.openPgpService.waitForPGPKeys(this, 'addNewUser');\n    }\n  }\n\n  addNewUser() {\n    const user = new OrganizationUser({\n      ...this.addUserForm.value,\n      ...this.openPgpService.getUserKeys(),\n      username: this.getEmail(),\n    });\n    this.store.dispatch(new AddOrganizationUser(user));\n  }\n\n  startUpdatingUser(user: OrganizationUser) {\n    user.unmodifiedUser = new OrganizationUser(user);\n  }\n\n  updateUser(user: OrganizationUser) {\n    this.store.dispatch(new UpdateOrganizationUser(user));\n  }\n\n  openConfirmDeleteModal(user: OrganizationUser) {\n    if (!this.organizationState.inProgress) {\n      this.selectedUser = user;\n      this.confirmDeleteModalRef = this.modalService.open(this.confirmDeleteModal, {\n        centered: true,\n        windowClass: 'modal-sm users-action-modal',\n        backdrop: 'static',\n      });\n    }\n  }\n\n  confirmDelete() {\n    this.isDeleteInProgress = true;\n    this.store.dispatch(new DeleteOrganizationUser(this.selectedUser));\n  }\n\n  cancelDelete() {\n    this.selectedUser = null;\n    this.confirmDeleteModalRef.close();\n  }\n\n  private getEmail() {\n    return `${this.addUserForm.controls.username.value}@${this.addUserForm.controls.domain.value}`;\n  }\n\n  /**\n   * Check username + domain can be used for new address\n   */\n  private handleUsernameAvailability() {\n    this.addUserForm\n      .get('username')\n      .valueChanges.pipe(debounceTime(1000), untilDestroyed(this))\n      .subscribe(username => {\n        this.userExistError = null;\n        if (!username) {\n          return;\n        }\n        if (!this.addUserForm.controls.username.errors) {\n          this.newAddressOptions.inProgress = true;\n          this.usersService.checkUsernameAvailability(this.getEmail()).subscribe(\n            response => {\n              this.newAddressOptions.usernameExists = response.exists;\n              this.newAddressOptions.inProgress = false;\n            },\n            error => {\n              this.userExistError = error.error;\n              this.newAddressOptions.inProgress = false;\n              this.newAddressOptions.usernameExists = null;\n            },\n          );\n        }\n      });\n  }\n\n  // == Toggle password visibility\n  togglePassword(input: any): any {\n    if (!input.value) {\n      return;\n    }\n    input.type = input.type === 'password' ? 'text' : 'password';\n  }\n\n  ngOnDestroy(): void {}\n}\n","<ng-template #modalContent let-c=\"close\" let-d=\"dismiss\">\n  <form class=\"whitelist-form\" [formGroup]=\"contactForm\" #form=\"ngForm\">\n    <div class=\"modal-header\">\n      <h3 class=\"modal-title w-100 text-dark\" id=\"whitelistModalLabel\">\n        <strong>\n          <span [translate]=\"'settings.add_to'\">Add to</span>\n          {{ contactType.toLowerCase() }}\n        </strong>\n      </h3>\n      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    <div class=\"modal-body bg-faded\">\n      <div class=\"form-content-holder\">\n        <div class=\"form-group\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-sm-3\">\n              <label class=\"form-label mb-sm-0\" for=\"whitelistName\" [translate]=\"'common.name'\"> Name: </label>\n            </div>\n            <div class=\"col-sm-9\">\n              <div class=\"form-content-row mb-0\">\n                <input class=\"form-control form-control-sm\" id=\"whitelistName\" type=\"text\" formControlName=\"name\" />\n              </div>\n            </div>\n          </div>\n          <span *ngIf=\"contactForm.controls['name'].errors && showFormErrors\" id=\"name-valid\" class=\"validate-message\">\n            <span *ngIf=\"contactForm.controls['name'].errors.required\" [translate]=\"'settings.username_required'\"> The username is required. </span>\n          </span>\n        </div>\n        <div class=\"form-group mb-0\">\n          <div class=\"row align-items-center\">\n            <div class=\"col-sm-3\">\n              <label class=\"form-label mb-sm-0\" for=\"whitelistEmail\" [translate]=\"'common.email'\"> E-mail: </label>\n            </div>\n            <div class=\"col-sm-9\">\n              <div class=\"form-content-row mb-0\">\n                <input class=\"form-control form-control-sm\" id=\"whitelistEmail\" type=\"text\" formControlName=\"email\" />\n              </div>\n            </div>\n          </div>\n          <span *ngIf=\"contactForm.controls['email'].errors && showFormErrors\" id=\"email-valid\" class=\"validate-message\">\n            <span *ngIf=\"contactForm.hasError('email', 'email')\" [translate]=\"'settings.email_required'\"> The email is required. </span>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class=\"modal-footer justify-content-center justify-content-sm-end\">\n      <button [disabled]=\"inProgress\" (click)=\"addContact()\" class=\"btn btn-secondary btn-sm\" role=\"button\">\n        {{ contact?.id ? ('common.save' | translate) : ('settings.add' | translate) }}\n      </button>\n      <app-loading-spinner [showSpinner]=\"inProgress\"></app-loading-spinner>\n    </div>\n  </form>\n</ng-template>\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, BlackList, UserState, WhiteList } from '../../../store/datatypes';\nimport { BlackListAdd, WhiteListAdd } from '../../../store/actions';\nimport { NotificationService } from '../../../store/services/notification.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-save-list-contact',\n  templateUrl: './save-list-contact.component.html',\n  styleUrls: ['./save-list-contact.component.scss'],\n})\nexport class SaveListContactComponent implements OnInit, OnDestroy {\n  @Input() public contactType: 'Whitelist' | 'Blacklist' = 'Whitelist';\n\n  @Input() public contact: WhiteList | BlackList = { email: '', name: '' };\n\n  @Output() public closed = new EventEmitter();\n\n  @ViewChild('modalContent') modalContent: any;\n\n  public contactForm: FormGroup;\n\n  public showFormErrors: boolean;\n\n  private modalRef: NgbModalRef;\n\n  public inProgress: boolean;\n\n  constructor(\n    private modalService: NgbModal,\n    private store: Store<AppState>,\n    private notificationService: NotificationService,\n    private formBuilder: FormBuilder,\n  ) {}\n\n  ngOnInit() {\n    this.contactForm = this.formBuilder.group({\n      name: ['', [Validators.required]],\n      email: ['', [Validators.email]],\n    });\n    setTimeout(() => {\n      this.openModal();\n    }, 50);\n\n    this.handleUserState();\n  }\n\n  /**\n   * Display notification about saving contacts\n   */\n  private handleUserState(): void {\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((state: UserState) => {\n        if (this.inProgress && !state.inProgress) {\n          this.inProgress = false;\n          if (!state.isError) {\n            this.notificationService.showSnackBar(\n              `${this.contactType} contact ${this.contact.id ? 'updated' : 'saved'} successfully.`,\n            );\n            this.closed.emit();\n            this.modalRef.close();\n          } else {\n            this.notificationService.showSnackBar(\n              `Failed to ${this.contact.id ? 'update' : 'save'} ${this.contactType} contact.${state.error}`,\n            );\n          }\n        }\n      });\n  }\n\n  openModal() {\n    this.modalRef = this.modalService.open(this.modalContent, {\n      centered: true,\n      windowClass: 'modal-sm',\n    });\n    this.modalRef.result.then(\n      result => {\n        this.closed.emit();\n      },\n      error => {\n        this.closed.emit();\n      },\n    );\n  }\n\n  /**\n   * Save to whitelist or blacklist according to contactType\n   */\n  public addContact() {\n    this.showFormErrors = true;\n    if (this.contactForm.valid) {\n      this.inProgress = true;\n      if (this.contactType === 'Whitelist') {\n        this.store.dispatch(new WhiteListAdd(this.contactForm.value));\n      } else {\n        this.store.dispatch(new BlackListAdd(this.contactForm.value));\n      }\n    }\n  }\n\n  ngOnDestroy(): void {}\n}\n","<section class=\"mailbox-section\">\n  <header class=\"ui-header ui-header-bordered\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0\">\n      <strong [translate]=\"'settings.security_settings'\"> Security settings </strong>\n    </h5>\n  </header>\n  <div class=\"mailbox-section-body mailbox-section-body-sm\">\n    <div class=\"form-content-holder\">\n      <!-- Password Change -->\n      <div class=\"form-content-row\">\n        <div class=\"row label-align\">\n          <div class=\"col-sm-3\">\n            <label for=\"securityPassword\" class=\"form-label mb-sm-0\" [translate]=\"'settings.password'\"> Password </label>\n          </div>\n          <div class=\"col-sm-7 col-md-5\">\n            <input class=\"form-control form-control-sm\" id=\"securityPassword\" type=\"password\" [disabled]=\"true\" value=\"********\" />\n            <span class=\"form-label-text mt-1\">\n              <a href=\"javascript:void(0);\" role=\"button\" class=\"text-uppercase btn-link\" (click)=\"openChangePasswordModal()\">\n                <strong>\n                  <u [translate]=\"'settings.change_now'\">Change now</u>\n                </strong>\n              </a>\n            </span>\n          </div>\n        </div>\n      </div>\n      <!-- 2 Factor Authentication -->\n      <div class=\"form-content-row\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label class=\"form-label mb-sm-0\" [translate]=\"'page_pricing.two_factore_auth'\"> 2 Factor authentication </label>\n          </div>\n          <div class=\"col-sm-7 col-md-5\">\n            <div class=\"row row-sm\">\n              <a *ngIf=\"!settings.enable_2fa\" (click)=\"get2FASecret(); auth2FAForm = { auth2FAStep: 1, enable_2fa: true }\" href=\"javascript:void(0);\" class=\"col-12 text-uppercase btn-link\" role=\"button\">\n                <strong>\n                  <u [translate]=\"'settings.security.set_up_2FA'\">Set up 2 Factor authentication</u>\n                </strong>\n              </a>\n              <a *ngIf=\"settings.enable_2fa\" (click)=\"disable2FA()\" href=\"javascript:void(0);\" class=\"col-12 text-uppercase btn-link\" role=\"button\">\n                <strong>\n                  <u [translate]=\"'settings.security.disable_2FA'\">Disable 2 Factor authentication</u>\n                </strong>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- Recovery mail setting -->\n      <div class=\"form-content-row\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label for=\"recoveryMail\" class=\"form-label mb-sm-0\" [translate]=\"'settings.recovery_email'\"> Recovery email </label>\n          </div>\n          <form class=\"col-sm-7 col-md-5\" autocomplete=\"off\">\n            <input class=\"form-control form-control-sm\" id=\"recoveryMail\" type=\"email\" name=\"email\" autocomplete=\"off\" [(ngModel)]=\"settings.recovery_email\" [ngModelOptions]=\"{ updateOn: 'blur' }\" (change)=\"updateSettings('recovery_email', $event.target.value)\" placeholder=\"example@mail.com\" />\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <header class=\"ui-header ui-header-bordered\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0\">\n      <strong [translate]=\"'settings.compose.encryption'\">Encryption</strong>\n    </h5>\n  </header>\n  <div class=\"mailbox-section-body mailbox-section-body-sm\">\n    <div class=\"form-content-holder\">\n      <!-- Subject Encryption -->\n      <div class=\"form-content-row\" ngbTooltip=\"{{ planType === planTypeEnum.FREE ? ('settings.security.upgrade_to_paid' | translate) : '' }}\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label class=\"form-label mb-sm-0\" [translate]=\"'settings.security.subjects_encryption'\"> Subjects encryption </label>\n          </div>\n          <div [class.disabled]=\"planType === planTypeEnum.FREE\" class=\"col-sm-7 col-md-5 subject-encryption\">\n            <div class=\"row row-sm\">\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"subjectEncryption1\" name=\"[2]\" type=\"radio\" (click)=\"updateSettings('is_subject_encrypted', true)\" [checked]=\"settings?.is_subject_encrypted\" />\n                  <label for=\"subjectEncryption1\" [translate]=\"'common.enabled'\">Enabled</label>\n                </div>\n              </div>\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"subjectEncryption2\" name=\"[2]\" type=\"radio\" (click)=\"updateSettings('is_subject_encrypted', false)\" [checked]=\"!settings?.is_subject_encrypted\" />\n                  <label for=\"subjectEncryption2\" [translate]=\"'common.disabled'\">Disabled</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- Subject Encryption Automatically -->\n      <div class=\"form-content-row\" ngbTooltip=\"{{ planType === planTypeEnum.FREE ? ('settings.security.upgrade_to_paid' | translate) : '' }}\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label class=\"form-label mb-sm-0\" [translate]=\"'settings.security.auto_decrypt_subject'\"> Subjects decryption automatically </label>\n          </div>\n          <div [class.disabled]=\"planType === planTypeEnum.FREE\" class=\"col-sm-7 col-md-5 subject-encryption\">\n            <div class=\"row row-sm\">\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"autoSubjectDecryption1\" name=\"autoSubjectDecryption\" type=\"radio\" (click)=\"updateSettings('is_subject_auto_decrypt', true)\" [checked]=\"settings?.is_subject_auto_decrypt\" />\n                  <label for=\"autoSubjectDecryption1\" [translate]=\"'common.enabled'\">Enabled</label>\n                </div>\n              </div>\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"autoSubjectDecryption2\" name=\"autoSubjectDecryption\" type=\"radio\" (click)=\"updateSettings('is_subject_auto_decrypt', false)\" [checked]=\"!settings?.is_subject_auto_decrypt\" />\n                  <label for=\"autoSubjectDecryption2\" [translate]=\"'common.disabled'\">Disabled</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- Contacts Encryption -->\n      <div class=\"form-content-row\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label class=\"form-label mb-sm-0\" [translate]=\"'settings.security.contacts_encryption'\"> Contacts encryption </label>\n          </div>\n          <div class=\"col-sm-7 col-md-5\">\n            <div class=\"row row-sm\">\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"contactsEncryption1\" name=\"[3]\" type=\"radio\" (click)=\"openConfirmEncryptContactsModal()\" [checked]=\"isContactsEncrypted\" />\n                  <label for=\"contactsEncryption1\" [translate]=\"'common.enabled'\">Enabled</label>\n                </div>\n              </div>\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"contactsEncryption2\" name=\"[3]\" type=\"radio\" (click)=\"openDecryptContactsModal()\" [checked]=\"!isContactsEncrypted\" />\n                  <label for=\"contactsEncryption2\" [translate]=\"'common.disabled'\">Disabled</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <header class=\"ui-header ui-header-bordered\">\n    <h5 class=\"ui-header-subtitle text-dark mb-0\">\n      <strong [translate]=\"'settings.security.phishing_protection'\"> Phishing Protection </strong>\n    </h5>\n  </header>\n  <div class=\"mailbox-section-body mailbox-section-body-sm\">\n    <div class=\"form-content-holder\">\n      <!-- Anti Phishing -->\n      <div class=\"form-content-row\">\n        <div class=\"row align-items-center\">\n          <div class=\"col-sm-3\">\n            <label class=\"form-label mb-sm-0\" [translate]=\"'settings.security.anti_phishing'\"> Anti Phishing </label>\n          </div>\n          <div class=\"col-sm-7 col-md-5\">\n            <div class=\"row row-sm\">\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"phishingProtection1\" name=\"[phishingProtection]\" type=\"radio\" (click)=\"updateAntiPhishing(true)\" [checked]=\"settings.is_anti_phishing_enabled\" />\n                  <label for=\"phishingProtection1\" [translate]=\"'common.enabled'\">Enabled</label>\n                </div>\n              </div>\n              <div class=\"col-6 flex-auto-col\">\n                <div class=\"fancy-field-group\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"phishingProtection2\" name=\"[phishingProtection]\" type=\"radio\" (click)=\"updateAntiPhishing(false)\" [checked]=\"!settings.is_anti_phishing_enabled\" />\n                  <label for=\"phishingProtection2\" [translate]=\"'common.disabled'\">Disabled</label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row align-items-center my-3\" *ngIf=\"settings.is_anti_phishing_enabled\">\n          <div class=\"col-sm-3\">\n            <label class=\"form-label mb-sm-0\" [translate]=\"'settings.security.phishing_phrase_title'\"> Anti Phishing Phrase </label>\n          </div>\n          <div class=\"col-sm-7 col-md-5\">\n            <input class=\"form-control form-control-sm\" id=\"antiPhishingPhrase\" type=\"text\" name=\"antiPhishingPhrase\" autocomplete=\"off\" [(ngModel)]=\"settings.anti_phishing_phrase\" [ngModelOptions]=\"{ updateOn: 'blur' }\" (change)=\"updateSettings('anti_phishing_phrase', $event.target.value)\" />\n          </div>\n        </div>\n        <div class=\"info-card mt-2 full-width\">\n          <span [translate]=\"'settings.security.anti_phishing_phrase'\"> The Anti-Phishing phrase allows users to link a custom word or phrase of your choice to your CTemplar account. Once set, if you ever log into your webmail and your Anti-Phishing phrase is either missing or incorrect, you may be the victim of phishing. You should immediately confirm that you are visiting </span>\n          <a href=\"https://ctemplar.com\">https://ctemplar.com</a>.\n          <span [translate]=\"'settings.security.malicious_site'\"> If you are not, then a malicious site might have your login credentials for your CTemplar account. To prevent harm to your account, you should immediately visit </span>\n          &nbsp;\n          <a href=\"https://ctemplar.com\">https://ctemplar.com </a>\n          <span [translate]=\"'settings.security.and_change_password'\">and change your password.</span>\n        </div>\n      </div>\n      <div class=\"form-content-row\">\n        <div class=\"row align-items-center\"></div>\n      </div>\n    </div>\n  </div>\n</section>\n\n<!--Decrypt Contacts Modal-->\n<ng-template #decryptContactsModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header justify-content-sm-center align-items-center text-sm-center\">\n    <h3 class=\"modal-title w-100 text-dark\" id=\"decryptContactsModal\">\n      <strong *ngIf=\"isDecryptingContacts; else decryptingTitle\" [translate]=\"'settings.security.decrypting_contacts'\">Decrypting contacts</strong>\n      <ng-template #decryptingTitle>\n        <strong [translate]=\"'settings.security.confirm_disable_contacts'\"> Confirm disable contacts encryption </strong>\n      </ng-template>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"closeDecryptContactsModal()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div *ngIf=\"isDecryptingContacts; else decryptingContacts\" class=\"px-4\">\n      <label [translate]=\"'settings.security.contacts_being_decrypt'\"> Please be patient while your contacts are being decrypted, don't close your browser. </label>\n      <div align=\"center\" *ngIf=\"!contactsState?.loaded && contactsState?.totalContacts === 0\">\n        <app-loading-spinner [showSpinner]=\"true\"></app-loading-spinner>\n      </div>\n      <div class=\"my-4\" *ngIf=\"contactsState?.loaded || contactsState?.totalContacts !== 0\">\n        <div class=\"info-list-val-text text-center\">\n          {{ contactsState.noOfDecryptedContacts }}\n          <span [translate]=\"'settings.of'\">of </span>\n          {{ contactsState.totalContacts }}\n          <span [translate]=\"'settings.security.contacts_decrypted'\">contacts decrypted</span>\n        </div>\n        <div class=\"progress progress-secondary progress-lg\">\n          <div class=\"progress-bar\" role=\"progressbar\" [style.width.%]=\"(contactsState.noOfDecryptedContacts / contactsState.totalContacts) * 100\" [attr.aria-valuenow]=\"contactsState.noOfDecryptedContacts\" aria-valuemin=\"0\" [attr.aria-valuemax]=\"contactsState.totalContacts\"></div>\n        </div>\n      </div>\n      <div *ngIf=\"contactsState.noOfDecryptedContacts === contactsState.totalContacts && contactsState.loaded\">\n        <div class=\"mb-4 green\" [translate]=\"'settings.security.all_contacts_decrypt'\">All contacts decrypted successfully</div>\n        <div align=\"right\" class=\"mt-3\">\n          <button (click)=\"closeDecryptContactsModal()\" class=\"btn btn-secondary btn-sm cursor-pointer\" [translate]=\"'settings.compose.close'\">Close</button>\n        </div>\n      </div>\n    </div>\n    <ng-template #decryptingContacts>\n      <div class=\"px-4\">\n        <label>\n          <label [translate]=\"'settings.security.disable_contact_decrypt'\"> Are you sure you want to disable contacts encryption? </label><br />\n          <b [translate]=\"'settings.security.note'\">Note:</b>\n          <span [translate]=\"'settings.security.disabling_contacts'\"> Disabling contacts encryption can take several minutes depending upon the number of contacts you have. After you confirm, all your contacts will be decrypted inside your browser and saved on server. </span>\n        </label>\n        <div align=\"right\" class=\"mt-3\">\n          <button (click)=\"confirmDecryptContacts()\" class=\"btn btn-secondary btn-sm cursor-pointer\" [translate]=\"'settings.compose.confirm'\">Confirm</button>\n        </div>\n      </div>\n    </ng-template>\n  </div>\n</ng-template>\n\n<!--Confirm Encryption Contacts Modal-->\n<ng-template #confirmEncryptContactsModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header justify-content-sm-center align-items-center text-sm-center\">\n    <h3 class=\"modal-title w-100 text-dark\" id=\"confirmContactsEncryptionModal\">\n      <strong [translate]=\"'settings.security.decrypting_contacts'\">Decrypting contacts</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"px-4\">\n      <div class=\"row row-sm\">\n        <span [translate]=\"'settings.security.enabling_contacts'\">By enabling contacts encryption</span>\n        <ul>\n          <li [translate]=\"'settings.security.all_contacts_encrypted'\">All your contacts will be encrypted</li>\n          <li [translate]=\"'settings.security.contacts_suggestion'\">Contacts suggestion on compose email won't be available anymore</li>\n          <li [translate]=\"'settings.security.contacts_search'\">Contacts can't be searched anymore</li>\n        </ul>\n      </div>\n      <div align=\"right\" class=\"mt-3\">\n        <button (click)=\"d(); updateSettings('is_contacts_encrypted', true)\" class=\"btn btn-secondary btn-sm cursor-pointer\" [translate]=\"'settings.compose.confirm'\">Confirm</button>\n      </div>\n    </div>\n  </div>\n</ng-template>\n\n<!--Auth 2 Factor Modal-->\n<ng-template #auth2FAModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header justify-content-sm-center align-items-center text-sm-center\">\n    <h3 class=\"modal-title w-100 text-dark\" id=\"auth2FAModal\">\n      <strong>\n        {{ auth2FAForm.enable_2fa ? ('settings.security.set_up' | translate) : ('settings.disable' | translate) }}\n        <span [translate]=\"'page_pricing.two_factore_auth'\">2 Factor authentication</span>\n      </strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded py-4\">\n    <div class=\"align-items-center px-4\" *ngIf=\"auth2FA\">\n      <ng-container *ngIf=\"auth2FAForm.auth2FAStep === 1\">\n        <div *ngIf=\"!auth2FA.inProgress\">\n          <div class=\"card-body text-center\">\n            <div class=\"mb-4\" [translate]=\"'settings.security.scan_following_QR'\">Scan the following QR code with your 2 Factor authentication app to set up your account. You can also enter the secret key manually in order to setup.</div>\n            <img class=\"mb-3\" style=\"height: 270px\" src=\"{{ apiUrl }}qr-code/?size=300x300&data={{ auth2FA.secret_url }}\" alt=\"QR\" />\n            <div class=\"bg-white px-3 py-3\">\n              <span class=\"text-dark\"> <b>Secret: </b>{{ auth2FA.secret }} </span>\n              <button mat-icon-button (click)=\"copyToClipboard(auth2FA.secret)\" class=\"copy-btn\">\n                <i class=\"fas fa-copy font-20px\" ngbTooltip=\"Copy to clipboard\"></i>\n              </button>\n            </div>\n          </div>\n          <div align=\"right\" class=\"mt-3\">\n            <button (click)=\"auth2FAForm.auth2FAStep = 2\" class=\"btn btn-secondary btn-sm cursor-pointer\" [translate]=\"'settings.next'\">Next</button>\n          </div>\n        </div>\n        <div align=\"center\">\n          <app-loading-spinner [showSpinner]=\"auth2FA.inProgress\"></app-loading-spinner>\n        </div>\n      </ng-container>\n      <div *ngIf=\"auth2FAForm.auth2FAStep === 2\">\n        <div>\n          <div class=\"form-group form-group-sm\">\n            <label for=\"password\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'common.account_password'\"> Your account password </label>\n            <div class=\"input-group\">\n              <input #password class=\"form-control form-control-lg\" id=\"password\" [placeholder]=\"'common.account_password' | translate\" [(ngModel)]=\"auth2FAForm.password\" type=\"password\" />\n              <span class=\"input-group-addon password-toggle bg-white text-muted\" (click)=\"togglePassword(password)\">\n                <i class=\"fa fa-eye\"></i>\n                <i class=\"fa fa-eye-slash\"></i>\n              </span>\n            </div>\n            <span class=\"validate-message\" *ngIf=\"auth2FAForm.submitted && !auth2FAForm.password\" [translate]=\"'settings.security.enter_acc_password'\"> Please enter your account password. </span>\n          </div>\n          <div class=\"form-group form-group-sm\">\n            <label for=\"passcode\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'settins.security.passcode'\"> Passcode </label>\n            <div class=\"input-group\">\n              <input class=\"form-control form-control-lg\" id=\"passcode\" [placeholder]=\"'settings.security.gen_by_2FA' | translate\" [(ngModel)]=\"auth2FAForm.passcode\" type=\"text\" />\n            </div>\n            <span class=\"validate-message\" *ngIf=\"auth2FAForm.submitted && !auth2FAForm.passcode\" [translate]=\"'settings.security.enter_passcode_2FA'\"> Please enter passcode generated by 2FA app. </span>\n          </div>\n        </div>\n        <div class=\"modal-footer justify-content-sm-end\">\n          <button class=\"btn btn-default btn-sm cursor-pointer\" type=\"reset\" (click)=\"d()\">\n            <span [translate]=\"'common.cancel'\">Cancel</span>\n          </button>\n          <button class=\"btn btn-secondary btn-sm cursor-pointer\" (click)=\"update2FA(auth2FAForm.enable_2fa); d()\" [disabled]=\"!auth2FAForm.passcode || !auth2FAForm.password\">\n            {{ auth2FAForm.enable_2fa ? ('settings.enable' | translate) : ('settings.disable' | translate) }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-template>\n\n<!-- Change password Modal -->\n<ng-template #changePasswordModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header justify-content-sm-center align-items-center text-sm-center\">\n    <h3 class=\"modal-title w-100 text-dark\" id=\"changePasswordModalLabel\">\n      <strong [translate]=\"'settings.security.change_password'\">Change Password</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div>\n      <p class=\"text-holder text-dark text-medium\" [translate]=\"'settings.security.message'\">Your encryption key is connected to your password. You have the option to either keep all the data and encryption keys and just change the password or you can delete all the data and generate new encryption keys. Choose your option carefully.</p>\n    </div>\n    <div class=\"text-holder text-dark text-medium\">\n      <div class=\"password-content-holder mx-auto mt-2 pt-sm-2\">\n        <div class=\"form\">\n          <form [formGroup]=\"changePasswordForm\" (submit)=\"changePassword()\">\n            <div [class.disabled]=\"inProgress\">\n              <div class=\"form-group form-group-sm\">\n                <label for=\"oldPassword\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'settings.security.old_password'\"> Old Password </label>\n                <div class=\"input-group\">\n                  <input #oldPasswordInput class=\"form-control form-control-lg\" id=\"oldPassword\" formControlName=\"oldPassword\" [placeholder]=\"'settings.security.old_password' | translate\" type=\"password\" />\n                  <span class=\"input-group-addon password-toggle bg-white text-muted\" (click)=\"togglePassword(oldPasswordInput)\">\n                    <i class=\"fa fa-eye\"></i>\n                    <i class=\"fa fa-eye-slash\"></i>\n                  </span>\n                </div>\n                <span *ngIf=\"changePasswordForm.controls['oldPassword'].errors && showChangePasswordFormErrors\" class=\"validate-message\">\n                  <span *ngIf=\"changePasswordForm.controls['oldPassword'].errors.required\" [translate]=\"'settings.security.old_password_req'\"> Old password is required. </span>\n                </span>\n              </div>\n              <div class=\"form-group form-group-sm\">\n                <label for=\"newPassword\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'settings.new_password'\"> New Password </label>\n                <div class=\"input-group\">\n                  <input #newPasswordInput class=\"form-control form-control-lg\" id=\"newPassword\" formControlName=\"password\" [placeholder]=\"'settings.new_password' | translate\" type=\"password\" />\n                  <span class=\"input-group-addon password-toggle bg-white text-muted\" (click)=\"togglePassword(newPasswordInput)\">\n                    <i class=\"fa fa-eye\"></i>\n                    <i class=\"fa fa-eye-slash\"></i>\n                  </span>\n                </div>\n                <span *ngIf=\"changePasswordForm.controls['password'].errors && showChangePasswordFormErrors\" class=\"validate-message\">\n                  <span *ngIf=\"changePasswordForm.controls['password'].errors.required\" [translate]=\"'settings.security.new_password_req'\">New password is required.</span>\n                </span>\n              </div>\n              <div class=\"form-group form-group-sm\">\n                <label for=\"confirmNewPassword\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'settings.confirm_new_password'\">Confirm New Password</label>\n                <div class=\"input-group\">\n                  <input #confirmNewPasswordInput class=\"form-control form-control-lg\" id=\"confirmNewPassword\" formControlName=\"confirmPwd\" [placeholder]=\"'settings.confirm_new_password' | translate\" type=\"password\" />\n                  <span class=\"input-group-addon password-toggle bg-white text-muted\" (click)=\"togglePassword(confirmNewPasswordInput)\">\n                    <i class=\"fa fa-eye\"></i>\n                    <i class=\"fa fa-eye-slash\"></i>\n                  </span>\n                </div>\n                <span *ngIf=\"changePasswordForm.controls['confirmPwd'].errors && showChangePasswordFormErrors\" class=\"validate-message\">\n                  <span [translate]=\"'create_account.passwords_not_match'\"> Passwords do not match. </span>\n                </span>\n              </div>\n              <div class=\"form-content-row\">\n                <label class=\"font-weight-bold notice\" [translate]=\"'settings.security.data_message'\"> Select option to keep/delete data! </label><br />\n                <div class=\"row align-items-center\">\n                  <div class=\"col-sm-7 col-md-5\">\n                    <div class=\"row row-sm\">\n                      <div class=\"col-6 flex-auto-col\" (click)=\"deleteData = false\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"keep_data1\" [checked]=\"!deleteData\" name=\"[1]\" type=\"radio\" />\n                          <label for=\"keep_data1\" [translate]=\"'settings.security.keep_data'\">Keep data</label>\n                        </div>\n                      </div>\n                      <div class=\"col-6 flex-auto-col\" (click)=\"deleteData = true\">\n                        <div class=\"fancy-field-group\">\n                          <input class=\"d-none fancy-field-control fancy-field-control-sm\" id=\"keep_data2\" [checked]=\"deleteData\" name=\"[1]\" type=\"radio\" />\n                          <label for=\"keep_data2\" [translate]=\"'settings.security.encryption_key_message'\"> Delete all data and generate new encryption keys </label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"mt-3\" *ngIf=\"inProgress && deleteData\">\n              <span class=\"notice\">Note : </span>\n              <span [translate]=\"'settings.security.encryption_key_progress'\"> Generating new encryption keys is in progress, it can take several minutes, please wait for it to complete! </span>\n            </div>\n            <div class=\"form-group form-user-actions text-center mb-0 mt-3\">\n              <button class=\"btn btn-gradient-primary btn-sm reset-btn\" [disabled]=\"inProgress\" role=\"button\" type=\"submit\">\n                <span [translate]=\"'billing_info.submit'\">Submit</span>\n              </button>\n              <app-loading-spinner [showSpinner]=\"inProgress\"></app-loading-spinner>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div> </ng-template\n><!-- /.Change password Modal ends -->\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, Auth2FA, AuthState, ContactsState, PlanType, Settings, UserState } from '../../../store/datatypes';\nimport { MailSettingsService } from '../../../store/services/mail-settings.service';\nimport {\n  ChangePassphraseSuccess,\n  ChangePassword,\n  Update2FA,\n  Get2FASecret,\n  ContactsGet,\n  ClearContactsToDecrypt,\n} from '../../../store/actions';\nimport { OpenPgpService, SharedService } from '../../../store/services';\nimport { PasswordValidation } from '../../../users/users-create-account/users-create-account.component';\nimport { apiUrl } from '../../../shared/config';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-settings-security',\n  templateUrl: './security.component.html',\n  styleUrls: ['./../mail-settings.component.scss', './security.component.scss'],\n})\nexport class SecurityComponent implements OnInit, OnDestroy {\n  @ViewChild('changePasswordModal') changePasswordModal;\n\n  @ViewChild('auth2FAModal') auth2FAModal;\n\n  @ViewChild('decryptContactsModal') decryptContactsModal;\n\n  @ViewChild('confirmEncryptContactsModal') confirmEncryptContactsModal;\n\n  private changePasswordModalRef: NgbModalRef;\n\n  private decryptContactsModalRef: NgbModalRef;\n\n  settings: Settings;\n\n  changePasswordForm: FormGroup;\n\n  showChangePasswordFormErrors = false;\n\n  userState: UserState;\n\n  inProgress: boolean;\n\n  deleteData: boolean;\n\n  apiUrl = apiUrl;\n\n  auth2FA: Auth2FA;\n\n  auth2FAForm: any = {};\n\n  isDecryptingContacts: boolean;\n\n  contactsState: ContactsState;\n\n  isContactsEncrypted: boolean;\n\n  planTypeEnum = PlanType;\n\n  planType: PlanType;\n\n  private updatedPrivateKeys: Array<any>;\n\n  private canDispatchChangePassphrase: boolean;\n\n  constructor(\n    private store: Store<AppState>,\n    private settingsService: MailSettingsService,\n    private modalService: NgbModal,\n    private openPgpService: OpenPgpService,\n    private sharedService: SharedService,\n    private formBuilder: FormBuilder,\n  ) {}\n\n  ngOnInit() {\n    /**\n     * Get user's settings\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n        this.settings = user.settings;\n        this.planType = user.settings.plan_type || PlanType.FREE;\n        this.isContactsEncrypted = this.settings.is_contacts_encrypted;\n      });\n\n    /**\n     * Change password using keys\n     */\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        this.auth2FA = authState.auth2FA;\n        if (authState.updatedPrivateKeys && this.canDispatchChangePassphrase) {\n          this.canDispatchChangePassphrase = false;\n          this.updatedPrivateKeys = [...authState.updatedPrivateKeys];\n          this.changePasswordConfirmed();\n          this.store.dispatch(new ChangePassphraseSuccess(null));\n        }\n        if (this.inProgress && !authState.inProgress) {\n          this.changePasswordModalRef.dismiss();\n          if (authState.isChangePasswordError) {\n            this.openPgpService.revertChangedPassphrase(this.changePasswordForm.value.oldPassword, this.deleteData);\n          } else {\n            const privKeys: any = {};\n            const pubKeys: any = {};\n            this.updatedPrivateKeys.forEach(item => {\n              privKeys[item.mailbox_id] = item.private_key;\n              pubKeys[item.mailbox_id] = item.public_key;\n            });\n            this.openPgpService.clearData(pubKeys);\n            this.openPgpService.decryptPrivateKeys(privKeys, this.changePasswordForm.value.password);\n          }\n          this.inProgress = false;\n        }\n      });\n\n    this.store\n      .select(state => state.contacts)\n      .pipe(untilDestroyed(this))\n      .subscribe((contactsState: ContactsState) => {\n        this.contactsState = contactsState;\n      });\n\n    this.changePasswordForm = this.formBuilder.group(\n      {\n        oldPassword: ['', [Validators.required]],\n        password: ['', [Validators.required]],\n        confirmPwd: ['', [Validators.required]],\n      },\n      {\n        validator: PasswordValidation.MatchPassword,\n      },\n    );\n  }\n\n  updateSettings(key?: string, value?: any) {\n    this.settingsService.updateSettings(this.settings, key, value);\n  }\n\n  /**\n   * Update anti phishing status\n   */\n  updateAntiPhishing(status: boolean) {\n    if (this.settings.is_anti_phishing_enabled !== status) {\n      this.settings.anti_phishing_phrase =\n        Math.random().toString(36).slice(2, 5) + Math.random().toString(36).slice(2, 5);\n      this.settingsService.updateSettings(this.settings, 'is_anti_phishing_enabled', status);\n    }\n  }\n\n  get2FASecret() {\n    this.store.dispatch(new Get2FASecret());\n    this.modalService.open(this.auth2FAModal, {\n      centered: true,\n      windowClass: 'modal-md auth2fa-modal',\n    });\n  }\n\n  update2FA(enable_2fa = true) {\n    if (!this.auth2FAForm.passcode || !this.auth2FAForm.password) {\n      this.auth2FAForm.submitted = true;\n      return;\n    }\n    this.store.dispatch(\n      new Update2FA({\n        data: { ...this.auth2FAForm, enable_2fa, username: this.userState.username },\n        settings: { ...this.settings, enable_2fa },\n      }),\n    );\n  }\n\n  disable2FA() {\n    this.auth2FAForm = { auth2FAStep: 2, enable_2fa: false };\n    this.modalService.open(this.auth2FAModal, {\n      centered: true,\n      windowClass: 'modal-md auth2fa-modal',\n    });\n  }\n\n  copyToClipboard(value: string) {\n    this.sharedService.copyToClipboard(value);\n  }\n\n  // == Open change password NgbModal\n  openChangePasswordModal() {\n    this.deleteData = false;\n    this.inProgress = false;\n    this.showChangePasswordFormErrors = false;\n    this.changePasswordForm.reset();\n    this.changePasswordModalRef = this.modalService.open(this.changePasswordModal, {\n      centered: true,\n      backdrop: 'static',\n      windowClass: 'modal-md change-password-modal',\n    });\n  }\n\n  // == Open decrypt contacts confirmation NgbModal\n  openDecryptContactsModal() {\n    if (!this.settings.is_contacts_encrypted) {\n      return;\n    }\n    this.isContactsEncrypted = false;\n    this.decryptContactsModalRef = this.modalService.open(this.decryptContactsModal, {\n      centered: true,\n      backdrop: 'static',\n      windowClass: 'modal-md change-password-modal',\n    });\n    this.decryptContactsModalRef.result.then(reason => {\n      this.isDecryptingContacts = false;\n      this.decryptContactsModalRef = null;\n    });\n    setTimeout(() => {\n      this.isContactsEncrypted = true;\n    }, 100);\n  }\n\n  // == Open encrypt contacts confirmation NgbModal\n  openConfirmEncryptContactsModal() {\n    if (this.settings.is_contacts_encrypted) {\n      return;\n    }\n    this.isContactsEncrypted = true;\n    setTimeout(() => {\n      this.isContactsEncrypted = false;\n    }, 100);\n    this.modalService.open(this.confirmEncryptContactsModal, {\n      centered: true,\n      backdrop: 'static',\n      windowClass: 'modal-md change-password-modal',\n    });\n  }\n\n  confirmDecryptContacts() {\n    this.updateSettings('is_contacts_encrypted', false);\n    if (this.contactsState.totalContacts === 0 && this.contactsState.loaded) {\n      this.decryptContactsModalRef.close();\n      return;\n    }\n    this.isDecryptingContacts = true;\n    this.store.dispatch(new ClearContactsToDecrypt({ clearCount: true }));\n    this.store.dispatch(new ContactsGet({ limit: 20, offset: 0, isDecrypting: true }));\n    this.decryptAllContacts();\n  }\n\n  decryptAllContacts() {\n    if (this.contactsState.totalContacts === 0 && this.contactsState.loaded) {\n      this.decryptContactsModalRef.close();\n      return;\n    }\n    if (this.contactsState.contactsToDecrypt.length > 0) {\n      this.openPgpService.decryptAllContacts();\n      return;\n    }\n    setTimeout(() => {\n      this.decryptAllContacts();\n    }, 500);\n  }\n\n  closeDecryptContactsModal() {\n    this.isDecryptingContacts = false;\n    if (this.decryptContactsModalRef) {\n      this.decryptContactsModalRef.close();\n    }\n  }\n\n  changePassword() {\n    this.showChangePasswordFormErrors = true;\n    if (this.changePasswordForm.valid) {\n      this.inProgress = true;\n      this.canDispatchChangePassphrase = true;\n      this.openPgpService.changePassphrase(\n        this.changePasswordForm.value.password,\n        this.deleteData,\n        this.userState.username,\n      );\n    }\n  }\n\n  changePasswordConfirmed() {\n    const data = this.changePasswordForm.value;\n    const requestData = {\n      username: this.userState.username,\n      old_password: data.oldPassword,\n      password: data.password,\n      confirm_password: data.confirmPwd,\n      new_keys: this.updatedPrivateKeys,\n      delete_data: this.deleteData,\n    };\n    this.store.dispatch(new ChangePassword(requestData));\n    this.inProgress = true;\n  }\n\n  // == Toggle password visibility\n  togglePassword(input: any): any {\n    if (!input.value) {\n      return;\n    }\n    input.type = input.type === 'password' ? 'text' : 'password';\n  }\n\n  ngOnDestroy(): void {}\n}\n","<div class=\"mail-composer is-sticky is-fullscreenx is-minimizedx is-maximizedx\" [ngClass]=\"{ 'is-minimized': isMinimized, 'is-maximized': isFullScreen }\" [class.keyboard-open]=\"composeMail?.isKeyboardOpened ? true : false\" [class.is-active]=\"isComposeVisible\">\n  <div class=\"mail-composer-dialog\">\n    <div class=\"mail-composer-header p-0\">\n      <div class=\"mail-composer-title mr-4\" (click)=\"toggleMinimized()\">\n        <span class=\"d-inline-block text-truncate\" *ngIf=\"mailSubject; else newMessage\" [ngClass]=\"{ 'maximize-compose-title': !isMinimized, 'minimize-compose-title': isMinimized }\">\n          {{ mailSubject }}\n        </span>\n        <ng-template #newMessage>\n          <span class=\"d-inline-block text-truncate\" [ngClass]=\"{ 'maximize-compose-title': !isMinimized, 'minimize-compose-title': isMinimized }\">\n            {{ 'settings.compose.new_message' | translate }}\n          </span>\n        </ng-template>\n      </div>\n      <div class=\"mail-composer-header-actions\">\n        <div class=\"mail-actions-list\">\n          <!--Minimize Modal-->\n          <div class=\"mail-actions-item\">\n            <button role=\"button\" placement=\"top\" ngbTooltip=\"{{ isMinimized ? ('settings.compose.maximize' | translate) : ('settings.compose.minimize' | translate) }}\" (click)=\"toggleMinimized()\">\n              <i class=\"fas fa-minus\"></i>\n            </button>\n          </div>\n          <!--Maximize Modal-->\n          <div class=\"mail-actions-item\">\n            <button role=\"button\" placement=\"top\" ngbTooltip=\"{{ isFullScreen ? ('settings.compose.exit_full_screen' | translate) : ('settings.compose.full_screen' | translate) }}\" (click)=\"toggleFullScreen()\">\n              <i class=\"icon icon-maximize\"></i>\n            </button>\n          </div>\n          <!--Close Modal-->\n          <div class=\"mail-actions-item\">\n            <button role=\"button\" placement=\"top\" [ngbTooltip]=\"'settings.compose.close' | translate\" (click)=\"onClose()\">\n              <i class=\"icon icon-cross\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <app-compose-mail #composeMail [draftMail]=\"draft\" (hide)=\"onHide()\" (subjectChanged)=\"subjectChanged($event)\" [receivers]=\"receivers\" [ngClass]=\"{ 'd-none': isMinimized }\" [isFullScreen]=\"isFullScreen\" [isReplyInPopup]=\"action === 'REPLY' ? true : false\"> </app-compose-mail>\n  </div>\n</div>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { Mail } from '../../../store/models';\nimport { ComposeMailComponent } from '../compose-mail/compose-mail.component';\nimport { AppState, MailAction } from '../../../store/datatypes';\nimport { SetIsComposerPopUp } from '../../../store/actions';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-compose-mail-dialog',\n  templateUrl: './compose-mail-dialog.component.html',\n  styleUrls: ['./compose-mail-dialog.component.scss', './../mail-sidebar.component.scss'],\n})\nexport class ComposeMailDialogComponent implements OnInit, AfterViewInit {\n  @Input() public isComposeVisible: boolean;\n\n  @Input() public draft: Mail;\n\n  @Input() action: MailAction;\n\n  @Input() parentId: number;\n\n  @Input() public isFullScreen: boolean;\n\n  @Input() public receivers: Array<string>;\n\n  @Output() public hide = new EventEmitter<boolean>();\n\n  @Output() public minimize = new EventEmitter<boolean>();\n\n  @Output() public fullScreen = new EventEmitter<boolean>();\n\n  @ViewChild(ComposeMailComponent) composeMail: ComposeMailComponent;\n\n  @ViewChild('input') input: ElementRef;\n\n  private confirmModalRef: NgbModalRef;\n\n  isMinimized: boolean;\n\n  mailSubject = '';\n\n  isPopupClosed: boolean;\n\n  constructor(private modalService: NgbModal, private cdr: ChangeDetectorRef, private store: Store<AppState>) {}\n\n  ngOnInit(): void {\n    if (this.draft) {\n      this.mailSubject = this.draft.subject;\n    }\n    /**\n     * Hide dialog when reply\n     */\n    this.store\n      .select(state => state)\n      .pipe(untilDestroyed(this))\n      .subscribe((appState: AppState) => {\n        this.isPopupClosed = appState.mail.isComposerPopUp;\n        if (\n          this.isPopupClosed !== undefined &&\n          !this.isPopupClosed &&\n          this.action === MailAction.REPLY &&\n          this.composeMail !== undefined\n        ) {\n          this.onHide();\n        }\n      });\n  }\n\n  ngAfterViewInit(): void {\n    if (this.mailSubject && this.action) {\n      if (this.action === MailAction.REPLY) {\n        this.mailSubject = `Reply: ${this.mailSubject}`;\n      }\n    }\n    this.cdr.detectChanges();\n  }\n\n  onClose() {\n    if (this.action === MailAction.REPLY) {\n      setTimeout(res => {\n        this.store.dispatch(new SetIsComposerPopUp(false));\n      }, 2000);\n    }\n    /**\n     * Save draft when close compose dialog\n     */\n    if (this.composeMail.hasData()) {\n      this.saveInDrafts();\n    } else if (this.composeMail.draftMail) {\n      this.discardEmail();\n    }\n  }\n\n  subjectChanged($event) {\n    this.mailSubject = $event;\n  }\n\n  saveInDrafts() {\n    this.composeMail.saveInDrafts();\n  }\n\n  discardEmail() {\n    this.composeMail.discardEmail();\n  }\n\n  onHide() {\n    this.store.dispatch(new SetIsComposerPopUp(false));\n    this.hideMailComposeDialog();\n  }\n\n  toggleMinimized() {\n    this.isMinimized = !this.isMinimized;\n    this.minimize.emit(this.isMinimized);\n    if (this.isFullScreen) {\n      this.isFullScreen = false;\n    }\n  }\n\n  toggleFullScreen() {\n    this.isFullScreen = !this.isFullScreen;\n    this.fullScreen.emit(this.isFullScreen);\n    if (this.isMinimized) {\n      this.isMinimized = false;\n    }\n  }\n\n  private hideMailComposeDialog() {\n    if (this.confirmModalRef) {\n      this.confirmModalRef.dismiss();\n    }\n    this.hide.emit(true);\n  }\n}\n","<div class=\"mail-composer-body\">\n  <form>\n    <div class=\"mail-compose-field-group\">\n      <!-- 'From' field -->\n      <div class=\"mail-compose-field\">\n        <span class=\"mail-label label-from\">{{ 'settings.compose.from' | translate }}</span>\n        <div class=\"col-sm p-0\">\n          <div class=\"btn-dropdown btn-dropdown-select btn-dropdown-lg\">\n            <div ngbDropdown class=\"dropdown-sm\">\n              <button ngbDropdownToggle class=\"dropdown-toggle border-0 from-text\" id=\"fromEmailDropdownMenuButton\" role=\"button\" [disabled]=\"attachments?.length > 0\">\n                {{selectedMailbox?.email | emailFormat : selectedMailbox?.display_name }}\n              </button>\n              <div *ngIf=\"!attachments || attachments.length === 0\" ngbDropdownMenu class=\"from-dropdown\" aria-labelledby=\"fromEmailDropdownMenuButton\">\n                <ng-container *ngFor=\"let mailbox of mailBoxesState?.mailboxes\">\n                  <a class=\"dropdown-item from-text\" *ngIf=\"mailbox.is_enabled\" (click)=\"onFromChanged(mailbox, selectedMailbox)\">{{ mailbox.email }}</a>\n                </ng-container>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 'From' field -->\n      <!-- 'To' field -->\n      <div class=\"mail-compose-field mail-compose-field-to\" #receiverInput>\n        <span class=\"mail-label label-to\">{{ 'settings.compose.to' | translate }}</span>\n        <tag-input [(ngModel)]=\"mailData.receiver\" *ngIf=\"isLoaded\" name=\"to\" [placeholder]=\"' '\" [secondaryPlaceholder]=\"'settings.compose.recipient_email' | translate\" [onTextChangeDebounce]=\"100\" [onlyFromAutocomplete]=\"false\" [addOnBlur]=\"true\" [editable]=\"true\" [separatorKeys]=\"[',']\" [separatorKeyCodes]=\"[13]\" [(inputText)]=\"inputTextValue\" (onAdd)=\"onAddingReceiver($event, mailData.receiver)\" (onRemove)=\"valueChanged$.next(mailData.receiver)\" (onTextChange)=\"updateInputTextValue($event)\" (paste)=\"onPaste($event)\" (onTagEdited)=\"onTagEdited($event)\" (click)=\"onClick($event)\">\n          <tag-input-dropdown [showDropdownIfEmpty]=\"false\" [appendToBody]=\"false\" [displayBy]=\"'display'\" [identifyBy]=\"'email'\" [autocompleteItems]=\"contacts\">\n            <ng-template let-item=\"item\" let-index=\"index\">\n              <div class=\"compose-contacts-container\">\n                <img src=\"assets/images/user-icon-grey.png\" alt=\"user-image\" />\n                <div class=\"compose-contacts-userinfo\">\n                  <div>{{ item.name }}</div>\n                  <div>{{ item.email }}</div>\n                </div>\n              </div>\n            </ng-template>\n          </tag-input-dropdown>\n        </tag-input>\n        <div class=\"extra-mail-label\">\n          <span class=\"mail-label mail-floated-label\" (click)=\"options.isCcVisible = !options.isCcVisible\">Cc</span>\n          <span class=\"mail-label mail-floated-label mr-0\" (click)=\"options.isBccVisible = !options.isBccVisible\">Bcc</span>\n        </div>\n      </div>\n      <!-- 'To' field -->\n      <!-- 'Cc' field -->\n      <div class=\"mail-compose-field\" [ngClass]=\"{ 'd-none': !options.isCcVisible }\" #ccReceiverInput>\n        <span class=\"mail-label label-cc\">Cc:</span>\n        <tag-input [(ngModel)]=\"mailData.cc\" name=\"cc\" [placeholder]=\"' '\" [secondaryPlaceholder]=\"'settings.compose.cc_email' | translate\" [onTextChangeDebounce]=\"100\" [onlyFromAutocomplete]=\"false\" [addOnBlur]=\"true\" [editable]=\"true\" [separatorKeys]=\"[',']\" [separatorKeyCodes]=\"[13]\" [(inputText)]=\"ccInputTextValue\" (onAdd)=\"onAddingReceiver($event, mailData.cc)\" (onRemove)=\"valueChanged$.next(mailData.cc)\" (onTextChange)=\"ccUpdateInputTextValue($event)\" (paste)=\"ccOnPaste($event)\" (onTagEdited)=\"ccOnTagEdited($event)\" (click)=\"onCcClick($event)\">\n          <tag-input-dropdown [showDropdownIfEmpty]=\"false\" [appendToBody]=\"false\" [displayBy]=\"'display'\" [identifyBy]=\"'email'\" [autocompleteItems]=\"contacts\">\n            <ng-template let-item=\"item\" let-index=\"index\">\n              <div class=\"compose-contacts-container\">\n                <img src=\"assets/images/user-icon-grey.png\" alt=\"user-image\" />\n                <div class=\"compose-contacts-userinfo\">\n                  <div>{{ item.name }}</div>\n                  <div>{{ item.email }}</div>\n                </div>\n              </div>\n            </ng-template>\n          </tag-input-dropdown>\n        </tag-input>\n      </div>\n      <!-- 'Cc' field -->\n      <!-- 'Bcc' field -->\n      <div class=\"mail-compose-field\" [ngClass]=\"{ 'd-none': !options.isBccVisible }\" #bccReceiverInput>\n        <span class=\"mail-label label-bcc\">Bcc:</span>\n        <tag-input [(ngModel)]=\"mailData.bcc\" name=\"bcc\" [placeholder]=\"' '\" [secondaryPlaceholder]=\"'settings.compose.bcc_email' | translate\" [onTextChangeDebounce]=\"100\" [onlyFromAutocomplete]=\"false\" [addOnBlur]=\"true\" [editable]=\"true\" [separatorKeys]=\"[',']\" [separatorKeyCodes]=\"[13]\" [(inputText)]=\"bccInputTextValue\" (onAdd)=\"onAddingReceiver($event, mailData.bcc)\" (onRemove)=\"valueChanged$.next(mailData.bcc)\" (onTextChange)=\"bccUpdateInputTextValue($event)\" (paste)=\"bccOnPaste($event)\" (onTagEdited)=\"bccOnTagEdited($event)\" (click)=\"onBccClick($event)\">\n          <tag-input-dropdown [showDropdownIfEmpty]=\"false\" [appendToBody]=\"false\" [displayBy]=\"'display'\" [identifyBy]=\"'email'\" [autocompleteItems]=\"contacts\">\n            <ng-template let-item=\"item\" let-index=\"index\">\n              <div class=\"compose-contacts-container\">\n                <img src=\"assets/images/user-icon-grey.png\" alt=\"user-image\" />\n                <div class=\"compose-contacts-userinfo\">\n                  <div>{{ item.name }}</div>\n                  <div>{{ item.email }}</div>\n                </div>\n              </div>\n            </ng-template>\n          </tag-input-dropdown>\n        </tag-input>\n      </div>\n      <!-- 'Bcc' field -->\n      <!-- 'Subject' field -->\n      <div class=\"mail-compose-field\">\n        <span class=\"mail-label label-subject mail-subject\">{{ 'settings.compose.subject' | translate }}</span>\n        <input type=\"text\" class=\"mail-compose-control\" name=\"subject\" [(ngModel)]=\"mailData.subject\" [disabled]=\"action === mailAction.REPLY || action === mailAction.REPLY_ALL\" (ngModelChange)=\"valueChanged$.next(mailData.subject); onSubjectChange(mailData.subject)\" id=\"subject\" />\n      </div>\n      <!-- 'Subject' field -->\n    </div>\n  </form>\n  <!-- Main Content field -->\n  <div class=\"mail-compose-editable-body\">\n    <div class=\"mail-compose-box has-custom-scroll\">\n      <div class=\"mail-compose-box-inner\">\n        <div class=\"mail-compose-editable-box\" (drop)=\"onFilesDrop($event)\">\n          <div #editor *ngIf=\"draftMail?.is_html\"></div>\n          <div *ngIf=\"!draftMail?.is_html\">\n            <textarea class=\"plain-editor\" name=\"content\" [(ngModel)]=\"mailData.content\" (ngModelChange)=\"valueChanged$.next(mailData.content)\" id=\"content\" rows=\"1\"> </textarea>\n          </div>\n        </div>\n        <input type=\"file\" #imageInput accept=\"image/*\" multiple (change)=\"onImagesSelected($event.target.files)\" style=\"display: none\" />\n        <input type=\"file\" #fileInput multiple (change)=\"onFilesSelected($event.target.files)\" style=\"display: none\" />\n        <div class=\"attach-uploader-holder\" *ngIf=\"attachments?.length > 0\">\n          <ng-container *ngFor=\"let file of attachments\">\n            <div class=\"attach-uploader\" *ngIf=\"!file.isRemoved && !(file.is_inline && file.progress === 100)\">\n              <div class=\"attach-name\">\n                <div class=\"file-name\">{{ file.name }}</div>\n                <div class=\"attach-size\" *ngIf=\"file.size\">({{ file.size }})</div>\n              </div>\n              <div class=\"progress\" *ngIf=\"file.progress !== 100\">\n                <div class=\"progress-bar\" role=\"progressbar\" [style.width]=\"file.progress + '%'\" [attr.aria-valuenow]=\"file.progress\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n              </div>\n              <button type=\"button\" role=\"button\" (click)=\"removeAttachment(file)\" class=\"attach-uploader-close\" placement=\"top\" [ngbTooltip]=\"'settings.remove' | translate\">\n                <i class=\"icon icon-cross\"></i>\n              </button>\n            </div>\n          </ng-container>\n        </div>\n        <div #attachmentHolder style=\"height: 20px\"></div>\n      </div>\n    </div>\n    <div class=\"mail-composer-footer\">\n      <div class=\"mail-composer-actions-row d-flex align-items-center\">\n        <div class=\"mail-composer-actions-col mail-composer-actions-col-lg\" [ngClass]=\"{ 'composer-footer': !isFullScreen && !isMailDetailPage }\">\n          <ul class=\"mail-composer-actions d-flex align-items-center\">\n            <!-- Send button -->\n            <li class=\"send-mail-item\">\n              <button class=\"btn btn-sm btn-secondary btn-mail-send btn-xs-rounded\" (click)=\"sendEmailCheck()\" [disabled]=\"isUploadingAttachment || isDownloadingAttachmentCounter > 0\" role=\"button\" placement=\"top\">\n                <i class=\"hidden-sm-up icon icon-paper-plane\"></i>\n                <span class=\"hidden-xs-down\">{{ 'settings.compose.send' | translate }}</span>\n              </button>\n            </li>\n            <!-- Text formatting -->\n            <li class=\"pr-0\">\n              <div *ngIf=\"!draftMail?.is_html; else textFormatter\" ngbTooltip=\"Text formatting is not available in plain text editor\" class=\"dropdown\">\n                <button class=\"actions-btn mail-typo-btn hide-arrow\" disabled>\n                  <i class=\"icon icon-text-color\"></i>\n                </button>\n              </div>\n              <ng-template #textFormatter>\n                <div ngbDropdown [autoClose]=\"'outside'\" [placement]=\"['top-left', 'bottom-left']\" class=\"dropdown\">\n                  <button ngbDropdownToggle class=\"actions-btn mail-typo-btn hide-arrow\" id=\"typoDropdownMenu\" role=\"button\" placement=\"top\" [ngbTooltip]=\"'settings.compose.text_format' | translate\">\n                    <i class=\"icon icon-text-color\"></i>\n                  </button>\n                  <div ngbDropdownMenu class=\"typo-actions-dropdown-menu\" aria-labelledby=\"typoDropdownMenu\">\n                    <div #toolbar class=\"mail-comopser-typo-actions-holder\">\n                      <ul class=\"mail-composer-actions d-flex align-items-center justify-content-center pb-1\">\n                        <li class=\"pr-0\">\n                          <div ngbDropdown placement=\"top\" class=\"dropup\">\n                            <button ngbDropdownToggle role=\"button\" ngbTooltip=\"Font family\" class=\"actions-btn mail-font-family-btn border-right-0 border-radius-r-0\" id=\"typoFamilyDropdownMenu\">\n                              <i class=\"icon icon-text-size\"></i>\n                            </button>\n                            <div ngbDropdownMenu class=\"typo-family-dropdown-menu\" aria-labelledby=\"typoFamilyDropdownMenu\">\n                              <div class=\"typo-holder\">\n                                <ul class=\"typo-list list-styled\">\n                                  <li *ngFor=\"let font of fonts\">\n                                    <button [value]=\"font\" class=\"ql-font typo-select-link text-capitalize\">\n                                      {{ font }}\n                                    </button>\n                                  </li>\n                                </ul>\n                              </div>\n                            </div>\n                          </div>\n                        </li>\n                        <li class=\"pl-0\">\n                          <div ngbDropdown placement=\"top\" class=\"dropup\">\n                            <button ngbDropdownToggle role=\"button\" ngbTooltip=\"Font size\" class=\"actions-btn mail-font-family-btn\" id=\"typoSizeDropdownMenu\">\n                              <i class=\"icon icon-text-size-alt\"></i>\n                            </button>\n                            <div ngbDropdownMenu class=\"typo-size-dropdown-menu\" aria-labelledby=\"typoSizeDropdownMenu\">\n                              <div class=\"typo-holder\">\n                                <ul class=\"typo-list list-styled\">\n                                  <li>\n                                    <button value=\"10px\" class=\"ql-size typo-select-link is-small\">\n                                      {{ 'settings.compose.small' | translate }}\n                                    </button>\n                                  </li>\n                                  <li>\n                                    <button value=\"\" class=\"ql-size typo-select-link is-normal\">\n                                      {{ 'settings.compose.normal' | translate }}\n                                    </button>\n                                  </li>\n                                  <li>\n                                    <button value=\"18px\" class=\"ql-size typo-select-link is-large\">\n                                      {{ 'settings.compose.large' | translate }}\n                                    </button>\n                                  </li>\n                                  <li>\n                                    <button value=\"32px\" class=\"ql-size typo-select-link is-huge\">\n                                      {{ 'settings.compose.huge' | translate }}\n                                    </button>\n                                  </li>\n                                </ul>\n                              </div>\n                            </div>\n                          </div>\n                        </li>\n                        <li class=\"pr-0\">\n                          <button role=\"button\" ngbTooltip=\"Bold\" class=\"ql-bold actions-btn mail-bold-btn border-right-0 border-radius-r-0\">\n                            <i class=\"icon icon-bold\"></i>\n                          </button>\n                        </li>\n                        <li class=\"px-0\">\n                          <button role=\"button\" ngbTooltip=\"Italic\" class=\"ql-italic actions-btn mail-italic-btn border-right-0 border-radius-0\">\n                            <i class=\"icon icon-italic\"></i>\n                          </button>\n                        </li>\n                        <li class=\"px-0\">\n                          <button role=\"button\" ngbTooltip=\"Underline\" class=\"ql-underline actions-btn mail-underline-btn border-right-0 border-radius-0\">\n                            <i class=\"icon icon-underline\"></i>\n                          </button>\n                        </li>\n                        <li class=\"pl-0\">\n                          <button role=\"button\" ngbTooltip=\"Quote\" class=\"ql-blockquote actions-btn mail-quote-right-btn border-radius-l-0\">\n                            <i class=\"icon icon-quote-right\"></i>\n                          </button>\n                        </li>\n                        <li class=\"pr-0 d-none d-sm-block\">\n                          <button role=\"button\" ngbTooltip=\"Align right\" class=\"ql-align actions-btn mail-align-right-btn border-right-0 border-radius-r-0\" value=\"right\">\n                            <i class=\"icon icon-text-align-right\"></i>\n                          </button>\n                        </li>\n                        <li class=\"px-0 d-none d-sm-block\">\n                          <button role=\"button\" ngbTooltip=\"Align center\" class=\"ql-align actions-btn mail-align-center-btn border-right-0 border-radius-0\" value=\"center\">\n                            <i class=\"icon icon-text-align-center\"></i>\n                          </button>\n                        </li>\n                        <li class=\"pl-0 d-none d-sm-block\">\n                          <button role=\"button\" ngbTooltip=\"Align left\" class=\"ql-align actions-btn mail-align-left-btn border-radius-l-0\">\n                            <i class=\"icon icon-text-align-left\"></i>\n                          </button>\n                        </li>\n                      </ul>\n                      <ul class=\"mail-composer-actions d-flex align-items-center justify-content-center\">\n                        <li class=\"pl-0\">\n                          <div ngbDropdown placement=\"top\" class=\"dropdown\">\n                            <button ngbDropdownToggle ngbTooltip=\"Font color\" class=\"actions-btn mail-font-color-btn border-radius-l-0\" id=\"typoColorDropdownMenu\" role=\"button\">\n                              <i class=\"icon icon-text-color\"></i>\n                            </button>\n                            <div ngbDropdownMenu class=\"left-0\" aria-labelledby=\"typoColorDropdownMenu\">\n                              <div class=\"color-picker-holder\">\n                                <div class=\"row\">\n                                  <div class=\"col-sm-6 mb-3 mb-sm-0\">\n                                    <div class=\"color-picker\">\n                                      <div class=\"color-picker-title\">\n                                        <strong> {{ 'settings.compose.background_color' | translate }}</strong>\n                                      </div>\n                                      <ul class=\"color-picker-list d-flex flex-wrap\">\n                                        <li *ngFor=\"let color of colors\">\n                                          <button class=\"ql-background color-shape\" [class.border-lightgrey]=\"color === '#ffffff'\" [value]=\"color\" [style.background]=\"color\"></button>\n                                        </li>\n                                      </ul>\n                                    </div>\n                                  </div>\n                                  <div class=\"col-sm-6 mb-3 mb-sm-0\">\n                                    <div class=\"color-picker\">\n                                      <div class=\"color-picker-title\">\n                                        <strong> {{ 'settings.compose.text_color' | translate }}</strong>\n                                      </div>\n                                      <ul class=\"color-picker-list d-flex flex-wrap\">\n                                        <li *ngFor=\"let color of colors\">\n                                          <button class=\"ql-color color-shape\" [class.border-lightgrey]=\"color === '#ffffff'\" [value]=\"color\" [style.background]=\"color\"></button>\n                                        </li>\n                                      </ul>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </li>\n                        <li class=\"pr-0\">\n                          <button role=\"button\" ngbTooltip=\"Unordered list\" class=\"ql-list actions-btn mail-unorder-list-btn border-right-0 border-radius-r-0\" value=\"bullet\">\n                            <i class=\"icon icon-unorder-list\"></i>\n                          </button>\n                        </li>\n                        <li class=\"px-0\">\n                          <button role=\"button\" ngbTooltip=\"Ordered list\" class=\"ql-list actions-btn mail-order-list-btn border-right-0 border-radius-0\" value=\"ordered\">\n                            <i class=\"icon icon-ordered-list\"></i>\n                          </button>\n                        </li>\n                        <li class=\"px-0\">\n                          <button role=\"button\" ngbTooltip=\"Decrease indent\" class=\"ql-indent actions-btn mail-indent-decrease-btn border-right-0 border-radius-0\" value=\"-1\">\n                            <i class=\"icon icon-indent-decrease\"></i>\n                          </button>\n                        </li>\n                        <li class=\"pl-0\">\n                          <button role=\"button\" ngbTooltip=\"Increase indent\" class=\"ql-indent actions-btn mail-indent-increase-btn\" value=\"+1\">\n                            <i class=\"icon icon-indent-increase\"></i>\n                          </button>\n                        </li>\n                        <li>\n                          <button role=\"button\" type=\"button\" ngbTooltip=\"Insert image\" class=\"ql-image actions-btn mail-attach-image-btn\">\n                            <i class=\"icon fa fa-image\"></i>\n                          </button>\n                        </li>\n                        <li>\n                          <button role=\"button\" ngbTooltip=\"Clear formatting\" class=\"ql-clean actions-btn mail-format-clear-btn\">\n                            <i class=\"icon icon-format-clear\"></i>\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </ng-template>\n            </li>\n            <!-- Attachments -->\n            <li class=\"p-0\">\n              <button type=\"button\" role=\"button\" (click)=\"fileInput.value = ''; fileInput.click()\" class=\"actions-btn mail-attach-btn\" placement=\"top\" [ngbTooltip]=\"'settings.compose.attachments' | translate\">\n                <i class=\"icon icon-attachment\"></i>\n              </button>\n            </li>\n            <!-- Insert Link -->\n            <li class=\"p-0\">\n              <div *ngIf=\"!draftMail?.is_html; else insertLinkRef\" ngbTooltip=\"Insert link is not available in plain text editor\" class=\"dropdown\">\n                <button class=\"actions-btn insert-link-btn\" disabled>\n                  <i class=\"fas fa-link\"></i>\n                </button>\n              </div>\n              <ng-template #insertLinkRef>\n                <button role=\"button\" ngbTooltip=\"Insert link\" (click)=\"openInsertLinkModal()\" class=\"actions-btn insert-link-btn\">\n                  <i class=\"fas fa-link\"></i>\n                </button>\n              </ng-template>\n            </li>\n            <!-- Encryption -->\n            <li class=\"p-0\" [ngbTooltip]=\"'page_pricing.encryption' | translate\">\n              <button role=\"button\" type=\"button\" class=\"actions-btn mail-envelop-btn border-radius-r-0\" [ngClass]=\"{ 'text-primary': draftMail?.encryption?.password }\" (click)=\"openEncryptionModal()\" placement=\"top\" [ngbTooltip]=\"'settings.compose.encryption' | translate\">\n                <i class=\"icon icon-mail\"></i>\n              </button>\n            </li>\n            <!-- Self Destruct-->\n            <li class=\"p-0\" *ngIf=\"userState?.isPrime || isTrialPrimeFeaturesAvailable; else disabledSelfDestructBtn\">\n              <button role=\"button\" type=\"button\" (click)=\"openSelfDestructModal()\" class=\"actions-btn mail-clock-btn border-left-0 border-radius-0\" [ngClass]=\"{ 'badge badge-warning text-white': selfDestruct.value }\" placement=\"top\" [ngbTooltip]=\"'settings.compose.self_destr_timer' | translate\">\n                <i class=\"icon icon-clock\"></i>\n              </button>\n            </li>\n            <ng-template #disabledSelfDestructBtn>\n              <li class=\"px-0\" ngbTooltip=\"Upgrade account to use Self Destruct Email feature\">\n                <button type=\"button\" role=\"button\" class=\"actions-btn mail-clock-btn border-left-0 border-radius-0\" disabled>\n                  <i class=\"icon icon-clock\"></i>\n                </button>\n              </li>\n            </ng-template>\n            <!-- Delayed Delivery -->\n            <li class=\"p-0\" *ngIf=\"userState?.isPrime || isTrialPrimeFeaturesAvailable; else disabledDelayedDeliveryBtn\">\n              <button type=\"button\" role=\"button\" (click)=\"openDelayedDeliveryModal()\" class=\"actions-btn mail-self-timer-btn border-left-0 border-radius-l-0\" [ngClass]=\"{ 'badge badge-success text-white': delayedDelivery.value }\" placement=\"top\" [ngbTooltip]=\"'settings.compose.delayed_delivery' | translate\">\n                <i class=\"icon icon-self-timer\"></i>\n              </button>\n            </li>\n            <ng-template #disabledDelayedDeliveryBtn>\n              <li class=\"p-0\" ngbTooltip=\"Upgrade account to use Delayed Delivery feature.\">\n                <button type=\"button\" role=\"button\" class=\"actions-btn mail-self-timer-btn border-left-0 border-radius-l-0\" disabled>\n                  <i class=\"icon icon-self-timer\"></i>\n                </button>\n              </li>\n            </ng-template>\n            <!-- Dead man Timer -->\n            <li class=\"p-0\" *ngIf=\"userState?.isPrime || isTrialPrimeFeaturesAvailable; else disabledDeadManTimerBtn\">\n              <button type=\"button\" role=\"button\" (click)=\"openDeadManTimerModal()\" class=\"actions-btn mail-dead-btn border-left-0 border-radius-l-0\" [ngClass]=\"{ 'badge badge-danger text-white': deadManTimer.value }\" placement=\"top\" [ngbTooltip]=\"'settings.compose.dead_man_timer' | translate\">\n                <i class=\"icon icon-dead\"></i>\n              </button>\n            </li>\n            <ng-template #disabledDeadManTimerBtn>\n              <li class=\"p-0\" ngbTooltip=\"Upgrade account to use Dead Man Timer feature.\">\n                <button type=\"button\" role=\"button\" class=\"actions-btn mail-dead-btn border-left-0 border-radius-l-0\" disabled>\n                  <i class=\"icon icon-dead\"></i>\n                </button>\n              </li>\n            </ng-template>\n            <!-- More button(version change) -->\n            <li class=\"btn-dropdown\">\n              <div ngbDropdown [autoClose]=\"'outside'\" class=\"dropdown menu-btn\" [placement]=\"['top-left', 'bottom-left']\">\n                <button class=\"actions-btn more-btn hide-arrow\" id=\"btn_more\" [ngbTooltip]=\"'More'\" placement=\"right\" ngbDropdownToggle>\n                  <i class=\"fa fa-ellipsis-v\"></i>\n                </button>\n                <div ngbDropdownMenu class=\"dropdown-menu-right text-center dropdown-size\" aria-labelledby=\"helpDropdownMenuButton\">\n                  <button class=\"dropdown-item row\" style=\"margin: 0px\" (click)=\"setHtmlEditor(true)\" [disabled]=\"draftMail.is_html\">\n                    <div class=\"row item\">\n                      <div class=\"col-2\">\n                        <i *ngIf=\"draftMail.is_html\" class=\"fa fa-check text-black-50 ng-star-inserted\"></i>\n                      </div>\n                      <a class=\"col-8 ql-size-small\" target=\"_blank\" rel=\"noopener noreferrer\"> HTML Editor</a>\n                    </div>\n                  </button>\n                  <button class=\"dropdown-item\" (click)=\"setHtmlEditor(false)\" [disabled]=\"!draftMail.is_html\">\n                    <div class=\"row item\">\n                      <div class=\"col-2\">\n                        <i *ngIf=\"!draftMail.is_html\" class=\"fa fa-check text-black-50 ng-star-inserted\"></i>\n                      </div>\n                      <a class=\"col-8 ql-size-small\">Plain Text</a>\n                    </div>\n                  </button>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <!-- save/delete button field on footer -->\n        <div class=\"mail-composer-actions-col mail-composer-actions-col-sm\" [ngClass]=\"{ 'composer-footer': !isFullScreen && !isMailDetailPage }\">\n          <ul class=\"mail-composer-actions d-flex align-items-center justify-content-end\">\n            <li class=\"pr-1\" *ngIf=\"isDownloadingAttachmentCounter > 0\">\n              <span>{{ 'settings.compose.downloading_attachments' | translate }}</span>\n            </li>\n            <li class=\"pr-1\" *ngIf=\"inProgress || (draftMail && draftMail.id)\">\n              <span>{{ inProgress ? (draftMail.send ? ('settings.compose.sending' | translate) : ('settings.compose.saving' | translate)) : ('settings.compose.saved' | translate) }}</span>\n            </li>\n            <li class=\"pr-0\" *ngIf=\"showSaveButton\">\n              <button role=\"button\" (click)=\"saveInDrafts()\" [disabled]=\"isUploadingAttachment || isDownloadingAttachmentCounter > 0\" class=\"actions-btn mail-save-disk-btn border-right-0 border-radius-r-0\" placement=\"top\" [ngbTooltip]=\"'settings.compose.save_to_drafts' | translate\">\n                <i class=\"icon icon-save-disk\"></i>\n              </button>\n            </li>\n            <li class=\"pl-0\">\n              <button role=\"button\" (click)=\"discardEmail()\" [disabled]=\"isUploadingAttachment || isDownloadingAttachmentCounter > 0\" class=\"actions-btn mail-garbage-btn border-radius-l-0\" placement=\"top\" [ngbTooltip]=\"'settings.compose.delete_draft' | translate\">\n                <i class=\"icon icon-garbage\"></i>\n              </button>\n            </li>\n            <li class=\"pl-0 pop-up-reply\" *ngIf=\"isMailDetailPage\">\n              <button role=\"button\" (click)=\"openReplyinPopup()\" [disabled]=\"inProgress || isUploadingAttachment || isDownloadingAttachmentCounter > 0\" class=\"actions-btn border-radius-l-0\" placement=\"top\" [ngbTooltip]=\"'Pop out reply'\">\n                <i class=\"fas fa-external-link-alt\"></i>\n              </button>\n            </li>\n          </ul>\n        </div>\n        <!-- save/delete button field on footer -->\n      </div>\n    </div>\n  </div>\n  <!-- Main Content field -->\n\n  <!-- attach images modal -->\n  <ng-template #attachImagesModal let-c=\"close\" let-d=\"dismiss\">\n    <div class=\"modal-header\">\n      <h3 class=\"modal-title w-100 text-dark\">\n        <strong>{{ 'settings.compose.attach_images' | translate }}</strong>\n      </h3>\n      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    <div class=\"modal-body bg-faded\">\n      <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n        <div class=\"form-group\">{{ 'settings.compose.select_file' | translate }}</div>\n        <div class=\"form-group\">\n          <label for=\"imageURL\">Image URL</label>\n          <input type=\"text\" #imageURL id=\"imageURL\" class=\"form-control\" [placeholder]=\"'settings.compose.image_url' | translate\" />\n        </div>\n        <div class=\"form-group text-right mb-0\">\n          <button type=\"button\" (click)=\"imageInput.value = ''; imageInput.click(); d()\" class=\"btn btn-success btn-sm mr-1\" role=\"button\">\n            <span>{{ 'settings.compose.attach_files' | translate }}</span>\n          </button>\n          <button type=\"button\" (click)=\"onAttachImageURL(imageURL.value)\" class=\"btn btn-success btn-sm\" role=\"button\">\n            <span>{{ 'settings.compose.attach_url' | translate }}</span>\n          </button>\n        </div>\n      </div>\n    </div> </ng-template\n  ><!-- /.attach images modal ends -->\n\n  <!-- self destruct datetime picker modal -->\n  <ng-template #selfDestructModal let-c=\"close\" let-d=\"dismiss\">\n    <div class=\"modal-header\">\n      <h3 class=\"modal-title w-100 text-dark\">\n        <strong>{{ 'settings.compose.self_dest_email' | translate }}</strong>\n        <ng-container [ngTemplateOutlet]=\"learnMore\" [ngTemplateOutletContext]=\"{ link: 'https://ctemplar.com/help/answer/using-the-self-destruct-timer/' }\"> </ng-container>\n      </h3>\n      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    <div class=\"modal-body bg-faded\">\n      <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n        <div class=\"form-group\">{{ 'settings.compose.email_deleted' | translate }}</div>\n        <div class=\"row\">\n          <div class=\"col-7 form-group\">\n            <label class=\"form-inline\">{{ 'settings.compose.select_date' | translate }}</label>\n            <ngb-datepicker class=\"bg-white ng-datepicker ng-datepicker-265\" ngbAutofocus [(ngModel)]=\"selfDestruct.date\" [minDate]=\"datePickerMinDate\"> </ngb-datepicker>\n          </div>\n          <div class=\"col-5 form-group\">\n            <label class=\"form-inline\">{{ 'settings.compose.select_time' | translate }}</label>\n            <div class=\"btn-dropdown btn-dropdown-select btn-dropdown-lg col-4 p-0\">\n              <div ngbDropdown class=\"dropdown-sm\">\n                <button ngbDropdownToggle class=\"dropdown-toggle border-0 from-text\" id=\"selfDestructMeridianDropdownMenuButton\" role=\"button\">\n                  {{ selfDestruct.meridian ? '12 ' + ('settings.compose.hour' | translate) : '24 ' + ('settings.compose.hour' | translate) }}\n                </button>\n                <div ngbDropdownMenu aria-labelledby=\"selfDestructMeridianDropdownMenuButton\">\n                  <a class=\"dropdown-item from-text\" (click)=\"selfDestruct.meridian = true\"\n                    >12&nbsp;\n                    <span>{{ 'settings.compose.hour' | translate }}</span>\n                  </a>\n                  <a class=\"dropdown-item from-text\" (click)=\"selfDestruct.meridian = false\"\n                    >24&nbsp;\n                    <span>{{ 'settings.compose.hour' | translate }}</span>\n                  </a>\n                </div>\n              </div>\n            </div>\n            <ngb-timepicker [(ngModel)]=\"selfDestruct.time\" [meridian]=\"selfDestruct.meridian\"></ngb-timepicker>\n          </div>\n        </div>\n        <div *ngIf=\"selfDestruct.error\" class=\"l-alert l-alert-danger mb-3\">{{ selfDestruct.error }}</div>\n        <div class=\"form-group text-center btns-xs-3 mb-0\">\n          <button type=\"button\" (click)=\"setSelfDestructValue()\" class=\"btn btn-success btn-sm mr-1\" role=\"button\">\n            <span>{{ 'settings.compose.confirm' | translate }}</span>\n          </button>\n          <button type=\"button\" (click)=\"clearSelfDestructValue()\" class=\"btn btn-primary btn-sm mr-1\" role=\"button\">Clear</button>\n          <button (click)=\"d()\" class=\"btn btn-secondary btn-sm\" role=\"button\">\n            {{ 'common.cancel' | translate }}\n          </button>\n        </div>\n      </div>\n    </div> </ng-template\n  ><!-- /.self destruct datetime picker modal ends -->\n\n  <!-- delayed delivery datetime picker modal -->\n  <ng-template #delayedDeliveryModal let-c=\"close\" let-d=\"dismiss\">\n    <div class=\"modal-header\">\n      <h3 class=\"modal-title w-100 text-dark\">\n        <strong>{{ 'settings.compose.delayed_delivery' | translate }}</strong>\n        <ng-container\n          [ngTemplateOutlet]=\"learnMore\"\n          [ngTemplateOutletContext]=\"{\n            link: 'https://ctemplar.com/help/answer/delay-or-schedule-sending-email-messages/'\n          }\"\n        >\n        </ng-container>\n      </h3>\n      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    <div class=\"modal-body bg-faded\">\n      <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n        <div class=\"form-group\">{{ 'settings.compose.email_on_datetime' | translate }}</div>\n        <div class=\"row\">\n          <div class=\"col-7 form-group\">\n            <label class=\"form-inline\">{{ 'settings.compose.select_date' | translate }}</label>\n            <ngb-datepicker class=\"bg-white ng-datepicker ng-datepicker-265\" ngbAutofocus [(ngModel)]=\"delayedDelivery.date\" [minDate]=\"datePickerMinDate\"></ngb-datepicker>\n          </div>\n          <div class=\"col-5 form-group\">\n            <label class=\"form-inline\">{{ 'settings.compose.select_time' | translate }}</label>\n            <div class=\"btn-dropdown btn-dropdown-select btn-dropdown-lg col-4 p-0\">\n              <div ngbDropdown class=\"dropdown-sm\">\n                <button ngbDropdownToggle class=\"dropdown-toggle border-0 from-text\" id=\"delayedDeliveryMeridianDropdownMenuButton\" role=\"button\">\n                  {{ delayedDelivery.meridian ? '12 Hour' : '24 Hour' }}\n                </button>\n                <div ngbDropdownMenu aria-labelledby=\"delayedDeliveryMeridianDropdownMenuButton\">\n                  <a class=\"dropdown-item from-text\" (click)=\"delayedDelivery.meridian = true\"\n                    >12\n                    <span>{{ 'settings.compose.hour' | translate }}</span>\n                  </a>\n                  <a class=\"dropdown-item from-text\" (click)=\"delayedDelivery.meridian = false\"\n                    >24\n                    <span>{{ 'settings.compose.hour' | translate }}</span>\n                  </a>\n                </div>\n              </div>\n            </div>\n            <ngb-timepicker [(ngModel)]=\"delayedDelivery.time\" [meridian]=\"delayedDelivery.meridian\"></ngb-timepicker>\n          </div>\n        </div>\n        <div *ngIf=\"delayedDelivery.error\" class=\"l-alert l-alert-danger mb-3\">{{ delayedDelivery.error }}</div>\n        <div class=\"form-group text-center btns-xs-3 mb-0\">\n          <button type=\"button\" (click)=\"setDelayedDeliveryValue()\" class=\"btn btn-success btn-sm mr-1\" role=\"button\">\n            {{ 'settings.compose.confirm' | translate }}\n          </button>\n          <button type=\"button\" (click)=\"clearDelayedDeliveryValue()\" class=\"btn btn-primary btn-sm mr-1\" role=\"button\">\n            {{ 'settings.compose.clear' | translate }}\n          </button>\n          <button (click)=\"d()\" class=\"btn btn-secondary btn-sm\" role=\"button\">\n            {{ 'common.cancel' | translate }}\n          </button>\n        </div>\n      </div>\n    </div> </ng-template\n  ><!-- /.delayed delivery datetime picker modal ends -->\n\n  <!-- dead man timer modal -->\n  <ng-template #deadManTimerModal let-c=\"close\" let-d=\"dismiss\">\n    <div class=\"modal-header\">\n      <h3 class=\"modal-title w-100 text-dark\">\n        <strong>{{ 'settings.compose.dead_man_timer' | translate }}</strong>\n        <ng-container [ngTemplateOutlet]=\"learnMore\" [ngTemplateOutletContext]=\"{ link: 'https://ctemplar.com/help/answer/setting-up-a-dead-mans-timer/' }\"> </ng-container>\n      </h3>\n      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    <div class=\"modal-body bg-faded\">\n      <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n        <div class=\"form-group\">{{ 'settings.compose.email_sent_timer' | translate }}</div>\n        <form (submit)=\"setDeadManTimerValue()\">\n          <div class=\"form-group\">\n            <label class=\"form-inline\" for=\"deadman-days\">{{ 'settings.compose.days' | translate }}</label>\n            <input type=\"number\" class=\"form-control\" id=\"deadman-days\" name=\"deadman-days\" ngbAutofocus [(ngModel)]=\"deadManTimer.days\" />\n          </div>\n          <div class=\"form-group\">\n            <label class=\"form-inline\" for=\"deadman-hours\">{{ 'settings.compose.hours' | translate }}</label>\n            <input type=\"number\" class=\"form-control\" id=\"deadman-hours\" name=\"deadman-hours\" [(ngModel)]=\"deadManTimer.hours\" />\n          </div>\n          <div class=\"form-group text-center btns-xs-3 mb-0\">\n            <button type=\"submit\" class=\"btn btn-success btn-sm mr-1\" role=\"button\">\n              {{ 'settings.compose.confirm' | translate }}\n            </button>\n            <button type=\"reset\" (click)=\"clearDeadManTimerValue()\" class=\"btn btn-primary btn-sm mr-1\" role=\"button\">\n              {{ 'settings.compose.clear' | translate }}\n            </button>\n            <button (click)=\"d()\" class=\"btn btn-secondary btn-sm\" role=\"button\">\n              {{ 'common.cancel' | translate }}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div> </ng-template\n  ><!-- /.dead man timer modal ends -->\n\n  <!-- Insert link modal -->\n  <ng-template #insertLinkModal let-c=\"close\" let-d=\"dismiss\">\n    <div class=\"modal-header\">\n      <h3 class=\"modal-title w-100 text-dark\">\n        <strong>{{ 'settings.compose.insert_link' | translate }}</strong>\n      </h3>\n      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    <div class=\"modal-body bg-faded\">\n      <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n        <form (submit)=\"insertLink(insertLinkData.text, insertLinkData.link)\">\n          <div class=\"form-group\">\n            <label class=\"form-inline\" for=\"text-to-display\">{{ 'settings.compose.text_to_display' | translate }}</label>\n            <input type=\"text\" class=\"form-control\" id=\"text-to-display\" name=\"text-to-display\" [(ngModel)]=\"insertLinkData.text\" />\n          </div>\n          <div class=\"form-group\">\n            <label class=\"form-inline\" for=\"link-to\">{{ 'settings.compose.link_to' | translate }}</label>\n            <input type=\"text\" class=\"form-control\" id=\"link-to\" name=\"link-to\" [(ngModel)]=\"insertLinkData.link\" />\n          </div>\n          <div class=\"form-group text-center btns-xs-3 mb-0\">\n            <button (click)=\"d()\" class=\"btn btn-secondary btn-sm\" role=\"button\">\n              {{ 'common.cancel' | translate }}\n            </button>\n            <button type=\"submit\" class=\"btn btn-success btn-sm ml-2\" [disabled]=\"!insertLinkData.text || !insertLinkData.link\" role=\"button\">OK</button>\n          </div>\n        </form>\n      </div>\n    </div> </ng-template\n  ><!-- /.Insert link modal ends -->\n\n  <!-- encryption modal -->\n  <ng-template #encryptionModal let-c=\"close\" let-d=\"dismiss\">\n    <div class=\"modal-header\">\n      <h3 class=\"modal-title w-100 text-dark\">\n        <strong>{{ 'settings.compose.encrypt_for_non' | translate }}</strong>\n        <ng-container\n          [ngTemplateOutlet]=\"learnMore\"\n          [ngTemplateOutletContext]=\"{\n            link: 'https://ctemplar.com/help/answer/sending-encrypted-email-to-non-ctemplar-users/'\n          }\"\n        >\n        </ng-container>\n      </h3>\n      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    <div class=\"modal-body bg-faded encrypt-non-ctemplar\">\n      <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n        <form [formGroup]=\"encryptForm\" (submit)=\"onSubmitEncryption()\">\n          <div class=\"form-group\">\n            <label for=\"encrypt-password\">{{ 'settings.compose.message_password' | translate }}</label>\n            <div class=\"input-group\">\n              <input #encryptPasswordInput type=\"password\" class=\"form-control form-control-lg\" id=\"encrypt-password\" ngbAutofocus formControlName=\"password\" [placeholder]=\"'settings.compose.message_password' | translate\" />\n              <span class=\"input-group-addon password-toggle bg-white text-muted\" (click)=\"encryptPasswordInput.type = encryptPasswordInput.type === 'password' ? 'text' : 'password'\"> <i class=\"fa fa-eye\"></i> <i class=\"fa fa-eye-slash\"></i> </span>\n            </div>\n            <span *ngIf=\"encryptForm.controls['password'].errors && showEncryptFormErrors\" class=\"validate-message\">\n              <span *ngIf=\"encryptForm.controls['password'].errors.required\">\n                {{ 'settings.compose.message_password_req' | translate }}\n              </span>\n            </span>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"confirm-encrypt-password\">{{ 'create_account.confirm_password' | translate }}</label>\n            <div class=\"input-group\">\n              <input #encryptConfirmPasswordInput type=\"password\" class=\"form-control form-control-lg\" id=\"confirm-encrypt-password\" formControlName=\"confirmPwd\" [placeholder]=\"'create_account.confirm_password' | translate\" />\n              <span class=\"input-group-addon password-toggle bg-white text-muted\" (click)=\"encryptConfirmPasswordInput.type = encryptConfirmPasswordInput.type === 'password' ? 'text' : 'password'\">\n                <i class=\"fa fa-eye\"></i>\n                <i class=\"fa fa-eye-slash\"></i>\n              </span>\n            </div>\n            <span *ngIf=\"encryptForm.controls['confirmPwd'].errors && showEncryptFormErrors\" class=\"validate-message\">\n              <span>{{ 'create_account.passwords_not_match' | translate }}</span>\n            </span>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"password-hint\">{{ 'settings.compose.password_hint' | translate }}</label>\n            <input type=\"text\" id=\"password-hint\" class=\"form-control\" formControlName=\"passwordHint\" [placeholder]=\"'settings.compose.password_hint' | translate\" />\n          </div>\n          <div class=\"form-group\">\n            <label>{{ 'settings.compose.encrypt_message_expire' | translate }}</label>\n            <div class=\"row\">\n              <div class=\"col-3\">\n                <label class=\"form-inline\" for=\"encryption-expire-days\">{{ 'settings.compose.days' | translate }}</label>\n                <input type=\"number\" class=\"form-control\" formControlName=\"days\" min=\"0\" max=\"5\" name=\"encrypt-non-ctemplar-days\" />\n              </div>\n              <div class=\"col-3\">\n                <label class=\"form-inline\" for=\"encryption-expire-hours\">{{ 'settings.compose.hours' | translate }}</label>\n                <input type=\"number\" class=\"form-control\" formControlName=\"hours\" min=\"0\" max=\"24\" name=\"encrypt-non-ctemplar-hours\" />\n              </div>\n            </div>\n            <div>\n              <span *ngIf=\"showEncryptFormErrors && (encryptForm.controls['days'].errors || encryptForm.controls['hours'].errors || encryptForm.controls['hours'].value + encryptForm.controls['days'].value * 24 === 0 || encryptForm.controls['hours'].value + encryptForm.controls['days'].value * 24 > 120)\" class=\"validate-message\">\n                {{ 'settings.compose.expiry_time_message' | translate }}\n              </span>\n            </div>\n          </div>\n          <div class=\"form-group text-center mb-0\">\n            <button type=\"submit\" class=\"btn btn-success btn-sm mr-1\" role=\"button\">\n              {{ 'settings.compose.confirm' | translate }}\n            </button>\n            <button type=\"button\" (click)=\"clearEncryption()\" class=\"btn btn-primary btn-sm mr-1\" role=\"button\">\n              {{ 'settings.compose.clear' | translate }}\n            </button>\n            <button (click)=\"d()\" class=\"btn btn-secondary btn-sm\" role=\"button\">\n              {{ 'common.cancel' | translate }}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div> </ng-template\n  ><!-- /.encryption modal ends -->\n  <!-- Confirm delete folder modal -->\n  <ng-template #confirmationModal let-c=\"close\" let-d=\"dismiss\">\n    <div class=\"modal-header\">\n      <h3 class=\"modal-title w-100 text-dark\">\n        <strong [translate]=\"'settings.compose.confirm_send'\">Confirm Send </strong>\n      </h3>\n      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    <div class=\"modal-body bg-faded\">\n      <div class=\"mail-actions-form-holder modal-mail-actions-form-holder\">\n        <div class=\"form-group\">\n          <span [translate]=\"'settings.compose.send_without_all'\"> Are you sure, send this message without a subject or text in the body?</span>\n        </div>\n        <div class=\"form-group text-right mb-0\">\n          <button (click)=\"d()\" class=\"btn btn-secondary btn-sm mr-2\" role=\"button\">\n            <span [translate]=\"'common.cancel'\">Cancel</span>\n          </button>\n          <button (click)=\"sendEmail()\" class=\"btn btn-danger btn-sm\" role=\"button\" [disabled]=\"userState?.inProgress\">\n            <span [translate]=\"'settings.compose.send'\">Send</span>\n          </button>\n          <app-loading-spinner [showSpinner]=\"userState?.inProgress\"></app-loading-spinner>\n        </div>\n      </div>\n    </div> </ng-template\n  ><!-- /.Confirm delete folder modal ends -->\n  <ng-template #learnMore let-link=\"link\">\n    <a ngbTooltip=\"Learn more\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"learn-more-info-icon\" [href]=\"link\"><i class=\"far fa-question-circle\"></i> </a>\n  </ng-template>\n</div>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild,\n} from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgbDateStruct, NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport * as parseEmail from 'email-addresses';\nimport * as QuillNamespace from 'quill';\nimport { Subject, Subscription } from 'rxjs';\nimport { debounceTime, finalize } from 'rxjs/operators';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { COLORS, FONTS, SummarySeparator } from '../../../shared/config';\nimport {\n  ContactsGet,\n  CloseMailbox,\n  DeleteAttachment,\n  GetEmailContacts,\n  GetUsersKeys,\n  MoveMail,\n  NewDraft,\n  SetIsComposerPopUp,\n  SnackErrorPush,\n  SnackPush,\n  UpdateDraftAttachment,\n  UpdateLocalDraft,\n  UpdatePGPDecryptedContent,\n  UploadAttachment,\n} from '../../../store/actions';\nimport { FilenamePipe } from '../../../shared/pipes/filename.pipe';\nimport { FilesizePipe } from '../../../shared/pipes/filesize.pipe';\nimport { EmailFormatPipe } from '../../../shared/pipes/email-formatting.pipe';\nimport {\n  AppState,\n  AuthState,\n  ComposeMailState,\n  ContactsState,\n  Draft,\n  MailAction,\n  MailBoxesState,\n  MailState,\n  SecureContent,\n  Settings,\n  UserState,\n} from '../../../store/datatypes';\nimport { Attachment, EncryptionNonCTemplar, Mail, Mailbox, MailFolderType } from '../../../store/models';\nimport { MailService, SharedService } from '../../../store/services';\nimport { DateTimeUtilService } from '../../../store/services/datetime-util.service';\nimport { OpenPgpService } from '../../../store/services/openpgp.service';\n\nconst Quill: any = QuillNamespace;\n\n/**\n * Add custom fonts, sizes, styles to quill\n */\nconst FontAttributor = Quill.import('attributors/style/font');\nFontAttributor.whitelist = [...FONTS];\nQuill.register(FontAttributor, true);\n\nconst SizeAttributor = Quill.import('attributors/style/size');\nSizeAttributor.whitelist = ['10px', '18px', '32px'];\nQuill.register(SizeAttributor, true);\nQuill.register(Quill.import('attributors/style/align'), true);\nQuill.register(Quill.import('attributors/style/background'), true);\nQuill.register(Quill.import('attributors/style/color'), true);\n\nconst QuillBlockEmbed = Quill.import('blots/block/embed');\nconst Inline = Quill.import('blots/inline');\n\n/**\n * Define Custom Image Blot to store meta-data in Quill Editor\n */\nclass ImageBlot extends QuillBlockEmbed {\n  // Converts the HTML tag to image blot\n  static create(value) {\n    const node: any = super.create(value);\n    if (value.url) {\n      node.setAttribute('src', value.url);\n    } else {\n      node.setAttribute('src', value);\n    }\n    if (value) {\n      node.setAttribute('data-content-id', value.content_id);\n    }\n    return node;\n  }\n\n  // Converts the image blot to HTML tag\n  static value(node) {\n    return {\n      content_id: node.getAttribute('data-content-id'),\n      url: node.getAttribute('src'),\n    };\n  }\n}\n\nImageBlot.blotName = 'image';\nImageBlot.tagName = 'img';\n\nQuill.register(ImageBlot);\n\n/**\n * Custom Signature Blot to add custom html signature to Quill Editor\n */\nclass SignatureBlot extends QuillBlockEmbed {\n  // Converts the HTML tag to text version\n  static create(value) {\n    const node: any = super.create(value);\n    value = value.replace(/<br>/g, '\\n');\n    node.innerText = value;\n    return node;\n  }\n\n  static value(node) {\n    return node.innerHTML;\n  }\n}\n\nSignatureBlot.blotName = 'signature';\nSignatureBlot.tagName = 'div';\nSignatureBlot.className = 'ctemplar-signature';\n\nQuill.register(SignatureBlot);\n\n/**\n * Custom Inline Blot to Quill Editor\n */\nclass OriginalBlot extends Inline {\n  // add custom class to node\n  static create(value) {\n    const node = super.create();\n    node.setAttribute('class', 'originalblock');\n    return node;\n  }\n\n  static value(node) {\n    return node.innerHTML;\n  }\n}\n\nOriginalBlot.blotName = 'originalblock';\nOriginalBlot.tagName = 'div';\nOriginalBlot.className = 'originalblock';\n\nQuill.register(OriginalBlot);\n\nexport class PasswordValidation {\n  static MatchPassword(AC: AbstractControl) {\n    const password = AC.get('password').value; // to get value in password input tag\n    const confirmPassword = AC.get('confirmPwd').value; // to get value in confirm password input tag\n    if (password !== confirmPassword) {\n      AC.get('confirmPwd').setErrors({ MatchPassword: true });\n    } else {\n      return null;\n    }\n  }\n}\n\n@UntilDestroy()\n@Component({\n  selector: 'app-compose-mail',\n  templateUrl: './compose-mail.component.html',\n  styleUrls: ['./compose-mail.component.scss', './../mail-sidebar.component.scss'],\n})\nexport class ComposeMailComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n  @Input() receivers: Array<string>;\n\n  @Input() cc: Array<string>;\n\n  @Input() content = '';\n\n  @Input() subject: string;\n\n  @Input() draftMail: Mail;\n\n  @Input() selectedMailbox: Mailbox;\n\n  @Input() parentId: number;\n\n  @Input() showSaveButton = true;\n\n  @Input() forwardAttachmentsMessageId: number;\n\n  @Input() action: MailAction;\n\n  @Input() action_parent: number;\n\n  @Input() isMailDetailPage: boolean;\n\n  @Input() isFullScreen: boolean;\n\n  @Input() isPopupOpen: boolean;\n\n  @Input() isReplyInPopup: boolean;\n\n  @Output() hide: EventEmitter<void> = new EventEmitter<void>();\n\n  @Output() subjectChanged: EventEmitter<string> = new EventEmitter<string>();\n\n  @Output() popUpChange: EventEmitter<any> = new EventEmitter<any>();\n\n  @ViewChild('editor', { read: ElementRef, static: false }) editor;\n\n  @ViewChild('attachmentHolder') attachmentHolder;\n\n  @ViewChild('toolbar') toolbar;\n\n  @ViewChild('attachImagesModal') attachImagesModal;\n\n  @ViewChild('selfDestructModal') selfDestructModal;\n\n  @ViewChild('delayedDeliveryModal') delayedDeliveryModal;\n\n  @ViewChild('receiverInput') receiverInputRange: ElementRef;\n\n  @ViewChild('ccReceiverInput') ccReceiverInputRange: ElementRef;\n\n  @ViewChild('bccReceiverInput') bccReceiverInputRange: ElementRef;\n\n  @ViewChild('deadManTimerModal') deadManTimerModal;\n\n  @ViewChild('encryptionModal') encryptionModal;\n\n  @ViewChild('insertLinkModal') insertLinkModal;\n\n  @ViewChild('confirmationModal') confirmationModal;\n\n  confirmModalRef: NgbModalRef;\n\n  draftId: number;\n\n  colors = COLORS;\n\n  fonts = FONTS;\n\n  mailData: any = {};\n\n  inputTextValue = '';\n\n  ccInputTextValue = '';\n\n  bccInputTextValue = '';\n\n  options: any = {};\n\n  selfDestruct: any = {};\n\n  delayedDelivery: any = {};\n\n  deadManTimer: any = {};\n\n  attachments: Attachment[] = [];\n\n  isKeyboardOpened: boolean;\n\n  encryptForm: FormGroup;\n\n  contacts: any = [];\n\n  datePickerMinDate: NgbDateStruct;\n\n  valueChanged$: Subject<any> = new Subject<any>();\n\n  inProgress: boolean;\n\n  isProcessingAttachments: boolean;\n\n  isLoaded: boolean;\n\n  showEncryptFormErrors: boolean;\n\n  isTrialPrimeFeaturesAvailable = false;\n\n  mailBoxesState: MailBoxesState;\n\n  isUploadingAttachment: boolean;\n\n  isDownloadingAttachmentCounter = 0;\n\n  insertLinkData: any = {};\n\n  settings: Settings;\n\n  mailAction = MailAction;\n\n  isPasted = false;\n\n  ccIsPasted = false;\n\n  bccIsPasted = false;\n\n  private isMailSent = false;\n\n  private isSavedInDraft = false;\n\n  private quill: any;\n\n  private autoSaveSubscription: Subscription;\n\n  private attachImagesModalRef: NgbModalRef;\n\n  private selfDestructModalRef: NgbModalRef;\n\n  private delayedDeliveryModalRef: NgbModalRef;\n\n  private deadManTimerModalRef: NgbModalRef;\n\n  private encryptionModalRef: NgbModalRef;\n\n  private defaultLocale = 'US International';\n\n  private draft: Draft;\n\n  private attachmentsQueue: Array<Attachment> = [];\n\n  private downloadingAttachments: any = {};\n\n  private inlineAttachmentContentIds: Array<string> = [];\n\n  private isSignatureAdded = false;\n\n  private isAuthenticated: boolean;\n\n  private saveDraftOnLogout: boolean;\n\n  public userState: UserState = new UserState();\n\n  private decryptedContent: string;\n\n  private encryptionData: any = {};\n\n  private loadContacts = true;\n\n  private contactsState: ContactsState;\n\n  private oldMailbox: Mailbox;\n\n  constructor(\n    private modalService: NgbModal,\n    private store: Store<AppState>,\n    private formBuilder: FormBuilder,\n    private openPgpService: OpenPgpService,\n    private mailService: MailService,\n    private sharedService: SharedService,\n    private dateTimeUtilService: DateTimeUtilService,\n    private filesizePipe: FilesizePipe,\n    private filenamePipe: FilenamePipe,\n    private cdr: ChangeDetectorRef,\n  ) {}\n\n  ngOnInit() {\n    this.encryptForm = this.formBuilder.group(\n      {\n        password: ['', [Validators.required]],\n        confirmPwd: ['', [Validators.required]],\n        passwordHint: [''],\n        days: [5, [Validators.required, Validators.min(0), Validators.max(5)]],\n        hours: [0, [Validators.required, Validators.min(0), Validators.max(24)]],\n      },\n      {\n        validator: PasswordValidation.MatchPassword,\n      },\n    );\n\n    this.resetMailData();\n    this.initializeDraft();\n\n    /**\n     * Get current Compose state from Store and\n     * Encrypt attachments of compose mail\n     */\n    this.store\n      .select((state: AppState) => state.composeMail)\n      .pipe(untilDestroyed(this))\n      .subscribe((response: ComposeMailState) => {\n        const draft = response.drafts[this.draftId];\n        if (draft) {\n          this.draftMail = draft.draft;\n          this.inProgress = draft.inProgress;\n          if (draft.isProcessingAttachments !== undefined) {\n            this.isProcessingAttachments = draft.isProcessingAttachments;\n          }\n          if (draft.draft && draft.draft.id && this.attachmentsQueue.length > 0) {\n            // when open draft mail with attachments\n            this.attachmentsQueue.forEach(attachment => {\n              attachment.message = draft.draft.id;\n              this.encryptAttachment(attachment);\n            });\n            this.attachmentsQueue = [];\n          }\n          if (!this.inProgress) {\n            this.handleAttachment(draft);\n          }\n        }\n        this.draft = draft;\n      });\n\n    /**\n     * Get user's information from store.\n     */\n    this.store\n      .select((state: AppState) => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n        this.settings = user.settings;\n        // Set html/plain version from user's settings.\n        if (this.draftMail && this.draftMail.is_html === null) {\n          this.draftMail.is_html = !this.settings.is_html_disabled;\n        }\n        if (user.settings.is_contacts_encrypted) {\n          this.contacts = [];\n        }\n      });\n\n    this.store.dispatch(\n      new ContactsGet({\n        // call API to get user's contacts from DB\n      }),\n    );\n\n    /**\n     * Get user's contacts from store.\n     */\n    this.store\n      .select((state: AppState) => state.contacts)\n      .pipe(untilDestroyed(this))\n      .subscribe((contactsState: ContactsState) => {\n        this.contacts = [];\n        if (contactsState.emailContacts === undefined) {\n          contactsState.contacts.forEach(x => {\n            this.contacts.push({\n              name: x.name,\n              email: x.email,\n              display: EmailFormatPipe.transformToFormattedEmail(x.email, x.name),\n            });\n          });\n        } else {\n          contactsState.emailContacts.forEach(x => {\n            this.contacts.push({\n              name: x.name,\n              email: x.email,\n              display: EmailFormatPipe.transformToFormattedEmail(x.email, x.name),\n            });\n          });\n        }\n        this.contactsState = contactsState;\n        this.loadEmailContacts();\n      });\n\n    /**\n     * Get user's current authentication status\n     */\n    this.store\n      .select((state: AppState) => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        this.isAuthenticated = authState.isAuthenticated;\n        this.saveDraftOnLogout = authState.saveDraftOnLogout;\n        if (authState.saveDraftOnLogout) {\n          this.updateEmail();\n        } // save draft before logout\n        this.loadEmailContacts();\n      });\n\n    /**\n     * Get user's mailbox information\n     */\n    this.store\n      .select(state => state.mailboxes)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailBoxesState: MailBoxesState) => {\n        if (!this.selectedMailbox) {\n          if (this.draftMail && this.draftMail.mailbox) {\n            this.selectedMailbox = mailBoxesState.mailboxes.find(mailbox => mailbox.id === this.draftMail.mailbox);\n          } else if (mailBoxesState.currentMailbox) {\n            this.selectedMailbox = mailBoxesState.currentMailbox;\n            this.updateSignature();\n          }\n        }\n        if (\n          this.selectedMailbox &&\n          mailBoxesState.currentMailbox &&\n          this.selectedMailbox.id === mailBoxesState.currentMailbox.id\n        ) {\n          this.selectedMailbox = mailBoxesState.currentMailbox;\n        }\n        this.mailBoxesState = mailBoxesState;\n      });\n\n    /**\n     * Get mail status and\n     * add decrypted content if content is not decrypted\n     */\n    this.store\n      .select(state => state.mail)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailState: MailState) => {\n        if (this.draftMail && !this.decryptedContent) {\n          const decryptedContent = mailState.decryptedContents[this.draftMail.id];\n          if (decryptedContent && !decryptedContent.inProgress && decryptedContent.content) {\n            this.decryptedContent = decryptedContent.content;\n            if (this.draftMail.is_subject_encrypted) {\n              this.subject = decryptedContent.subject;\n              this.mailData.subject = decryptedContent.subject;\n            }\n            this.addDecryptedContent();\n          }\n        }\n      });\n\n    const now = new Date();\n    this.datePickerMinDate = {\n      year: now.getFullYear(),\n      month: now.getMonth() + 1,\n      day: now.getDate(),\n    };\n\n    this.initializeAutoSave(); // start auto save function\n  }\n\n  onPaste($event) {\n    this.isPasted = true;\n  }\n\n  ccOnPaste($event) {\n    this.ccIsPasted = true;\n  }\n\n  bccOnPaste($event) {\n    this.bccIsPasted = true;\n  }\n\n  updateInputTextValue(value) {\n    // add tag if pasted item is valid email\n    if (this.isPasted && this.validateEmail(value)) {\n      this.mailData.receiver.push({\n        display: value,\n        value,\n      });\n      this.inputTextValue = '';\n      this.isPasted = false;\n    }\n  }\n\n  ccUpdateInputTextValue(value) {\n    // add tag if pasted item is valid email\n    if (this.ccIsPasted && this.validateEmail(value)) {\n      this.mailData.cc.push({\n        display: value,\n        value,\n      });\n      this.ccInputTextValue = '';\n      this.ccIsPasted = false;\n    }\n  }\n\n  bccUpdateInputTextValue(value) {\n    // add tag if pasted item is valid email\n    if (this.bccIsPasted && this.validateEmail(value)) {\n      this.mailData.bcc.push({\n        display: value,\n        value,\n      });\n      this.bccInputTextValue = '';\n      this.bccIsPasted = false;\n    }\n  }\n\n  validateEmail(email) {\n    const re = /^(([^\\s\"(),.:;<>@[\\\\\\]]+(\\.[^\\s\"(),.:;<>@[\\\\\\]]+)*)|(\".+\"))@((\\[(?:\\d{1,3}\\.){3}\\d{1,3}])|(([\\dA-Za-z\\-]+\\.)+[A-Za-z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  }\n\n  onTagEdited($event) {\n    this.mailData.receiver[$event.index] = { display: $event.display, value: $event.value };\n  }\n\n  ccOnTagEdited($event) {\n    this.mailData.cc[$event.index] = { display: $event.display, value: $event.value };\n  }\n\n  bccOnTagEdited($event) {\n    this.mailData.bcc[$event.index] = { display: $event.display, value: $event.value };\n  }\n\n  onClick($event) {\n    this.receiverInputRange.nativeElement.querySelector('input[type=\"text\"]').focus();\n  }\n\n  onCcClick($event) {\n    this.ccReceiverInputRange.nativeElement.querySelector('input[type=\"text\"]').focus();\n  }\n\n  onBccClick($event) {\n    this.bccReceiverInputRange.nativeElement.querySelector('input[type=\"text\"]').focus();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    console.log(changes);\n  }\n\n  ngAfterViewInit() {\n    this.initializeComposeMail();\n    if (this.forwardAttachmentsMessageId) {\n      if (this.editor) {\n        this.updateEmail();\n      } else {\n        setTimeout(() => {\n          this.updateEmail();\n        }, 1000);\n      }\n    }\n    this.cdr.detectChanges();\n  }\n\n  initializeComposeMail() {\n    if (this.draftMail.is_html === null || this.draftMail.is_html) {\n      if (this.editor) {\n        this.initializeQuillEditor();\n      }\n    } else {\n      // display mail content and change from html to text if html version\n      let content = this.mailData.content ? this.mailData.content : '';\n      if (this.editor) {\n        this.content = this.editor.nativeElement.firstChild.innerHTML;\n      }\n      this.content = this.content && this.content === '' ? content : this.content;\n\n      if (this.content) {\n        content = this.getPlainText(this.content);\n      }\n      if (content) {\n        setTimeout(() => {\n          this.mailData.content = content;\n          this.updateSignature();\n        }, 300);\n      }\n    }\n  }\n\n  setHtmlEditor(value: boolean) {\n    this.draftMail.is_html = value;\n    if (value) {\n      this.cdr.detectChanges();\n    }\n    this.initializeComposeMail();\n    if (!value) {\n      this.cdr.detectChanges();\n    }\n    this.valueChanged$.next();\n  }\n\n  openReplyinPopup() {\n    this.store.dispatch(new SetIsComposerPopUp(true));\n    this.popUpChange.emit({\n      receivers: this.receivers,\n      draftMail: this.draftMail,\n      forwardAttachmentsMessageId: this.forwardAttachmentsMessageId,\n      action: this.action,\n      parentId: this.parentId,\n    });\n  }\n\n  ngOnDestroy(): void {\n    // save to draft when close compose\n    if (this.selectedMailbox.email && !this.isMailSent && !this.isSavedInDraft && !this.saveDraftOnLogout) {\n      this.saveInDrafts();\n      this.isSavedInDraft = true;\n    }\n    if (this.isAuthenticated) {\n      this.store.dispatch(new CloseMailbox(this.draft));\n    }\n  }\n\n  onSubjectChange(subject: any) {\n    this.subjectChanged.emit(subject);\n  }\n\n  private getPlainText(html: string) {\n    // Change html content to text content by deletng html tags\n    if (!/<\\/?[a-z][\\S\\s]*>/i.test(html)) {\n      return html;\n    }\n    const element = document.createElement('div');\n    element.innerHTML = html\n      .replace(/<br>/g, '')\n      .replace(/<\\/div>/g, '<br></div>')\n      .replace(/<\\/p>/g, '<br></p>')\n      .replace(/<br>/g, '\\n')\n      .replace(/<\\/br>/g, '\\n');\n    return element.textContent;\n  }\n\n  loadEmailContacts() {\n    if (\n      this.isAuthenticated &&\n      this.loadContacts &&\n      !this.contacts &&\n      this.contactsState &&\n      !this.contactsState.loaded &&\n      !this.contactsState.inProgress &&\n      !this.userState.settings.is_contacts_encrypted\n    ) {\n      this.loadContacts = false;\n      this.store.dispatch(new GetEmailContacts());\n    }\n  }\n\n  initializeDraft() {\n    // save compose content to draft for the first time\n    this.draftId = Date.now();\n    if (!this.draftMail) {\n      this.draftMail = { is_html: null, content: null, folder: 'draft' };\n    } else {\n      this.openPgpService.decrypt(this.draftMail.mailbox, this.draftMail.id, new SecureContent(this.draftMail));\n      this.isSignatureAdded = true;\n      if (this.draftMail.attachments) {\n        this.inlineAttachmentContentIds = this.draftMail.attachments\n          .filter((attachment: Attachment) => attachment.is_inline)\n          .map(attachment => attachment.content_id);\n      }\n    }\n\n    this.encryptionData = {};\n    if (this.draftMail && this.draftMail.encryption) {\n      this.encryptionData.password = this.draftMail.encryption.password;\n      this.encryptionData.password_hint = this.draftMail.encryption.password_hint;\n      this.encryptionData.expiryHours = this.draftMail.encryption.expiry_hours;\n    }\n\n    const draft: Draft = {\n      id: this.draftId,\n      draft: this.draftMail,\n      inProgress: false,\n      attachments:\n        this.draftMail && this.draftMail.attachments\n          ? this.draftMail.attachments.map(attachment => {\n              attachment.progress = 100;\n              attachment.name = this.filenamePipe.transform(attachment.document);\n              attachment.draftId = this.draftId;\n              attachment.attachmentId = performance.now() + Math.floor(Math.random() * 1000);\n              return attachment;\n            })\n          : [],\n      usersKeys: null,\n    };\n\n    this.store.dispatch(new NewDraft({ ...draft }));\n    this.decryptAttachments(draft.attachments);\n  }\n\n  decryptAttachments(attachments: Array<Attachment>) {\n    attachments.forEach(attachment => {\n      // TODO: Do we need to download attachment even if it is not encrypted?\n      if (!attachment.decryptedDocument && !this.downloadingAttachments[attachment.id]) {\n        this.downloadingAttachments[attachment.id] = true;\n        this.isDownloadingAttachmentCounter++;\n        this.mailService\n          .getAttachment(attachment)\n          .pipe(untilDestroyed(this))\n          .pipe(\n            finalize(() => {\n              this.isDownloadingAttachmentCounter--;\n            }),\n          )\n          .subscribe(\n            response => {\n              if (attachment.is_encrypted) {\n                // if attachment is encrypted, update draft attachment with decrypted attachment\n                const fileInfo = { attachment, type: response.file_type };\n                this.openPgpService\n                  .decryptAttachment(this.draftMail.mailbox, atob(response.data), fileInfo)\n                  .subscribe(decryptedAttachment => {\n                    this.store.dispatch(\n                      new UpdateDraftAttachment({\n                        draftId: this.draftId,\n                        attachment: { ...decryptedAttachment },\n                      }),\n                    );\n                  });\n              } else {\n                // if attachment is not encrypted, update draft attachment with decoded attachment\n                const uint8Array = this.sharedService.base64ToUint8Array(response.data);\n                const newDocument = new File(\n                  [uint8Array.buffer.slice(uint8Array.byteOffset, uint8Array.byteLength + uint8Array.byteOffset)],\n                  attachment.name,\n                  { type: response.file_type },\n                );\n                const newAttachment: Attachment = { ...attachment, decryptedDocument: newDocument };\n                this.store.dispatch(\n                  new UpdateDraftAttachment({\n                    draftId: this.draftId,\n                    attachment: { ...newAttachment },\n                  }),\n                );\n              }\n            },\n            error => console.log(error),\n          );\n      }\n    });\n  }\n\n  initializeQuillEditor() {\n    this.quill = new Quill(this.editor.nativeElement, {\n      modules: {\n        toolbar: this.toolbar.nativeElement,\n      },\n      clipboard: {\n        matchVisual: false,\n      },\n    });\n\n    if (this.userState.settings.default_font) {\n      this.quill.format('font', this.userState.settings.default_font);\n    }\n    this.quill.getModule('toolbar').addHandler('image', () => {\n      this.quillImageHandler();\n    });\n\n    this.quill.on('text-change', (delta, oldDelta, source) => {\n      this.valueChanged$.next();\n    });\n    // need to change text to html contents\n    if (this.mailData.content) {\n      this.content = this.mailData.content ? this.mailData.content.replace(/\\n/g, '<br>') : this.content;\n      this.quill.clipboard.dangerouslyPasteHTML(0, this.content);\n    } else if (this.content) {\n      this.content = this.formatContent(this.content);\n      this.quill.clipboard.dangerouslyPasteHTML(0, this.content);\n    }\n\n    this.updateSignature();\n\n    setTimeout(() => {\n      this.quill.setSelection(0, 0, 'silent');\n    }, 100);\n  }\n\n  private formatContent(content: string) {\n    // convert text content to html content\n    return !this.draftMail.is_html ? content.replace(/\\n/g, '<br>') : content;\n  }\n\n  insertLink(text: string, link: string) {\n    // add content with link based on https or http to quill\n    this.insertLinkData.modalRef.close();\n    if (!/^https?:\\/\\//i.test(link)) {\n      link = `http://${link}`;\n    }\n    this.quill.focus();\n    this.quill.updateContents([\n      { retain: this.quill.getSelection().index || this.quill.getLength() },\n      {\n        // An image link\n        insert: text,\n        attributes: {\n          link,\n          target: '_blank',\n        },\n      },\n    ]);\n  }\n\n  openInsertLinkModal() {\n    this.insertLinkData = {};\n    this.insertLinkData.modalRef = this.modalService.open(this.insertLinkModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  initializeAutoSave() {\n    if (this.settings.autosave_duration !== 'none') {\n      this.autoSaveSubscription = this.valueChanged$\n        .pipe(\n          debounceTime(Number(this.settings.autosave_duration)), // get autosave interval from user's settings\n        )\n        .subscribe(data => {\n          this.updateEmail();\n        });\n    }\n  }\n\n  quillImageHandler() {\n    this.attachImagesModalRef = this.modalService.open(this.attachImagesModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  onFromChanged(mailbox: Mailbox, oldMailbox: Mailbox) {\n    // when user change current mailbox on From field of Compose window\n    if (oldMailbox === mailbox) {\n      return;\n    }\n    this.selectedMailbox = mailbox;\n    this.oldMailbox = oldMailbox;\n    this.updateSignature();\n    this.valueChanged$.next(this.selectedMailbox);\n  }\n\n  onImagesSelected(files: FileList) {\n    if (!this.draftMail || !this.draftMail.id) {\n      this.updateEmail();\n    }\n    for (let i = 0; i < files.length; i++) {\n      const file = files.item(i);\n      if (/^image\\//.test(file.type)) {\n        const FR = new FileReader();\n        FR.addEventListener('load', function (e) {\n          document.querySelector('.ql-editor p').innerHTML += `<img src=${e.target.result} alt=\"image\" />`;\n        });\n        FR.readAsDataURL(file);\n      } else {\n        // TODO: add error notification for invalid file type here\n      }\n    }\n  }\n\n  onFilesSelected(files: FileList) {\n    this.isProcessingAttachments = true;\n    if (!this.draftMail || !this.draftMail.id) {\n      this.updateEmail();\n    }\n    for (let i = 0; i < files.length; i++) {\n      const file: File = files.item(i);\n      this.uploadAttachment(file, false);\n    }\n  }\n\n  uploadAttachment(file: File, isInline = false) {\n    if (this.checkAttachmentSizeLimit(file)) {\n      this.attachmentHolder.nativeElement.scrollIntoView({ behavior: 'smooth' });\n      const attachment: Attachment = {\n        draftId: this.draftId,\n        document: file,\n        decryptedDocument: file,\n        name: file.name,\n        size: this.filesizePipe.transform(file.size),\n        attachmentId: performance.now() + Math.floor(Math.random() * 1000),\n        message: this.draftMail.id,\n        is_inline: isInline,\n        is_encrypted: !isInline,\n        inProgress: false,\n      };\n      this.attachments.push(attachment);\n      if (!this.draftMail.id) {\n        this.attachmentsQueue.push(attachment);\n      } else {\n        this.encryptAttachment(attachment);\n      }\n    }\n  }\n\n  checkAttachmentSizeLimit(file: File): boolean {\n    // there is limit size of attachment from user's settings\n    const attachmentLimitInMBs = this.settings.attachment_size_limit / (1024 * 1024);\n    if (file.size > this.settings.attachment_size_limit) {\n      this.store.dispatch(\n        new SnackErrorPush({\n          message: this.settings.attachment_size_error || `Maximum allowed file size is ${attachmentLimitInMBs}MB.`,\n        }),\n      );\n      return false;\n    }\n    return true;\n  }\n\n  encryptAttachment(attachment: Attachment) {\n    if (attachment.is_inline) {\n      this.store.dispatch(new UploadAttachment({ ...attachment }));\n    } else {\n      this.openPgpService.encryptAttachment(this.selectedMailbox.id, attachment);\n    }\n  }\n\n  handleAttachment(draft: Draft) {\n    // usage Object.assign to create new copy and avoid storing reference of draft.attachments\n    this.attachments = Object.assign([], draft.attachments);\n    this.decryptAttachments(this.attachments);\n    this.isUploadingAttachment = false;\n    // TODO: remove this if its not required anymore due to change in handling of inline attachments?\n    this.attachments.forEach(attachment => {\n      if (\n        attachment.is_inline &&\n        attachment.progress === 100 &&\n        !attachment.isRemoved &&\n        attachment.content_id &&\n        (!attachment.is_encrypted || attachment.decryptedDocument) &&\n        !this.inlineAttachmentContentIds.includes(attachment.content_id)\n      ) {\n        this.inlineAttachmentContentIds.push(attachment.content_id);\n        if (!attachment.is_forwarded) {\n          this.embedImageInQuill(attachment.document, attachment.content_id);\n        }\n      }\n      if (attachment.progress < 100 && !attachment.isRemoved) {\n        this.isUploadingAttachment = true;\n      }\n    });\n  }\n\n  onAttachImageURL(url: string) {\n    this.embedImageInQuill(url);\n    this.attachImagesModalRef.dismiss();\n  }\n\n  saveInDrafts() {\n    if (this.inProgress || this.draft.isSaving || this.isProcessingAttachments) {\n      // If saving is in progress, then wait to send.\n      setTimeout(() => {\n        this.saveInDrafts();\n      }, 100);\n      return;\n    }\n    if (this.isSavedInDraft) {\n      // if email already saved in ngOnDestroy.\n      return;\n    }\n    this.isSavedInDraft = true;\n    this.updateEmail();\n    this.hide.emit();\n    this.resetValues();\n  }\n\n  discardEmail() {\n    if (this.inProgress || this.draft.isSaving || this.isProcessingAttachments) {\n      // If saving is in progress, then wait to send.\n      setTimeout(() => {\n        this.discardEmail();\n      }, 100);\n      return;\n    }\n    this.isSavedInDraft = true;\n    if (this.draftMail && this.draftMail.id) {\n      this.store.dispatch(\n        new MoveMail({\n          ids: this.draftMail.id,\n          folder: MailFolderType.TRASH,\n          sourceFolder: MailFolderType.DRAFT,\n          mail: this.draftMail,\n          allowUndo: true,\n        }),\n      );\n    }\n    this.hide.emit();\n    this.resetValues();\n  }\n\n  /**\n   * Check exceptions and validations of subject and receiver before send mail\n   */\n  sendEmailCheck() {\n    if (this.inProgress || this.draft.isSaving || this.isProcessingAttachments) {\n      // If saving is in progress, then wait to send.\n      setTimeout(() => {\n        this.sendEmailCheck();\n      }, 100);\n      return;\n    }\n\n    if (!this.selectedMailbox.is_enabled) {\n      this.store.dispatch(\n        new SnackPush({ message: 'Selected email address is disabled. Please select a different email address.' }),\n      );\n      return;\n    }\n    const receivers: string[] = [\n      ...this.mailData.receiver.map(receiver => receiver.email),\n      ...this.mailData.cc.map(cc => cc.email),\n      ...this.mailData.bcc.map(bcc => bcc.email),\n    ];\n    if (receivers.length === 0) {\n      this.store.dispatch(new SnackErrorPush({ message: 'Please enter receiver email.' }));\n      return false;\n    }\n    const invalidAddress = receivers.find(receiver => !this.rfcStandardValidateEmail(receiver));\n    if (invalidAddress) {\n      this.store.dispatch(new SnackErrorPush({ message: `\"${invalidAddress}\" is not valid email address.` }));\n      return;\n    }\n    if (\n      this.mailData.subject === '' &&\n      ((this.draftMail.is_html &&\n        this.getPlainText(this.editor.nativeElement.firstChild.innerHTML).replace(/ /g, '').replace(/\\n/g, '')\n          .length === 0) ||\n        (!this.draftMail.is_html && this.mailData.content.replace(/ /g, '').replace(/\\n/g, '').length === 0))\n    ) {\n      // show message to confirm without subject and content\n      this.confirmModalRef = this.modalService.open(this.confirmationModal, {\n        centered: true,\n        windowClass: 'modal-sm users-action-modal',\n      });\n    } else {\n      this.sendEmail();\n    }\n  }\n\n  sendEmail() {\n    if (this.confirmModalRef) {\n      this.confirmModalRef.dismiss();\n    }\n    const receivers: string[] = [\n      ...this.mailData.receiver.map(receiver => receiver.display),\n      ...this.mailData.cc.map(cc => cc.display),\n      ...this.mailData.bcc.map(bcc => bcc.display),\n    ];\n    if (this.encryptionData.password) {\n      this.openPgpService.generateEmailSshKeys(this.encryptionData.password, this.draftId);\n    }\n    this.isMailSent = true;\n    this.setMailData(true, false);\n    this.inProgress = true;\n    this.store.dispatch(\n      new GetUsersKeys({\n        draftId: this.draftId,\n        emails: receivers,\n        draft: {\n          ...this.draft,\n          isMailDetailPage: this.isMailDetailPage,\n          isSaving: false,\n          shouldSave: false,\n          shouldSend: true,\n          draft: { ...this.draftMail },\n        },\n      }),\n    );\n    const message = this.delayedDelivery.value || this.deadManTimer.value ? 'Scheduling mail...' : 'Sending mail...';\n\n    this.store.dispatch(new SnackPush({ message, duration: 120000 }));\n    this.resetValues();\n    this.hide.emit();\n  }\n\n  removeAttachment(attachment: Attachment) {\n    if (!attachment.isRemoved) {\n      attachment.isRemoved = true;\n      this.store.dispatch(new DeleteAttachment(attachment));\n    }\n  }\n\n  /**\n   * Add signature on content of Compose message\n   */\n  updateSignature() {\n    if (!this.isSignatureAdded) {\n      if (this.settings && !this.draftMail.is_html) {\n        // add plaintext signature and return if plain text mode\n        this.isSignatureAdded = true;\n        this.mailData.content = this.mailData.content ? this.mailData.content : ' ';\n        if (this.selectedMailbox.signature) {\n          this.mailData.content = `\\n\\n${this.getPlainText(this.selectedMailbox.signature)}${this.mailData.content}`;\n        }\n        return;\n      }\n      /**\n       * add html signature if html version\n       */\n      let content: string;\n      let oldSig: string;\n      let newSig: string;\n      if (this.quill && this.quill.container) {\n        content = this.quill.container.innerHTML || '';\n        content = content.replace(/\\n\\n/g, '<br>');\n      }\n      if (this.quill && this.quill.container) {\n        if (this.oldMailbox && this.oldMailbox.signature) {\n          // update signature from old to new if signature is updated\n          oldSig = this.oldMailbox.signature.slice(0, Math.max(0, this.oldMailbox.signature.length));\n          if (this.selectedMailbox.signature) {\n            newSig = this.selectedMailbox.signature.slice(0, Math.max(0, this.selectedMailbox.signature.length));\n            content = content.replace(new RegExp(`${oldSig}$`), newSig);\n          } else {\n            content = content.replace(new RegExp(`${oldSig}$`), '');\n          }\n          this.quill.clipboard.dangerouslyPasteHTML(content);\n        } else if (this.selectedMailbox.signature) {\n          // add two lines and signature after message content with html format\n          newSig = this.selectedMailbox.signature.slice(0, Math.max(0, this.selectedMailbox.signature.length));\n          content = `<br><br>${newSig}` + content;\n          this.isSignatureAdded = true;\n          this.quill.clipboard.dangerouslyPasteHTML(content);\n        } else if (this.quill && this.selectedMailbox) {\n          if (this.selectedMailbox.signature) {\n            const index = this.quill.getLength();\n            this.quill.insertText(index, '\\n', 'silent');\n            const signature = this.selectedMailbox.signature.replace(/\\n/g, '<br>');\n            this.quill.clipboard.dangerouslyPasteHTML(index + 1, signature || '', 'silent');\n            this.isSignatureAdded = true;\n          }\n        }\n      }\n    }\n  }\n\n  addDecryptedContent() {\n    if (!this.draftMail.is_html) {\n      this.mailData.content = this.decryptedContent;\n      return;\n    }\n    if (this.quill) {\n      this.quill.setText('');\n      this.quill.clipboard.dangerouslyPasteHTML(0, this.decryptedContent, 'silent');\n    }\n  }\n\n  openSelfDestructModal() {\n    if (this.selfDestruct.value) {\n      // reset to previous confirmed value\n      this.selfDestruct = {\n        ...this.selfDestruct,\n        ...this.dateTimeUtilService.getNgbDateTimeStructsFromDateTimeStr(this.selfDestruct.value),\n      };\n    } else {\n      this.resetSelfDestructValues();\n    }\n    this.selfDestructModalRef = this.modalService.open(this.selfDestructModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  openDelayedDeliveryModal() {\n    if (this.delayedDelivery.value) {\n      // reset to previous confirmed value\n      this.delayedDelivery = {\n        ...this.delayedDelivery,\n        ...this.dateTimeUtilService.getNgbDateTimeStructsFromDateTimeStr(this.delayedDelivery.value),\n      };\n    } else {\n      this.resetDelayedDeliveryValues();\n    }\n    this.delayedDeliveryModalRef = this.modalService.open(this.delayedDeliveryModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  openDeadManTimerModal() {\n    if (!this.deadManTimer.value) {\n      this.resetDeadManTimerValues();\n    }\n    this.deadManTimerModalRef = this.modalService.open(this.deadManTimerModal, {\n      centered: true,\n      windowClass: 'modal-sm users-action-modal',\n    });\n  }\n\n  openEncryptionModal() {\n    this.encryptForm.controls.password.setValue(this.encryptionData.password || '');\n    this.encryptForm.controls.passwordHint.setValue(this.encryptionData.password_hint || '');\n    this.encryptionModalRef = this.modalService.open(this.encryptionModal, {\n      centered: true,\n      windowClass: 'modal-md users-action-modal',\n    });\n  }\n\n  closeEncryptionModal() {\n    this.encryptionModalRef.dismiss();\n  }\n\n  setSelfDestructValue() {\n    this.selfDestruct.error = null;\n    if (this.selfDestruct.date && this.selfDestruct.time) {\n      const dateTimeString = this.dateTimeUtilService.createDateTimeStrFromNgbDateTimeStruct(\n        this.selfDestruct.date,\n        this.selfDestruct.time,\n      );\n      if (this.dateTimeUtilService.isDateTimeInPast(dateTimeString)) {\n        this.selfDestruct.error = 'Selected datetime is in past.';\n      } else {\n        this.selfDestruct.value = dateTimeString;\n        this.closeSelfDestructModal();\n        this.clearDelayedDeliveryValue();\n        this.clearDeadManTimerValue();\n        this.valueChanged$.next(this.selfDestruct.value);\n      }\n    }\n  }\n\n  clearSelfDestructValue() {\n    this.resetSelfDestructValues();\n    this.closeSelfDestructModal();\n    this.valueChanged$.next(this.selfDestruct.value);\n  }\n\n  setDelayedDeliveryValue() {\n    if (this.delayedDelivery.date && this.delayedDelivery.time) {\n      const dateTimeString = this.dateTimeUtilService.createDateTimeStrFromNgbDateTimeStruct(\n        this.delayedDelivery.date,\n        this.delayedDelivery.time,\n      );\n      if (this.dateTimeUtilService.isDateTimeInPast(dateTimeString)) {\n        this.delayedDelivery.error = 'Selected datetime is in past.';\n      } else {\n        this.delayedDelivery.value = dateTimeString;\n        this.closeDelayedDeliveryModal();\n        this.clearSelfDestructValue();\n        this.clearDeadManTimerValue();\n        this.valueChanged$.next(this.delayedDelivery.value);\n      }\n    }\n  }\n\n  clearDelayedDeliveryValue() {\n    this.resetDelayedDeliveryValues();\n    this.closeDelayedDeliveryModal();\n    this.valueChanged$.next(this.delayedDelivery.value);\n  }\n\n  setDeadManTimerValue() {\n    this.deadManTimer.days =\n      !this.deadManTimer.days || isNaN(this.deadManTimer.days) || this.deadManTimer.days < 0\n        ? 0\n        : Math.floor(this.deadManTimer.days);\n    this.deadManTimer.hours =\n      !this.deadManTimer.hours || isNaN(this.deadManTimer.hours) || this.deadManTimer.hours < 0\n        ? 0\n        : Math.floor(this.deadManTimer.hours);\n    this.deadManTimer.value = this.deadManTimer.days * 24 + this.deadManTimer.hours;\n    this.closeDeadManTimerModal();\n    if (this.deadManTimer.value) {\n      this.clearSelfDestructValue();\n      this.clearDelayedDeliveryValue();\n    }\n    this.valueChanged$.next(this.deadManTimer.value);\n  }\n\n  clearDeadManTimerValue() {\n    this.resetDeadManTimerValues();\n    this.closeDeadManTimerModal();\n    this.valueChanged$.next(this.deadManTimer.value);\n  }\n\n  onSubmitEncryption() {\n    // Set password and expire date for message to non-ctemplar users\n    this.showEncryptFormErrors = true;\n    const { value } = this.encryptForm;\n    const expiryHours = value.hours + value.days * 24;\n    if (this.encryptForm.valid && expiryHours > 0 && expiryHours <= 120) {\n      this.encryptionData = {\n        expiryHours,\n        password: value.password,\n        passwordHint: value.passwordHint,\n      };\n      this.valueChanged$.next(true);\n      this.closeEncryptionModal();\n    }\n  }\n\n  clearEncryption() {\n    this.encryptForm.reset();\n    this.encryptionData = {};\n    this.valueChanged$.next(true);\n    this.closeEncryptionModal();\n  }\n\n  hasData() {\n    // using >1 because there is always a blank line represented by \\n (quill docs)\n    return (\n      (!this.draftMail.is_html ? this.mailData.content.length > 1 : this.quill.getLength() > 1) ||\n      this.mailData.receiver.length > 0 ||\n      this.mailData.cc.length > 0 ||\n      this.mailData.bcc.length > 0 ||\n      this.mailData.subject\n    );\n  }\n\n  private embedImageInQuill(source: string, contentId?: string) {\n    if (source && this.quill) {\n      const selection = this.quill.getSelection();\n      const index = selection ? selection.index : this.quill.getLength();\n      if (contentId === undefined) {\n        this.quill.insertEmbed(index, 'image', source);\n      } else {\n        this.quill.insertEmbed(index, 'image', {\n          url: source,\n          content_id: contentId,\n        });\n      }\n      this.quill.setSelection(index + 1);\n    }\n  }\n\n  private updateEmail() {\n    this.inProgress = true;\n    this.setMailData(false, true);\n    this.openPgpService.encrypt(this.draftMail.mailbox, this.draftId, new SecureContent(this.draftMail));\n  }\n\n  /**\n   * Handle all compose contents and save to draft or send according to shouldSend and shouldSave\n   */\n  setMailData(shouldSend: boolean, shouldSave: boolean) {\n    if (!this.draftMail) {\n      this.draftMail = { is_html: null, content: null, folder: 'draft' };\n    }\n\n    this.draft.isSaving = shouldSave;\n\n    this.draftMail.mailbox = this.selectedMailbox ? this.selectedMailbox.id : null;\n    this.draftMail.sender = this.selectedMailbox.email;\n    this.draftMail.receiver = this.mailData.receiver.map(receiver =>\n      EmailFormatPipe.transformToFormattedEmail(receiver.email, receiver.name),\n    );\n    this.draftMail.receiver = this.draftMail.receiver.filter(receiver => this.rfcStandardValidateEmail(receiver));\n    this.draftMail.cc = this.mailData.cc.map(cc => EmailFormatPipe.transformToFormattedEmail(cc.email, cc.name));\n    this.draftMail.cc = this.draftMail.cc.filter(receiver => this.rfcStandardValidateEmail(receiver));\n    this.draftMail.bcc = this.mailData.bcc.map(bcc => EmailFormatPipe.transformToFormattedEmail(bcc.email, bcc.name));\n    this.draftMail.bcc = this.draftMail.bcc.filter(receiver => this.rfcStandardValidateEmail(receiver));\n    this.draftMail.subject = this.mailData.subject;\n    this.draftMail.destruct_date = this.selfDestruct.value || null;\n    this.draftMail.delayed_delivery = this.delayedDelivery.value || null;\n    this.draftMail.dead_man_duration = this.deadManTimer.value || null;\n    this.draftMail.is_subject_encrypted = this.userState.settings.is_subject_encrypted;\n    let tokens;\n    if (this.draftMail.is_html) {\n      // if html version, convert text to html format with html tags\n      if (this.editor.nativeElement.firstChild !== null) {\n        this.draftMail.content = this.editor.nativeElement.firstChild.innerHTML;\n        tokens = this.draftMail.content.split(`<p>${SummarySeparator}</p>`);\n      }\n      if (tokens && tokens.length > 1) {\n        tokens[0] += `</br><span class=\"gmail_quote ctemplar_quote\">`;\n        tokens[tokens.length - 1] += `</span>`;\n        this.draftMail.content = tokens.join(`<p>${SummarySeparator}</p>`);\n      }\n      if (!shouldSave) {\n        this.draftMail.content = this.draftMail.content.replace('class=\"ctemplar-signature\"', '');\n      }\n\n      if (shouldSend) {\n        this.draftMail.content = this.draftMail.content.replace(new RegExp('<p>', 'g'), '<div>');\n        this.draftMail.content = this.draftMail.content.replace(new RegExp('</p>', 'g'), '</div>');\n      }\n    } else {\n      // if text version, don't convert content\n      this.draftMail.content = this.mailData.content;\n    }\n    this.draftMail.send = shouldSend;\n\n    if (this.action) {\n      this.draftMail.last_action = this.action;\n      this.draftMail.last_action_parent_id = this.action_parent;\n    }\n\n    if (this.forwardAttachmentsMessageId) {\n      this.draftMail.forward_attachments_of_message = this.forwardAttachmentsMessageId;\n      this.forwardAttachmentsMessageId = null;\n    }\n    if (this.parentId) {\n      this.draftMail.parent = this.parentId;\n    }\n    if (this.encryptionData.password) {\n      this.draftMail.encryption = this.draftMail.encryption || new EncryptionNonCTemplar();\n      this.draftMail.encryption.password = this.encryptionData.password;\n      this.draftMail.encryption.password_hint = this.encryptionData.passwordHint;\n      this.draftMail.encryption.expiry_hours = this.encryptionData.expiryHours;\n    } else if (this.draftMail.encryption) {\n      this.draftMail.encryption = new EncryptionNonCTemplar();\n    }\n\n    this.checkInlineAttachments();\n    if (!shouldSend) {\n      this.store.dispatch(\n        new UpdateLocalDraft({\n          ...this.draft,\n          isMailDetailPage: this.isMailDetailPage,\n          shouldSave,\n          shouldSend,\n          draft: { ...this.draftMail },\n        }),\n      );\n    } else {\n      this.store.dispatch(\n        new UpdatePGPDecryptedContent({\n          id: this.draftMail.id,\n          isPGPInProgress: false,\n          decryptedContent: { content: this.draftMail.content, subject: this.draftMail.subject },\n        }),\n      );\n    }\n  }\n\n  checkInlineAttachments() {\n    if (!this.draftMail.is_html) {\n      return;\n    }\n    const contents = this.quill.getContents().ops;\n    const currentAttachments = [];\n    contents.forEach(item => {\n      if (item.insert && item.insert.image && item.insert.image.content_id) {\n        currentAttachments.push(item.insert.image.content_id);\n      }\n    });\n    // inline attachments don't have attachment id\n    this.inlineAttachmentContentIds = this.inlineAttachmentContentIds.filter(contentId => {\n      if (!currentAttachments.includes(contentId)) {\n        const attachmentToRemove = this.attachments.find(attachment => attachment.content_id === contentId);\n        if (attachmentToRemove) {\n          this.removeAttachment(attachmentToRemove);\n        }\n        return false;\n      }\n      return true;\n    });\n  }\n\n  private resetValues() {\n    this.unSubscribeAutoSave();\n    this.options = {};\n    this.attachments = [];\n    if (this.quill) {\n      this.quill.setText('');\n    }\n    this.resetMailData();\n    this.clearSelfDestructValue();\n    this.clearDelayedDeliveryValue();\n    this.clearDeadManTimerValue();\n  }\n\n  private closeSelfDestructModal() {\n    if (this.selfDestructModalRef) {\n      this.selfDestructModalRef.dismiss();\n    }\n  }\n\n  private closeDelayedDeliveryModal() {\n    if (this.delayedDeliveryModalRef) {\n      this.delayedDeliveryModalRef.dismiss();\n    }\n  }\n\n  private closeDeadManTimerModal() {\n    if (this.deadManTimerModalRef) {\n      this.deadManTimerModalRef.dismiss();\n    }\n  }\n\n  private unSubscribeAutoSave() {\n    if (this.autoSaveSubscription) {\n      this.autoSaveSubscription.unsubscribe();\n    }\n  }\n\n  private resetMailData() {\n    this.resetSelfDestructValues();\n    this.resetDelayedDeliveryValues();\n    this.resetDeadManTimerValues();\n    this.mailData = {\n      receiver: this.receivers\n        ? this.receivers.map(receiver => ({ display: receiver, value: receiver, email: receiver }))\n        : this.draftMail && this.draftMail.receiver\n        ? this.draftMail.receiver.map(receiver => ({ display: receiver, value: receiver, email: receiver }))\n        : [],\n      cc: this.cc\n        ? this.cc.map(address => ({ display: address, value: address, email: address }))\n        : this.draftMail && this.draftMail.cc\n        ? this.draftMail.cc.map(receiver => ({ display: receiver, value: receiver, email: receiver }))\n        : [],\n      bcc:\n        this.draftMail && this.draftMail.bcc\n          ? this.draftMail.bcc.map(receiver => ({ display: receiver, value: receiver, email: receiver }))\n          : [],\n      subject:\n        this.draftMail && this.draftMail.is_subject_encrypted\n          ? ''\n          : this.subject\n          ? this.subject\n          : this.draftMail\n          ? this.draftMail.subject\n          : '',\n      content: '',\n    };\n    if (this.mailData.cc.length > 0) {\n      this.options.isCcVisible = true;\n    }\n    if (this.mailData.bcc.length > 0) {\n      this.options.isBccVisible = true;\n    }\n    this.selfDestruct.value = this.draftMail ? this.draftMail.destruct_date : null;\n    this.deadManTimer.value = this.draftMail ? this.draftMail.dead_man_duration : null;\n    this.delayedDelivery.value = this.draftMail ? this.draftMail.delayed_delivery : null;\n    this.isLoaded = true;\n  }\n\n  private resetSelfDestructValues() {\n    this.selfDestruct.value = null;\n    this.selfDestruct.date = null;\n    this.selfDestruct.time = {\n      hour: 0,\n      minute: 0,\n      second: 0,\n    };\n    this.selfDestruct.meridian = true;\n    this.selfDestruct.error = null;\n  }\n\n  private resetDelayedDeliveryValues() {\n    this.delayedDelivery.value = null;\n    this.delayedDelivery.date = null;\n    this.delayedDelivery.time = {\n      hour: 0,\n      minute: 0,\n      second: 0,\n    };\n    this.delayedDelivery.meridian = true;\n    this.delayedDelivery.error = null;\n  }\n\n  private resetDeadManTimerValues() {\n    this.deadManTimer.value = null;\n    this.deadManTimer.days = 0;\n    this.deadManTimer.hours = 0;\n  }\n\n  onFilesDrop(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.onFilesSelected(event.dataTransfer.files);\n  }\n\n  onAddingReceiver(tag: any, data: any[]) {\n    // convert tag values to custom format with value, display, email, name\n    data.forEach(item => {\n      if (item.email) {\n        item.display = item.email;\n      } else if (item.value) {\n        // TODO\n        // should be updated for support group mailbox\n        // in that case, the below line should be updated for cast into ParsedGroup as well\n        const parsedEmail = parseEmail.parseOneAddress(item.value) as parseEmail.ParsedMailbox;\n        if (parsedEmail) {\n          item.name = parsedEmail.name || parsedEmail.local || '';\n          item.value = parsedEmail.address || item.value;\n          item.email = parsedEmail.address || item.value;\n        } else {\n          item.email = item.name = item.value;\n        }\n      }\n    });\n    if (tag.value && tag.value.split(',').length > 1) {\n      const emails = [];\n      data.forEach(item => {\n        if (item.value === tag.value) {\n          const tokens = tag.value.split(',');\n          emails.push(\n            ...tokens.map(token => {\n              token = token.trim();\n              return { value: token, display: token, email: token, name: token };\n            }),\n          );\n        } else {\n          emails.push(item);\n        }\n      });\n      data.splice(0, this.mailData.receiver.length);\n      data.push(...emails);\n    }\n    this.valueChanged$.next(data);\n  }\n\n  rfcStandardValidateEmail(address: string): boolean {\n    return !!parseEmail.parseOneAddress(address);\n  }\n}\n","<aside id=\"mailbox-sidebar\" (clickOutside)=\"toggleMenu($event)\" class=\"mailbox-sidebar is-sidebar-expandedx\" role=\"complementary\" [ngClass]=\"{ 'is-sidebar-expanded': isSidebarOpened }\">\n  <div class=\"mailbox-sidebar-inner\" [class.sidebar-opened]=\"isSidebarOpened\">\n    <!-- Ctemplar Logo Section -->\n    <div class=\"mailbox-brand\">\n      <button class=\"navbar-toggler hidden-md-up\" role=\"button\" (click)=\"toggleMenu()\">\n        <span class=\"navbar-toggler-icon\"></span>\n        <span class=\"navbar-toggler-icon\"></span>\n        <span class=\"navbar-toggler-icon\"></span>\n        <span class=\"navbar-toggler-icon\"></span>\n        <span class=\"navbar-toggle-text\">{{ 'mail_sidebar.menu' | translate }}</span>\n      </button>\n      <figure class=\"navbar-brand-holder hidden-sm-down\">\n        <a class=\"navbar-brand ff-roboto text-uppercase\" routerLink=\"/mail\">\n          <img alt=\"Ctemplar Logo\" class=\"navbar-brand-logo\" src=\"assets/images/logo.svg\" />\n          <strong>ctemplar</strong>\n        </a>\n      </figure>\n      <div class=\"prime-account-content\">\n        <i class=\"icon icon-secure-shield\"></i>\n        <span class=\"prime-account-text\">{{ currentPlan }}</span>\n      </div>\n    </div>\n    <!-- Compose button -->\n    <div class=\"mail-compose-section display-unset hidden-xs-down\">\n      <button class=\"btn btn-lg btn-primary mailbox-btn mailbox-compose-btn btn-xs-squared has-icon\" role=\"button\" (click)=\"openComposeMailDialog()\">\n        <i class=\"icon icon-plus text-white hidden-md-up\"></i>\n        <span class=\"mailbox-btn-text hidden-sm-down\">{{ 'common.compose' | translate }}</span>\n      </button>\n    </div>\n    <!-- Folders list section -->\n    <nav class=\"mailbox-sidebar-navbar\">\n      <ul class=\"mailbox-sidebar-nav folders-list\">\n        <!-- Inbox -->\n        <li class=\"mailbox-sidebar-nav-item\" [class.active]=\"currentFolder === mailFolderType.INBOX\">\n          <a routerLink=\"/mail/inbox/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n            <i class=\"icon icon-inbox\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.inbox' | translate }}</span>\n            <ng-container *ngIf=\"mailState?.unreadMailsCount?.inbox > 0\">\n              <span class=\"badge badge-square d-lg-block d-md-block d-sm-none\">{{ mailState?.unreadMailsCount?.inbox }}</span>\n              <span class=\"badge badge-sm badge-square d-none d-sm-block\">{{ mailState?.unreadMailsCount?.inbox }}</span>\n            </ng-container>\n          </a>\n        </li>\n        <!-- Draft -->\n        <li class=\"mailbox-sidebar-nav-item\" [class.active]=\"currentFolder === mailFolderType.DRAFT\">\n          <a routerLink=\"/mail/draft/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n            <i class=\"icon icon-draft\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.draft' | translate }}</span>\n            <span *ngIf=\"mailState?.unreadMailsCount?.draft\" class=\"badge badge-square d-lg-block d-md-block d-sm-none\">\n              {{ mailState?.unreadMailsCount?.draft }}\n            </span>\n          </a>\n        </li>\n        <!-- Sent -->\n        <li class=\"mailbox-sidebar-nav-item\" [class.active]=\"currentFolder === mailFolderType.SENT\">\n          <a routerLink=\"/mail/sent/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n            <i class=\"icon icon-paper-plane\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.sent' | translate }}</span>\n          </a>\n        </li>\n        <!-- Outbox -->\n        <li class=\"mailbox-sidebar-nav-item\" [class.active]=\"currentFolder === mailFolderType.OUTBOX\">\n          <a routerLink=\"/mail/outbox/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n            <i class=\"icon icon-draft\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.outbox' | translate }}</span>\n            <span class=\"badge outbox\">\n              <span class=\"badge-square hidden-sm-down badge-counter badge-success\" *ngIf=\"mailState?.unreadMailsCount?.outbox_delayed_delivery_counter > 0\">\n                {{ mailState?.unreadMailsCount?.outbox_delayed_delivery_counter }}\n              </span>\n              <span class=\"badge-square hidden-sm-down badge-counter badge-danger\" *ngIf=\"mailState?.unreadMailsCount?.outbox_dead_man_counter > 0\">\n                {{ mailState?.unreadMailsCount?.outbox_dead_man_counter }}\n              </span>\n            </span>\n          </a>\n        </li>\n        <!-- All emails -->\n        <li class=\"mailbox-sidebar-nav-item\" [class.active]=\"currentFolder === mailFolderType.ALL_EMAILS\">\n          <a routerLink=\"/mail/allmails/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n            <i class=\"icon icon-inbox\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.all_emails' | translate }}</span>\n          </a>\n        </li>\n        <!-- Unread -->\n        <li class=\"mailbox-sidebar-nav-item\" [class.active]=\"currentFolder === mailFolderType.UNREAD\">\n          <a routerLink=\"/mail/allunreadmails/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n            <i class=\"icon icon-inbox\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.unread' | translate }}</span>\n            <ng-container *ngIf=\"mailState?.unreadMailsCount?.total_unread_count > 0\">\n              <span class=\"badge badge-square d-lg-block d-md-block d-sm-none\">{{ mailState?.unreadMailsCount?.total_unread_count }}</span>\n              <span class=\"badge badge-sm badge-square d-none d-sm-block\">{{ mailState?.unreadMailsCount?.total_unread_count }}</span>\n            </ng-container>\n          </a>\n        </li>\n        <!-- Starred -->\n        <li class=\"mailbox-sidebar-nav-item\" [class.active]=\"currentFolder === mailFolderType.STARRED\">\n          <a routerLink=\"/mail/starred/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n            <i class=\"icon icon-star\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.starred' | translate }}</span>\n          </a>\n        </li>\n        <!-- Archive -->\n        <li class=\"mailbox-sidebar-nav-item\" [class.active]=\"currentFolder === mailFolderType.ARCHIVE\">\n          <a routerLink=\"/mail/archive/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n            <i class=\"icon icon-archive\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.archive' | translate }}</span>\n          </a>\n        </li>\n        <!-- Spam -->\n        <li class=\"mailbox-sidebar-nav-item\" [class.active]=\"currentFolder === mailFolderType.SPAM\">\n          <a routerLink=\"/mail/spam/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n            <i class=\"icon icon-warning\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.spam' | translate }}</span>\n            <span *ngIf=\"mailState?.unreadMailsCount?.spam\" class=\"badge badge-square d-lg-block d-md-block d-sm-none\">\n              {{ mailState?.unreadMailsCount?.spam }}\n            </span>\n          </a>\n        </li>\n        <!-- Trash -->\n        <li class=\"mailbox-sidebar-nav-item\" [class.active]=\"currentFolder === mailFolderType.TRASH\">\n          <a routerLink=\"/mail/trash/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n            <i class=\"icon icon-garbage\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.trash' | translate }}</span>\n          </a>\n        </li>\n\n        <!-- Custom Folder -->\n        <li class=\"divider-item\"></li>\n        <li class=\"mailbox-sidebar-nav-item\">\n          <a class=\"mailbox-sidebar-nav-link\" (click)=\"createFolder()\">\n            <i class=\"icon icon-folder\"></i>\n            <span class=\"mailbox-sidebar-nav-label\">{{ 'mail_sidebar.add_folder' | translate }}</span>\n          </a>\n        </li>\n        <li class=\"mailbox-sidebar-nav-item custom-folder\" [class.active]=\"currentFolder === folder.name\" *ngFor=\"let folder of customFolders | slice: 0:LIMIT; let i = index\">\n          <div>\n            <a routerLink=\"/mail/{{ folder.name }}/page/1\" class=\"mailbox-sidebar-nav-link\" (click)=\"toggleMenu()\">\n              <i class=\"folder-color-box icon\" [style.background]=\"folder.color\"></i>\n              <span class=\"mailbox-sidebar-nav-label\">\n                {{ folder.name }}\n              </span>\n              <span class=\"badge badge-square hidden-sm-down badge-position\" *ngIf=\"mailState?.unreadMailsCount && mailState?.unreadMailsCount[folder.name] > 0\">{{ mailState?.unreadMailsCount[folder.name] }}</span>\n            </a>\n          </div>\n        </li>\n        <li class=\"mailbox-sidebar-nav-item\" *ngIf=\"customFolders.length > 3\">\n          <a (click)=\"toggleDisplayLimit(customFolders.length)\" class=\"mailbox-sidebar-nav-link\">\n            <i class=\"icon icon-more ml-1\"></i>\n            <span class=\"mailbox-sidebar-nav-label text-capitalize\">\n              {{ LIMIT === customFolders.length ? ('create_account.less' | translate) : ('mail_list.more' | translate) }}\n            </span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n    <!-- Sidebar footer -->\n    <div class=\"mailbox-sidebar-footer text-center mt-4 py-2\">\n      <div class=\"mailbox-sidebar-footer-text mb-0 mb-md-1 visible-in-sm\">\n        <span translate=\"mail_sidebar.used\"></span>\n        <div class=\"text-white mt-1\">{{ userState.settings?.used_storage | filesize }}</div>\n      </div>\n      <div class=\"mailbox-sidebar-footer-text hidden-in-sm\">\n        <span>{{ 'common.used_storage' | translate }}</span\n        >:<br />\n        {{ userState.settings?.used_storage | filesize }} <span>{{ 'settings.of' | translate }}</span>\n        {{ userState.settings.allocated_storage | filesize }}\n      </div>\n      <a routerLink=\"/mail/settings/dashboard-and-plans\" class=\"btn-link text-white hidden-in-sm\" *ngIf=\"!userState.isPrime\">\n        <small>\n          <u>{{ 'common.upgrade_account' | translate }}</u>\n        </small>\n      </a>\n      <a href=\"{{ primaryWebsite }}/transparency-report-ctemplar/\" target=\"_blank\">\n        <img height=\"30\" width=\"31\" src=\"assets/icons/warranty-canary.png\" />\n      </a>\n    </div>\n  </div>\n</aside>\n\n<!-- Compose button to be used in small screens -->\n<div class=\"btn-xs-holder is-sticky hidden-sm-up\">\n  <button class=\"btn btn-primary mailbox-btn mailbox-compose-btn btn-xs-rounded has-icon\" role=\"button\" placement=\"top\" [ngbTooltip]=\"'common.compose' | translate\" (click)=\"openComposeMailDialog()\">\n    <i class=\"icon icon-plus text-white\"></i>\n  </button>\n</div>\n\n<!-- Mail compose dialog container -->\n<div class=\"compose-mail-container\">\n  <ng-template #composeMailContainer></ng-template>\n</div>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Inject,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { NgbDropdownConfig } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { DOCUMENT } from '@angular/common';\nimport { ActivatedRoute, NavigationEnd, Params, Router } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport { Title } from '@angular/platform-browser';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, MailBoxesState, MailState, PlanType, UserState } from '../../store/datatypes';\nimport { ComposeMailService } from '../../store/services/compose-mail.service';\nimport { Folder, Mail, Mailbox, MailFolderType } from '../../store/models/mail.model';\nimport { BreakpointsService } from '../../store/services/breakpoint.service';\nimport {\n  GetMails,\n  GetMailsSuccess,\n  GetUnreadMailsCount,\n  GetUnreadMailsCountSuccess,\n  ReadMailSuccess,\n  SettingsUpdateUsedStorage,\n} from '../../store/actions';\nimport { WebsocketService } from '../../shared/services/websocket.service';\nimport { WebSocketState } from '../../store';\nimport { PushNotificationOptions, PushNotificationService } from '../../shared/services/push-notification.service';\nimport { SharedService } from '../../store/services';\nimport { darkModeCss, PRIMARY_WEBSITE } from '../../shared/config';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail-sidebar',\n  templateUrl: './mail-sidebar.component.html',\n  styleUrls: ['./mail-sidebar.component.scss'],\n})\nexport class MailSidebarComponent implements OnInit, AfterViewInit, OnDestroy {\n  LIMIT = 3; // limit of displayed custom folder's count\n\n  EMAIL_LIMIT = 20; // limit to display emails\n\n  // Public property of boolean type set false by default\n  public isComposeVisible = false;\n\n  public userState: UserState;\n\n  mailState: MailState;\n\n  mailFolderType = MailFolderType;\n\n  currentRoute: string;\n\n  isMenuOpened: boolean;\n\n  isSidebarOpened: boolean;\n\n  customFolders: Folder[] = [];\n\n  currentMailbox: Mailbox;\n\n  @ViewChild('input') input: ElementRef;\n\n  currentPlan: PlanType;\n\n  currentFolder: MailFolderType;\n\n  primaryWebsite = PRIMARY_WEBSITE;\n\n  private forceLightMode: boolean;\n\n  constructor(\n    private store: Store<AppState>,\n    config: NgbDropdownConfig,\n    private breakpointsService: BreakpointsService,\n    private composeMailService: ComposeMailService,\n    private router: Router,\n    private websocketService: WebsocketService,\n    private pushNotificationService: PushNotificationService,\n    private titleService: Title,\n    private activatedRoute: ActivatedRoute,\n    @Inject(DOCUMENT) private document: Document,\n    private sharedService: SharedService,\n    private cdr: ChangeDetectorRef,\n  ) {\n    // customize default values of dropdowns used by this component tree\n    config.autoClose = 'outside';\n    const nextPage = localStorage.getItem('nextPage');\n    if (nextPage) {\n      localStorage.setItem('nextPage', '');\n      this.router.navigateByUrl(nextPage);\n    }\n    this.currentRoute = router.url;\n\n    this.store.dispatch(new GetUnreadMailsCount());\n    this.websocketService.connect();\n\n    /**\n     * Listen to web sockets events to get new emails from server\n     */\n    this.store\n      .select(state => state.webSocket)\n      .pipe(untilDestroyed(this))\n      .subscribe((webSocketState: WebSocketState) => {\n        if (webSocketState.message && !webSocketState.isClosed) {\n          if (webSocketState.message.mail) {\n            this.store.dispatch(\n              new GetMailsSuccess({\n                limit: this.EMAIL_LIMIT,\n                offset: 0,\n                folder: webSocketState.message.folder,\n                folders: webSocketState.message.folders,\n                read: false,\n                mails: [webSocketState.message.mail],\n                total_mail_count: webSocketState.message.total_count,\n                is_from_socket: true,\n              }),\n            );\n            if (webSocketState.message.folder !== MailFolderType.SPAM) {\n              this.showNotification(webSocketState.message.mail, webSocketState.message.folder);\n            }\n            this.updateUnreadCount(webSocketState);\n          } else if (webSocketState.message.is_outbox_mail_sent) {\n            this.store.dispatch(\n              new GetUnreadMailsCountSuccess({ ...webSocketState.message.unread_count, updateUnreadCount: true }),\n            );\n            if (this.mailState.currentFolder === MailFolderType.OUTBOX) {\n              this.store.dispatch(new GetMails({ limit: this.LIMIT, offset: 0, folder: MailFolderType.OUTBOX }));\n            }\n          } else if (webSocketState.message.hasOwnProperty('used_storage')) {\n            this.store.dispatch(new SettingsUpdateUsedStorage(webSocketState.message));\n          } else if (webSocketState.message.marked_as_read !== null) {\n            this.updateUnreadCount(webSocketState);\n            this.store.dispatch(\n              new ReadMailSuccess({\n                ids: webSocketState.message.ids.join(','),\n                read: webSocketState.message.marked_as_read,\n              }),\n            );\n          }\n        }\n      });\n  }\n\n  ngOnInit() {\n    if (!this.pushNotificationService.isGranted()) {\n      setTimeout(() => {\n        this.pushNotificationService.requestPermission();\n      }, 3000);\n    }\n    /**\n     * Set state variables from user's settings.\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((user: UserState) => {\n        this.userState = user;\n        this.currentPlan = user.settings.plan_type || PlanType.FREE;\n        this.EMAIL_LIMIT = this.userState.settings.emails_per_page ? this.userState.settings.emails_per_page : 20;\n        this.customFolders = user.customFolders;\n        if (this.breakpointsService.isSM() || this.breakpointsService.isXS()) {\n          this.LIMIT = this.customFolders.length;\n        }\n        this.handleDarkMode(user.settings.is_night_mode);\n        this.handleCustomCss(user.settings.custom_css);\n      });\n\n    this.store\n      .select(state => state.mailboxes)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailboxes: MailBoxesState) => {\n        this.currentMailbox = mailboxes.currentMailbox;\n      });\n\n    this.store\n      .select(state => state.mail)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailState: MailState) => {\n        this.mailState = mailState;\n        this.currentFolder = mailState.currentFolder;\n        this.updateTitle();\n      });\n    /**\n     * Update Title on contacts or settings page\n     */\n    this.router.events\n      .pipe(\n        untilDestroyed(this),\n        filter(event => event instanceof NavigationEnd),\n      )\n      .subscribe((event: NavigationEnd) => {\n        this.currentRoute = event.url;\n        if (event.url === '/mail/contacts') {\n          this.updateTitle(`${this.capitalize(event.url.split('/mail/')[1])} - CTemplar: Armored Email`);\n        } else if (event.url.includes('/mail/settings/')) {\n          this.updateTitle(`Settings - CTemplar: Armored Email`);\n        }\n      });\n\n    this.activatedRoute.queryParams.pipe(untilDestroyed(this)).subscribe((parameters: Params) => {\n      this.forceLightMode = parameters.lightMode;\n      if (this.forceLightMode) {\n        this.handleDarkMode(false);\n      }\n    });\n  }\n\n  ngAfterViewInit(): void {\n    this.cdr.detectChanges();\n  }\n\n  private updateUnreadCount(webSocketState: WebSocketState) {\n    this.store.dispatch(\n      new GetUnreadMailsCountSuccess({ ...webSocketState.message.unread_count, updateUnreadCount: true }),\n    );\n  }\n\n  updateTitle(title: string = null) {\n    // Set tab title\n    if (!title) {\n      title = `${this.mailState.currentFolder ? this.capitalize(this.mailState.currentFolder) : ''} `;\n      if (\n        this.mailState.currentFolder &&\n        this.mailState.unreadMailsCount[this.mailState.currentFolder] &&\n        (this.mailState.currentFolder === 'inbox' ||\n          this.customFolders.some(folder => this.mailState.currentFolder === folder.name))\n      ) {\n        title += `(${this.mailState.unreadMailsCount[this.mailState.currentFolder]}) - `;\n      } else if (this.mailState.currentFolder) {\n        title += ' - ';\n      }\n      title += 'CTemplar: Armored Email';\n    }\n    this.titleService.setTitle(title);\n  }\n\n  capitalize(s) {\n    if (typeof s !== 'string') {\n      return '';\n    }\n    return s.charAt(0).toUpperCase() + s.slice(1);\n  }\n\n  handleDarkMode(isNightMode) {\n    if (isNightMode && !this.forceLightMode) {\n      document.querySelector('#night-mode').innerHTML = darkModeCss;\n    } else {\n      document.querySelector('#night-mode').innerHTML = '';\n    }\n  }\n\n  handleCustomCss(customCss: string) {\n    document.querySelector('#ctemplar-custom-css').innerHTML = customCss;\n  }\n\n  /**\n   * @description\n   * Prime Users - Can create as many folders as they want\n   * Free Users - Only allow a maximum of 5 folders per account\n   */\n  // == Open NgbModal\n  createFolder() {\n    this.sharedService.openCreateFolderDialog(this.userState.isPrime, this.customFolders);\n  }\n\n  // == Show mail compose modal\n  openComposeMailDialog() {\n    this.composeMailService.openComposeMailDialog({ isFullScreen: this.userState.settings.is_composer_full_screen });\n  }\n\n  // Toggle between display entire custom folders or limited count of folders\n  toggleDisplayLimit(totalItems) {\n    if (this.LIMIT === totalItems) {\n      this.LIMIT = 3;\n    } else {\n      this.LIMIT = totalItems;\n    }\n  }\n\n  // Toggle menu according to screen size\n  toggleMenu(event?: any) {\n    if (this.breakpointsService.isXS()) {\n      if (this.isMenuOpened) {\n        this.document.body.classList.remove('menu-open');\n        this.isMenuOpened = false;\n      }\n      if (this.document.body.classList.contains('menu-open')) {\n        this.isMenuOpened = true;\n      }\n    } else if (this.breakpointsService.isSM() || this.breakpointsService.isMD()) {\n      if (event) {\n        this.isSidebarOpened = false;\n      } else {\n        this.isSidebarOpened = !this.isSidebarOpened;\n      }\n    }\n  }\n\n  showNotification(mail: Mail, folder: string) {\n    const title = mail.sender_display_name ? mail.sender_display_name : mail.sender_display.name;\n    const options = new PushNotificationOptions();\n    options.body = 'You have received a new email';\n    options.icon = 'https://mail.ctemplar.com/assets/images/media-kit/mediakit-logo4.png';\n\n    this.pushNotificationService.create(title, options).subscribe(\n      notif => {\n        if (notif.event.type === 'click') {\n          notif.notification.close();\n          window.open(`/mail/${folder}/page/1/message/${mail.id}`, '_blank');\n        }\n      },\n      error => {\n        console.log(error);\n      },\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.titleService.setTitle('CTemplar: Armored Email');\n  }\n}\n","<div class=\"mailbox-content-outer\">\n  <app-mail-sidebar></app-mail-sidebar>\n  <div class=\"banner row ml-lg-5 -align-center\" *ngIf=\"autoresponder_status\">\n    <p>\n      <span>{{ 'settings.autoresponder_active' | translate }}</span> &nbsp; <a (click)=\"endAutoResponder()\">{{ 'settings.end_now' | translate }}</a\n      >&nbsp;-\n      <a [routerLink]=\"'./settings/forwarding-and-auto-responder'\">{{ 'mail_header.settings' | translate }}</a>\n    </p>\n  </div>\n\n  <div class=\"banner row ml-lg-5\" *ngIf=\"notificationMessage && !autoresponder_status && !hideNotification\">\n    <div class=\"col-11 mt-1\">\n      <p [innerHTML]=\"notificationMessage\"></p>\n    </div>\n    <div>\n      <a type=\"button\" class=\"close font-20px\" aria-label=\"Close\" (click)=\"hideNotification = !hideNotification\">\n        <span aria-hidden=\"true\">&times;</span>\n      </a>\n    </div>\n  </div>\n  <div class=\"mailbox-main-content\">\n    <app-mail-header></app-mail-header>\n    <router-outlet></router-outlet>\n  </div>\n  <!-- Mail compose dialog container -->\n  <div class=\"compose-mail-container\">\n    <ng-template #composeMailContainer></ng-template>\n  </div>\n</div>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation,\n  HostListener,\n} from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { formatDate } from '@angular/common';\nimport { Router } from '@angular/router';\nimport * as Sentry from '@sentry/browser';\n\nimport {\n  AccountDetailsGet,\n  BlackListGet,\n  GetDomains,\n  GetDomainsSuccess,\n  GetFilters,\n  GetInvoices,\n  GetMailboxes,\n  GetNotification,\n  SaveAutoResponder,\n  WhiteListGet,\n  CardGet,\n} from '../store/actions';\nimport { TimezoneGet } from '../store/actions/timezone.action';\nimport { AppState, AutoResponder, UserState } from '../store/datatypes';\nimport { SharedService } from '../store/services';\nimport { ComposeMailService } from '../store/services/compose-mail.service';\nimport { GetOrganizationUsers } from '../store/organization.store';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-mail',\n  templateUrl: './mail.component.html',\n  styleUrls: ['./mail.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class MailComponent implements OnDestroy, OnInit, AfterViewInit {\n  @ViewChild('input') input: ElementRef;\n\n  @ViewChild('composeMailContainer', { read: ViewContainerRef }) composeMailContainer: ViewContainerRef;\n\n  private isLoadedData: boolean;\n\n  autoresponder: AutoResponder = {};\n\n  autoresponder_status = false;\n\n  currentDate: string;\n\n  canLoadNotification = true;\n\n  hideNotification: boolean;\n\n  notificationMessage: string;\n\n  constructor(\n    private store: Store<AppState>,\n    private sharedService: SharedService,\n    private composeMailService: ComposeMailService,\n    private router: Router,\n    private cdr: ChangeDetectorRef,\n  ) {\n    this.currentDate = formatDate(new Date(), 'yyyy-MM-dd', 'en');\n  }\n\n  ngOnInit() {\n    this.store.dispatch(new AccountDetailsGet());\n    /**\n     * Get user's state from store\n     */\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((userState: UserState) => {\n        if (userState.isLoaded && !this.isLoadedData) {\n          // Initialize Sentry according to user's setting after login\n          Sentry.init({\n            dsn: 'https://e768a553906d4f87bcb0419a151e36b0@o190614.ingest.sentry.io/5256284',\n            enabled: userState.settings.is_enable_report_bugs,\n          });\n          this.isLoadedData = true;\n          this.store.dispatch(new GetMailboxes());\n          this.store.dispatch(new TimezoneGet());\n\n          setTimeout(() => {\n            this.store.dispatch(new GetFilters());\n            this.store.dispatch(new WhiteListGet());\n            this.store.dispatch(new BlackListGet());\n            this.store.dispatch(new GetInvoices());\n            this.store.dispatch(new CardGet());\n          }, 500);\n\n          if (userState.isPrime) {\n            setTimeout(() => {\n              this.store.dispatch(new GetDomains());\n              this.store.dispatch(new GetOrganizationUsers());\n            }, 1000);\n          } else {\n            this.store.dispatch(new GetDomainsSuccess([]));\n          }\n        }\n        if (userState.autoresponder) {\n          this.autoresponder = userState.autoresponder;\n          if (\n            this.autoresponder.autoresponder_active ||\n            (this.autoresponder.vacationautoresponder_active &&\n              this.autoresponder.vacationautoresponder_message &&\n              this.autoresponder.start_date &&\n              this.autoresponder.end_date &&\n              this.currentDate >= this.autoresponder.start_date)\n          ) {\n            this.autoresponder_status = true;\n          } else {\n            this.autoresponder_status = false;\n          }\n        }\n        if (userState.has_notification && this.canLoadNotification) {\n          this.store.dispatch(new GetNotification());\n          this.canLoadNotification = false;\n        }\n        if (userState.notifications) {\n          this.notificationMessage = userState.notifications[0].message;\n        }\n      });\n\n    this.sharedService.hideFooter.emit(true);\n    this.sharedService.hideHeader.emit(true);\n    this.sharedService.hideEntireFooter.emit(true);\n    this.sharedService.isMail.emit(true);\n    this.composeMailService.getWindowWidth(window.innerWidth);\n  }\n\n  // get window width as real time when change screen's size\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.composeMailService.getWindowWidth(window.innerWidth);\n  }\n\n  endAutoResponder() {\n    this.autoresponder.autoresponder_active = false;\n    this.autoresponder.vacationautoresponder_active = false;\n    this.store.dispatch(new SaveAutoResponder(this.autoresponder));\n    this.autoresponder_status = false;\n  }\n\n  ngAfterViewInit() {\n    this.composeMailService.initComposeMailContainer(this.composeMailContainer);\n    this.cdr.detectChanges();\n  }\n\n  ngOnDestroy() {\n    this.sharedService.hideFooter.emit(false);\n    this.sharedService.hideHeader.emit(false);\n    this.sharedService.hideEntireFooter.emit(false);\n    this.sharedService.isMail.emit(false);\n    this.composeMailService.destroyAllComposeMailDialogs();\n  }\n\n  navigateToPage(path: string) {\n    this.router.navigateByUrl(path);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { NgbModalModule, NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { QuillModule } from 'ngx-quill';\n\nimport { SharedModule } from '../shared/shared.module';\nimport { ComposeMailService } from '../store/services/compose-mail.service';\nimport { MailSettingsService } from '../store/services/mail-settings.service';\nimport { PushNotificationService } from '../shared/services/push-notification.service';\nimport { WebsocketService } from '../shared/services/websocket.service';\n\nimport { AddressesSignatureComponent } from './mail-settings/addresses-signature/addresses-signature.component';\nimport { ComposeMailComponent } from './mail-sidebar/compose-mail/compose-mail.component';\nimport { ComposeMailDialogComponent } from './mail-sidebar/compose-mail-dialog/compose-mail-dialog.component';\nimport { CustomDomainsComponent } from './mail-settings/custom-domains/custom-domains.component';\nimport { FoldersComponent } from './mail-settings/folders/folders.component';\nimport { GenericFolderComponent } from './mail-list/mail-folder/generic-folder/generic-folder.component';\nimport { InviteCodesComponent } from './mail-settings/invite-codes/invite-codes.component';\nimport { MailAutoresponderComponent } from './mail-settings/mail-autoresponder/mail-autoresponder.component';\nimport { MailComponent } from './mail.component';\nimport { MailContactComponent } from './mail-contact/mail-contact.component';\nimport { MailDetailComponent } from './mail-detail/mail-detail.component';\nimport { MailFiltersComponent } from './mail-settings/mail-filters/mail-filters.component';\nimport { MailFooterComponent } from './mail-footer/mail-footer.component';\nimport { MailForwardingComponent } from './mail-settings/mail-forwarding/mail-forwarding.component';\nimport { MailHeaderComponent } from './mail-header/mail-header.component';\nimport { MailListComponent } from './mail-list/mail-list.component';\nimport { MailSettingsComponent } from './mail-settings/mail-settings.component';\nimport { MailSidebarComponent } from './mail-sidebar/mail-sidebar.component';\nimport { OrganizationUsersComponent } from './mail-settings/organization/organization-users/organization-users.component';\nimport { SaveContactComponent } from './mail-contact/save-contact/save-contact.component';\nimport { SaveListContactComponent } from './mail-settings/save-list-contact/save-list-contact.component';\nimport { SecurityComponent } from './mail-settings/security/security.component';\nimport { MailRoutingModule } from './mail-routing.module';\n\n@NgModule({\n  entryComponents: [ComposeMailDialogComponent],\n  declarations: [\n    AddressesSignatureComponent,\n    ComposeMailComponent,\n    ComposeMailDialogComponent,\n    CustomDomainsComponent,\n    FoldersComponent,\n    GenericFolderComponent,\n    InviteCodesComponent,\n    MailAutoresponderComponent,\n    MailComponent,\n    MailContactComponent,\n    MailDetailComponent,\n    MailFiltersComponent,\n    MailFooterComponent,\n    MailForwardingComponent,\n    MailHeaderComponent,\n    MailListComponent,\n    MailSettingsComponent,\n    MailSidebarComponent,\n    OrganizationUsersComponent,\n    SaveContactComponent,\n    SaveListContactComponent,\n    SecurityComponent,\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    MailRoutingModule,\n    MatAutocompleteModule,\n    MatButtonModule,\n    MatCheckboxModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatStepperModule,\n    NgbModalModule,\n    NgbModule,\n    QuillModule.forRoot(),\n    ReactiveFormsModule,\n    SharedModule,\n  ],\n  exports: [MailFooterComponent],\n  providers: [MailSettingsService, ComposeMailService, WebsocketService, PushNotificationService],\n})\nexport class MailModule {}\n","import { Component, OnInit } from '@angular/core';\n\nimport { DynamicScriptLoaderService } from '../../shared/services/dynamic-script-loader.service';\n\n@Component({\n  selector: 'app-pages-donate',\n  templateUrl: './pages-donate.component.html',\n  styleUrls: ['./pages-donate.component.scss'],\n})\nexport class PagesDonateComponent implements OnInit {\n  constructor(private dynamicScriptLoader: DynamicScriptLoaderService) {}\n\n  ngOnInit() {\n    this.loadStripeScripts();\n  }\n\n  private loadStripeScripts() {\n    this.dynamicScriptLoader\n      .load('stripe')\n      .then(data => {\n        this.dynamicScriptLoader.load('stripe-key').then(stripeKeyLoaded => {\n          // Stripe Loaded Successfully\n        });\n      })\n      .catch(error => console.log(error));\n  }\n}\n","<!-- PAGE INTRO SECTION -->\n<section class=\"l-block l-block-text bg-white text-center gap-p-eq\">\n  <div class=\"container container-sm\">\n    <header class=\"l-block-header position-relative\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-sm-12 col-md-10 px-sm-5 px-md-0\">\n          <h1 class=\"l-block-title text-uppercase text-secondary\">\n            <strong>Donate</strong>\n          </h1>\n          <h2 class=\"text-dark mb-3 pb-1\">\n            <strong>Your Support Makes Us Stronger</strong>\n          </h2>\n          <h4 class=\"l-block-subtitle mb-0 text-dark fw-light\">Your donation allows us to strengthen our platform and further develop CTemplar as free and open source software. Ongoing support from the user community is what makes us able to continue providing CTemplar to security conscience people throughout the world.</h4>\n        </div>\n      </div>\n    </header>\n    <div class=\"l-block-body px-xs\">\n      <div class=\"l-content-holder donate-content-holder mx-auto mt-4 mt-sm-5\">\n        <!-- Render Payment Options -->\n        <router-outlet></router-outlet>\n\n        <div class=\"text-holder pt-2 pt-sm-0 mt-4 mt-sm-6 mt-md-7\">\n          <h2 class=\"text-secondary mb-0\"><strong>Thank you</strong> for your support!</h2>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- /.Site container ends -->\n</section>\n<!-- /.PAGE INTRO SECTION ENDS -->\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-payment-options',\n  templateUrl: './payment-options.component.html',\n  styleUrls: ['./payment-options.component.scss'],\n})\nexport class PaymentOptionsComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit() {}\n}\n","<div class=\"row\">\n  <div class=\"col-sm-6 mb-4 mb-sm-0\">\n    <a class=\"v-card square-card bg-faded has-border br-4\" routerLink=\"/donate/stripe\">\n      <div class=\"square-card-content\">\n        <figure>\n          <img alt=\"Donate via CREDIT/DEBIT Card\" class=\"img\" src=\"assets/images/donate/donate-by-card.png\" />\n        </figure>\n      </div>\n      <div class=\"square-card-footer\">\n        <div class=\"donate-text text-secondary text-uppercase\">\n          <strong>Donate via CREDIT/DEBIT Card</strong>\n        </div>\n      </div>\n    </a>\n  </div>\n  <div class=\"col-sm-6\">\n    <a class=\"v-card square-card bg-faded has-border br-4\" routerLink=\"/donate/bitcoin\">\n      <div class=\"square-card-content\">\n        <figure>\n          <img alt=\"Donate via bitcoin\" class=\"img\" src=\"assets/images/donate/bitcoin.png\" />\n        </figure>\n      </div>\n      <div class=\"square-card-footer\">\n        <div class=\"donate-text text-secondary text-uppercase\">\n          <strong>Donate via bitcoin</strong>\n        </div>\n      </div>\n    </a>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { BitcoinFormComponent } from '../shared/components/bitcoin-form/bitcoin-form.component';\nimport { PricingPlansComponent } from '../shared/components/pricing-plans/pricing-plans.component';\nimport { StripeFormComponent } from '../shared/components/stripe-form/stripe-form.component';\n\nimport { PagesDonateComponent } from './pages-donate/pages-donate.component';\nimport { PaymentOptionsComponent } from './pages-donate/payment-options/payment-options.component';\n\nconst routes: Routes = [\n  {\n    path: 'donate',\n    component: PagesDonateComponent,\n    children: [\n      { path: '', component: PaymentOptionsComponent },\n      { path: 'stripe', component: StripeFormComponent },\n      { path: 'bitcoin', component: BitcoinFormComponent },\n    ],\n  },\n  { path: 'pricing', component: PricingPlansComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PagesRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { SharedModule } from '../shared/shared.module';\n\nimport { PagesDonateComponent } from './pages-donate/pages-donate.component';\nimport { PaymentOptionsComponent } from './pages-donate/payment-options/payment-options.component';\nimport { PagesRoutingModule } from './pages-routing.module';\n\n@NgModule({\n  imports: [CommonModule, NgbModule, PagesRoutingModule, SharedModule],\n  declarations: [PagesDonateComponent, PaymentOptionsComponent],\n})\nexport class PagesModule {}\n","import { Component, OnInit } from '@angular/core';\n\nimport { apiUrl } from '../../config';\n\n@Component({\n  selector: 'app-bitcoin-form',\n  templateUrl: './bitcoin-form.component.html',\n  styleUrls: ['./bitcoin-form.component.scss'],\n})\nexport class BitcoinFormComponent implements OnInit {\n  public apiUrl: string = apiUrl;\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","<div class=\"row\">\n  <div class=\"col-sm-12\">\n    <div class=\"form-step-card\">\n      <h6 class=\"form-step-card-title text-dark mt-3 text-left\">\n        <strong [translate]=\"'billing_info.payment_information'\">Payment Information</strong>\n      </h6>\n\n      <p>Please send your donations to following bitcoin address.</p>\n\n      <div class=\"card mb-3\">\n        <div class=\"card-header text-center\">\n          <h6>BITCOIN WALLET</h6>\n          <h5><strong>1612e9NUhwCGDAizMfk5VQa3pzMemDSGik</strong></h5>\n        </div>\n        <div class=\"card-body text-center\">\n          <img class=\"p-4\" src=\"{{ apiUrl }}qr-code/?size=225x225&data=1612e9NUhwCGDAizMfk5VQa3pzMemDSGik\" alt=\"captcha\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { takeWhile } from 'rxjs/operators';\nimport { timer } from 'rxjs/internal/observable/timer';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-countdown-timer',\n  templateUrl: './countdown-timer.component.html',\n  styleUrls: ['./countdown-timer.component.scss'],\n})\nexport class CountdownTimerComponent implements OnInit, OnDestroy {\n  @Input() duration: number; // duration in seconds\n\n  @Output() finished = new EventEmitter<boolean>();\n\n  days: number;\n\n  hours: number;\n\n  minutes: number;\n\n  seconds: number;\n\n  constructor() {}\n\n  ngOnInit() {\n    timer(0, 1000)\n      .pipe(untilDestroyed(this))\n      .pipe(takeWhile(() => this.duration > 0))\n      .subscribe(res => {\n        this.calculate();\n        this.duration--;\n        if (this.duration === 0) {\n          this.finished.emit(true);\n        }\n      });\n  }\n\n  calculate() {\n    let durationCopy = this.duration;\n    this.days = Math.floor(durationCopy / 86400);\n    durationCopy -= this.days * 86400;\n    this.hours = Math.floor(durationCopy / 3600) % 24;\n    durationCopy -= this.hours * 3600;\n    this.minutes = Math.floor(durationCopy / 60) % 60;\n    durationCopy -= this.minutes * 60;\n    this.seconds = durationCopy % 60;\n  }\n\n  ngOnDestroy() {}\n}\n","<span>{{ days }} Day{{ days === 1 ? '' : 's' }} {{ hours }} Hour{{ hours === 1 ? '' : 's' }} {{ minutes }} Minute{{ minutes === 1 ? '' : 's' }} {{ seconds }} Second{{ seconds === 1 ? '' : 's' }}</span>\n","import { Component, Input, OnChanges, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\n\nimport { ClearAuthErrorMessage, ClearSignUpState, FinalLoading } from '../../../store/actions';\nimport { UpdateSignupData } from '../../../store/actions/auth.action';\nimport { PaymentMethod, PaymentType, PlanType, PricingPlan } from '../../../store/datatypes';\nimport { LOADING_IMAGE, SharedService } from '../../../store/services';\nimport { DynamicScriptLoaderService } from '../../services/dynamic-script-loader.service';\n\n@Component({\n  selector: 'app-pricing-plans',\n  templateUrl: './pricing-plans.component.html',\n  styleUrls: ['./pricing-plans.component.scss'],\n})\nexport class PricingPlansComponent implements OnInit, OnChanges, OnDestroy {\n  readonly planType = PlanType;\n\n  @Input() hideHeader: boolean;\n\n  @Input() blockGapsZero: boolean; // Flag to add top and bottom gap conditionally\n\n  @Input() showCurrentPlan: boolean;\n\n  @Input() userPlanType: PlanType = null;\n\n  @Input() openBillingInfoInModal: boolean;\n\n  @Input() selectedCurrency: string;\n\n  @Input() paymentType: PaymentType = PaymentType.ANNUALLY;\n\n  @Input() paymentMethod: PaymentMethod;\n\n  @ViewChild('billingInfoModal') billingInfoModal;\n\n  private billingInfoModalRef: NgbModalRef;\n\n  selectedIndex = -1; // Assuming no element are selected initially\n\n  selectedPlan: PlanType;\n\n  availableStorage = [];\n\n  availableEmailAddress = [];\n\n  availableCustomDomain = [];\n\n  pricingPlans: Array<PricingPlan> = [];\n\n  loadingImage = LOADING_IMAGE;\n\n  paymentTypeEnum = PaymentType;\n\n  selectedPaymentType: PaymentType = PaymentType.ANNUALLY;\n\n  constructor(\n    private sharedService: SharedService,\n    private store: Store<any>,\n    private router: Router,\n    private dynamicScriptLoader: DynamicScriptLoaderService,\n    private modalService: NgbModal,\n  ) {}\n\n  ngOnInit() {\n    this.sharedService.hideFooter.emit(true);\n    for (let i = 6; i <= 50; i++) {\n      this.availableStorage.push(i);\n    }\n    for (let i = 20; i <= 100; i += 10) {\n      this.availableEmailAddress.push(i);\n    }\n    for (let i = 2; i <= 10; i++) {\n      this.availableCustomDomain.push(i);\n    }\n    this.paymentType = this.paymentType || PaymentType.MONTHLY;\n    this.paymentMethod = this.paymentMethod || PaymentMethod.STRIPE;\n    this.selectedCurrency = this.selectedCurrency || 'USD';\n    this.store.dispatch(new FinalLoading({ loadingState: false }));\n    this.sharedService.loadPricingPlans();\n    this.setPricingPlans();\n  }\n\n  ngOnChanges(changes: any) {}\n\n  // == Toggle active state of the slide in price page\n  toggleSlides(index) {\n    this.selectedIndex = index;\n    document.querySelector('.package-xs-tab > li').classList.remove('active');\n    document.querySelector('.package-prime-col').classList.remove('active-slide');\n  }\n\n  setPricingPlans() {\n    if (SharedService.PRICING_PLANS_ARRAY.length > 0) {\n      this.pricingPlans = SharedService.PRICING_PLANS_ARRAY;\n      return;\n    }\n    setTimeout(() => {\n      this.setPricingPlans();\n    }, 1000);\n  }\n\n  selectPlan(plan: PlanType, paymentType: PaymentType = null) {\n    this.selectedPaymentType = paymentType || this.paymentType;\n    this.selectedPlan = plan;\n    this.store.dispatch(new ClearSignUpState());\n    this.store.dispatch(new ClearAuthErrorMessage());\n    this.store.dispatch(\n      new UpdateSignupData({\n        plan_type: this.selectedPlan,\n        payment_type: this.paymentType,\n        payment_method: this.paymentMethod,\n        currency: this.selectedCurrency,\n      }),\n    );\n    if (this.openBillingInfoInModal) {\n      this.billingInfoModalRef = this.modalService.open(this.billingInfoModal, {\n        centered: true,\n        windowClass: 'modal-lg users-action-modal',\n        backdrop: 'static',\n      });\n    } else if (plan === PlanType.FREE) {\n      this.router.navigateByUrl(`/create-account?plan=${plan}`);\n    } else {\n      this.router.navigateByUrl(`/create-account?plan=${plan}&billing=${this.selectedPaymentType}`);\n    }\n  }\n\n  togglePaymentType() {\n    this.selectedPaymentType =\n      this.selectedPaymentType === PaymentType.MONTHLY ? PaymentType.ANNUALLY : PaymentType.MONTHLY;\n    this.paymentType = this.selectedPaymentType;\n  }\n\n  ngOnDestroy() {\n    this.sharedService.hideFooter.emit(false);\n  }\n}\n","<!-- PAGE SECTION -->\n<section *ngIf=\"pricingPlans?.length > 0\" class=\"l-block l-block-text bg-white\" [class.gap-p-eq]=\"!blockGapsZero\">\n  <div class=\"container\">\n    <header class=\"l-block-header position-relative text-center mb-4 mb-sm-5 mb-md-8\" [hidden]=\"hideHeader\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-sm-12 col-md-10 position-sm-static px-sm-5 px-md-0\">\n          <h1 class=\"l-block-title fw-light text-uppercase text-secondary\">\n            <strong [translate]=\"'home_header.pricing'\">Pricing</strong>\n            <span [translate]=\"'settings.plans'\">Plans</span>\n          </h1>\n          <h4 class=\"l-block-subtitle mb-0 text-dark fw-light\">\n            <p [translate]=\"'page_pricing.world_most_secure'\">CTemplar is the world's most secure & private email service based on an analysis of technical specifications.</p>\n            <p [translate]=\"'page_pricing.sending_spam'\">**CTemplar can not be used for sending spam or bulk emails</p>\n          </h4>\n        </div>\n      </div>\n    </header>\n    <div class=\"l-block-body px-xs pricing-plans\">\n      <div class=\"row\" style=\"margin: 0 0.4rem\">\n        <div class=\"col-3 p-0 plan-titles\">\n          <div class=\"pl-2 plan-item pt-4\">\n            <label class=\"pt-3\" [translate]=\"'page_pricing.plan_price'\">Plan & Price</label>\n          </div>\n          <h3 class=\"heading mt-4\" [translate]=\"'page_pricing.packages'\">Packages</h3>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.emails_allowed_to_send' | translate\" [translate]=\"'page_pricing.messages_per_day'\">Messages per day</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.upload_limit_MB' | translate\" [translate]=\"'page_pricing.attachment_limit'\">Attachment limit (MB)</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.storage_in_GB' | translate\" [translate]=\"'page_pricing.storage'\">Storage (GB)</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.mail_aliases' | translate\" [translate]=\"'page_pricing.aliases'\">Aliases</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.custom_domains' | translate\" [translate]=\"'page_pricing.custom_domains'\">Custom domains</div>\n          <h3 class=\"heading mt-4\" [translate]=\"'page_pricing.features'\">Features</h3>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.encryption_in_transit' | translate\" [translate]=\"'page_pricing.encryption_in_transit'\">Encryption in transit(SSL/TLS)</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" ngbTooltip=\"Encrypted attachments\" [innerHTML]=\"'page_pricing.encrypted_attachments' | translate\">Encrypted attachments</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" ngbTooltip=\"Encrypted content\" [translate]=\"'page_pricing.encrypted_content'\">Encrypted content</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" ngbTooltip=\"Encrypted contacts\" [translate]=\"'page_pricing.encrypted_contact'\">Encrypted contacts</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" ngbTooltip=\"Encrypted subjects\" [translate]=\"'page_pricing.encrypted_subjects'\">Encrypted subjects</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [innerHTML]=\"'page_pricing.encypted_metadata' | translate\">Encrypted metadata <sup> (Coming soon)</sup></div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [innerHTML]=\"'page_pricing.virus_detection' | translate\">Virus detection tool <sup> (Coming soon)</sup></div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.two_fac_authentication' | translate\" [translate]=\"'page_pricing.two_factore_auth'\">2 Factor authentication</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [translate]=\"'page_pricing.anti_phishing'\">Anti phishing</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.brute_force' | translate\" [translate]=\"'page_pricing.brute_force'\">Brute force protection</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.zero_knowledge' | translate\" [translate]=\"'page_pricing.zero_knowledge'\">Zero knowledge passwords</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.stripes_ip' | translate\" [translate]=\"'page_pricing.stripes_ip'\">Strips IP from headers</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.unhackable_by_siri' | translate\" [translate]=\"'page_pricing.unhackable_by_siri'\">Unhackable by others with SRI</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.unhackable_by_checksum' | translate\" [translate]=\"'page_pricing.unhackable_by_checksum'\">Unhackable by us with checksums</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.support_custom_domains' | translate\" [translate]=\"'page_pricing.multi_user'\">Multi user support</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.self_destructing' | translate\" [translate]=\"'page_pricing.self_destructing'\">Self destructing emails</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.dead_man_timer' | translate\" [translate]=\"'page_pricing.dead_man_timer'\">Dead man timer</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.delayed_delivery' | translate\" [translate]=\"'page_pricing.delayed_delivery'\">Delayed delivery</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.mails_of_custom_dom' | translate\" [translate]=\"'page_pricing.catch_all_emails'\">Catch all emails</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.unlimited_folders' | translate\" [translate]=\"'page_pricing.unlimited_folders'\">Unlimited folders</div>\n          <div class=\"bold px-2 py-3 plan-sub-item\" [ngbTooltip]=\"'page_pricing.exclusive_access' | translate\" [translate]=\"'page_pricing.exclusive_access'\">Exclusive access to new features</div>\n        </div>\n        <div class=\"col-9\">\n          <div class=\"row pricing-plans-list\">\n            <div *ngFor=\"let plan of pricingPlans\" class=\"col-2 p-0\">\n              <div class=\"plan-item\">\n                <div class=\"text-center\">\n                  <div class=\"bold mt-3\">{{ plan.name }}</div>\n                  <div class=\"plan-title-info\" *ngIf=\"plan.name !== planType.FREE; else freePlan\">\n                    <div class=\"monthly-price\">\n                      $<b>{{ selectedPaymentType === paymentTypeEnum.MONTHLY ? plan.monthly_price : plan.annually_price / 12 }}</b\n                      >/m\n                    </div>\n                    <!--<div>${{plan.annually_price/12}}/m billed as <br>${{plan.annually_price}}/y</div>-->\n                    <div class=\"mt-3\">\n                      <span [translate]=\"'page_pricing.billed_as'\">Billed </span>\n                      {{ selectedPaymentType === paymentTypeEnum.MONTHLY ? 'monthly' : 'yearly' }}\n                    </div>\n                  </div>\n                  <ng-template #freePlan>\n                    <div class=\"plan-title-info\" [innerHTML]=\"'page_pricing.upgrade_anytime' | translate\">Upgrade<br />anytime</div>\n                  </ng-template>\n                  <a class=\"btn cursor-pointer select-btn\" [style.background]=\"plan.background\" *ngIf=\"userPlanType !== plan.name; else currentPlan\" (click)=\"selectPlan(plan.name)\" [translate]=\"'page_pricing.select'\">Select</a>\n                  <ng-template #currentPlan>\n                    <label class=\"current-plan-upgrade\" *ngIf=\"paymentType === paymentTypeEnum.MONTHLY && plan.name !== planType.FREE\">\n                      <a (click)=\"selectPlan(plan.name, paymentTypeEnum.ANNUALLY)\" [translate]=\"'page_pricing.upgrade_yearly'\">Upgrade yearly</a>\n                    </label>\n                    <label [ngClass]=\"paymentType === paymentTypeEnum.MONTHLY ? 'current-plan' : 'current-plan-upgrade'\" [translate]=\"'page_pricing.current_plan'\">Current plan</label>\n                  </ng-template>\n                </div>\n              </div>\n              <h3 class=\"heading mt-4 position-relative\">\n                <a *ngIf=\"plan.name === planType.PRIME\" class=\"switch-payment-type\" (click)=\"togglePaymentType()\"> Click here to switch to {{ selectedPaymentType === paymentTypeEnum.ANNUALLY ? 'monthly' : 'yearly' }} </a>\n              </h3>\n              <div class=\"px-2 py-3 plan-sub-item\">{{ plan.messages_per_day }}</div>\n              <div class=\"px-2 py-3 plan-sub-item\">{{ plan.attachment_upload_limit }}</div>\n              <div class=\"px-2 py-3 plan-sub-item\">{{ plan.gb }}</div>\n              <div class=\"px-2 py-3 plan-sub-item\">{{ plan.aliases }}</div>\n              <div class=\"px-2 py-3 plan-sub-item\">{{ plan.custom_domains }}</div>\n              <h3 class=\"heading mt-4\"></h3>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.ssl_tls }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.encrypted_attachments }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.encrypted_content }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.encrypted_contacts }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.encrypted_subjects }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.encrypted_metadata }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.virus_detection_tool }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.two_fa }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.anti_phishing }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.brute_force_protection }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.zero_knowledge_password }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.strip_ips }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.sri }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.checksums }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.multi_user_support }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.self_destructing_emails }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.dead_man_timer }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.delayed_delivery }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.catch_all_email }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.unlimited_folders }\"></ng-container>\n              <ng-container *ngTemplateOutlet=\"featureIcon; context: { value: plan.exclusive_access }\"></ng-container>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- /.Site container ends -->\n</section>\n<!-- /.PAGE SECTION ENDS -->\n<div align=\"center\" *ngIf=\"pricingPlans?.length === 0\">\n  <img class=\"logo\" style=\"width: 200px; height: 300px\" [src]=\"loadingImage | safe: 'url'\" />\n</div>\n\n<ng-template #featureIcon let-value=\"value\">\n  <div class=\"px-2 py-3 plan-sub-item\">\n    <i class=\"fa fa-check text-green\" *ngIf=\"value\"></i>\n    <i class=\"fa fa-times text-danger\" *ngIf=\"!value\"></i>\n  </div>\n</ng-template>\n\n<!-- billing info modal -->\n<ng-template #billingInfoModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"billing-header\">\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body user-billing-upgrade-modal bg-faded px-3 py-0 bg-white\">\n    <app-users-billing-info [isUpgradeAccount]=\"true\" [planType]=\"selectedPlan\" [paymentType]=\"selectedPaymentType\" [paymentMethod]=\"paymentMethod\" [currency]=\"selectedCurrency\" (close)=\"d()\"></app-users-billing-info>\n  </div> </ng-template\n><!-- /.billing info modal ends -->\n","import { Component, OnInit, NgZone } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\n\nimport { AppState } from '../../../store/datatypes';\nimport { SnackErrorPush } from '../../../store';\nimport { DonationService } from '../../../store/services/donation.service';\nimport { MakeStripDonation } from '../../../store/actions/donate.actions';\n\n@Component({\n  selector: 'app-stripe-form',\n  templateUrl: './stripe-form.component.html',\n  styleUrls: ['./stripe-form.component.scss'],\n})\nexport class StripeFormComponent implements OnInit {\n  /**\n   * Messages recieved from Stripe API will be displayed using this model\n   */\n  stripePaymentValidation: any = {\n    message: '',\n    param: '',\n  };\n\n  // Angular Reactive Form for binding it with inputs\n  billingForm: FormGroup;\n\n  /**\n   * donationAmount : The amount user wants to donate to CTemplar\n   * cardNumber: 16 digit long Credti/Debit card number\n   * cvc: 3 or 4 digit decurity code of the card\n   */\n  donationAmount: number;\n\n  cardNumber;\n\n  expiryMonth = 'Month';\n\n  expiryYear = 'Year';\n\n  cvc;\n\n  /**\n   * For filling Month and Year dropdowns\n   */\n  months = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'];\n\n  years = ['2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025', '2026'];\n\n  /**\n   * Display loader on form submission\n   */\n  inProgress = false;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private _zone: NgZone,\n    private store: Store<AppState>,\n    private donationService: DonationService,\n  ) {}\n\n  /**\n   * Initializing billing form and adding validation check of 16 digits length\n   */\n  ngOnInit() {\n    this.billingForm = this.formBuilder.group({\n      cardNumber: ['', [Validators.minLength(16), Validators.maxLength(16)]],\n    });\n  }\n\n  /**\n   * Selection method for month and initiating form validation\n   * @param month - Expiry month specified on the card\n   */\n  selectMonth(month) {\n    this.expiryMonth = month;\n    this.checkStripeValidation();\n  }\n\n  /**\n   * @description\n   * Selection method for year and initiating form validation\n   *\n   * @param year - Expiry year specified on the card\n   */\n  selectYear(year) {\n    this.expiryYear = year;\n    this.checkStripeValidation();\n  }\n\n  /**\n   * @description\n   * Checks the inputs validity after each on change event on cardNumber, expiryMonth and expiredYear and CVC\n   *\n   * As soon as the Stripe API returns an error on any input, respective param is assigned which highlights the input\n   * by showing red border.\n   */\n  checkStripeValidation() {\n    this.stripePaymentValidation.param = '';\n    this.stripePaymentValidation.message = '';\n    if (!(<any>window).Stripe.card.validateCardNumber(this.cardNumber)) {\n      this.stripePaymentValidation.param = 'number';\n    } else if (!(<any>window).Stripe.card.validateExpiry(this.expiryMonth, this.expiryYear)) {\n      this.stripePaymentValidation.param = 'exp_year exp_month';\n    } else if (!(<any>window).Stripe.card.validateCVC(this.cvc)) {\n      this.stripePaymentValidation.param = 'cvc';\n    }\n  }\n\n  /**\n   * @description\n   * Submits form to Stripe API after the inputs are validated\n   *\n   * After successful response from the Stripe API, token from the response is extracted\n   * token is passed to a method that makes payment using CTemplar API\n   */\n  submitStripeForm() {\n    this.inProgress = true;\n    (<any>window).Stripe.card.createToken(\n      {\n        number: this.cardNumber,\n        exp_month: this.expiryMonth,\n        exp_year: this.expiryYear,\n        cvc: this.cvc,\n      },\n      (status: number, response: any) => {\n        // Wrapping inside the Angular zone\n        this._zone.run(() => {\n          this.inProgress = false;\n          if (status === 200) {\n            this.performStripeDonationTransaction(response.id);\n          } else {\n            this.stripePaymentValidation = {\n              message: response.error.message,\n              param: response.error.param,\n            };\n          }\n        });\n      },\n    );\n  }\n\n  /**\n   * @description\n   * Peforms transaction after successfully validating information provided in the Stripe form\n   *\n   * @param token - string recieved from Stripe API\n   */\n  private performStripeDonationTransaction(token: any) {\n    if (token) {\n      this.store.dispatch(\n        new MakeStripDonation({\n          stripe_token: token,\n          amount: this.donationAmount,\n        }),\n      );\n    } else {\n      this.store.dispatch(new SnackErrorPush('Cannot make donation, please reload page and try again.'));\n    }\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-sm-12\">\n    <form [formGroup]=\"billingForm\" #form=\"ngForm\">\n      <div class=\"form-step-card\" [class]=\"stripePaymentValidation.param\">\n        <h6 class=\"form-step-card-title text-dark mb-3 text-left\">\n          <strong [translate]=\"'billing_info.donation_amount'\">Amount</strong>\n        </h6>\n        <div class=\"d-flex justify-content-between btn-group btn-group-toggle text-left\" ngbRadioGroup name=\"donationAmount\" [(ngModel)]=\"donationAmount\" [ngModelOptions]=\"{ standalone: true }\">\n          <label ngbButtonLabel class=\"btn-outline-secondary\"> <input ngbButton type=\"radio\" [value]=\"1\" /> $1 </label>\n          <label ngbButtonLabel class=\"btn-outline-secondary\"> <input ngbButton type=\"radio\" [value]=\"5\" /> $5 </label>\n          <label ngbButtonLabel class=\"btn-outline-secondary\"> <input ngbButton type=\"radio\" [value]=\"10\" /> $10 </label>\n          <div class=\"form-group mb-0\">\n            <label for=\"donationAmount\" class=\"text-muted text-left hidden-sm-up\">Other</label>\n            <input class=\"form-control\" (click)=\"donationAmount = 0\" [(ngModel)]=\"donationAmount\" [ngModelOptions]=\"{ standalone: true }\" [placeholder]=\"'settings.donate.select_amount' | translate\" type=\"text\" />\n          </div>\n        </div>\n\n        <h6 class=\"form-step-card-title text-dark mb-3 text-left\">\n          <strong [translate]=\"'billing_info.payment_information'\">Payment Information</strong>\n        </h6>\n        <div class=\"form-group\">\n          <label for=\"personName\" class=\"d-block text-muted text-left hidden-sm-up\">Name on Card</label>\n          <input class=\"form-control\" id=\"personName\" [placeholder]=\"'settings.donate.name_on_card' | translate\" type=\"text\" />\n        </div>\n        <div class=\"form-group\">\n          <span class=\"d-block text-right error-msg\">Required field <sup class=\"font-weight-bold error-msg\">*</sup></span>\n          <label for=\"cardName\" class=\"d-block text-left hidden-sm-up label-error\" [translate]=\"'settings.donate.card_number'\">Card Number </label>\n          <input class=\"form-control stripe-error number\" id=\"cardName\" name=\"cardName\" [placeholder]=\"'settings.donate.card_number' | translate\" type=\"text\" formControlName=\"cardNumber\" [(ngModel)]=\"cardNumber\" (change)=\"checkStripeValidation()\" />\n        </div>\n        <div class=\"form-group form-group-3-col\">\n          <div class=\"form-group-row\">\n            <div class=\"form-group-col\">\n              <span class=\"d-block text-right error-msg font-weight-bold\">*</span>\n              <label class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'billing_info.month'\">Month</label>\n              <div class=\"btn-dropdown btn-dropdown-lg btn-dropdown-select\">\n                <div ngbDropdown class=\"date-select-dropdown\">\n                  <button role=\"button\" id=\"dateDropdownMenuButton\" ngbDropdownToggle class=\"stripe-error exp_month\">\n                    {{ expiryMonth }}\n                  </button>\n                  <div ngbDropdownMenu aria-labelledby=\"dateDropdownMenuButton\">\n                    <a class=\"dropdown-item text-muted\">\n                      <em>Date</em>\n                    </a>\n                    <a class=\"dropdown-item text-muted\" *ngFor=\"let month of months\" (click)=\"selectMonth(month)\">\n                      <em>{{ month }}</em>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"form-group-col\">\n              <span class=\"d-block text-right error-msg font-weight-bold\">*</span>\n              <label class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'billing_info.year'\">Year</label>\n              <div class=\"btn-dropdown btn-dropdown-lg btn-dropdown-select\">\n                <div ngbDropdown class=\"year-select-dropdown\">\n                  <button role=\"button\" id=\"yearDropdownMenuButton\" ngbDropdownToggle class=\"stripe-error exp_year\">\n                    {{ expiryYear }}\n                  </button>\n                  <div ngbDropdownMenu aria-labelledby=\"yearDropdownMenuButton\">\n                    <a class=\"dropdown-item text-muted\" href=\"\">\n                      <em>Year</em>\n                    </a>\n                    <a class=\"dropdown-item text-muted\" *ngFor=\"let year of years\" (click)=\"selectYear(year)\">\n                      <em>{{ year }}</em>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"form-group-col\">\n              <span class=\"d-block text-right error-msg font-weight-bold\">&nbsp;</span>\n              <label for=\"securityCode\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'home_header.security'\"> Security Code</label>\n              <input class=\"form-control stripe-error cvc p-2\" id=\"securityCode\" [placeholder]=\"'home_header.security' | translate\" type=\"text\" [(ngModel)]=\"cvc\" name=\"securityCode\" [ngModelOptions]=\"{ standalone: true }\" (change)=\"checkStripeValidation()\" />\n            </div>\n          </div>\n        </div>\n\n        <!-- ERROR -->\n        <div *ngIf=\"stripePaymentValidation.message\" class=\"l-alert l-alert-danger\">\n          {{ stripePaymentValidation.message }}\n        </div>\n\n        <!-- SUBMIT BUTTON -->\n        <div class=\"form-group text-center mt-3 mt-sm-4 mb-0\">\n          <button class=\"btn btn-lg btn-secondary billing-submit-btn\" role=\"button\" [disabled]=\"inProgress\" (click)=\"submitStripeForm()\">Donate</button>\n          <app-loading-spinner [showSpinner]=\"inProgress\"></app-loading-spinner>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n","<!-- PAGE SECTION -->\n<section class=\"l-block l-block-text bg-white pt-3\">\n  <div class=\"container container-sm\">\n    <header class=\"l-block-header position-relative text-center\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-sm-12 col-md-10 position-sm-static px-sm-5 px-md-0\">\n          <h6 class=\"text-uppercase text-secondary m-0\">\n            <strong [translate]=\"'billing_info.payment_information'\">Payment Information</strong>\n          </h6>\n        </div>\n      </div>\n    </header>\n    <div class=\"l-block-body\">\n      <div class=\"form-card-holder mx-auto\">\n        <div class=\"form\">\n          <form [formGroup]=\"billingForm\" #form=\"ngForm\">\n            <div class=\"form-card-holder billing-form-card-holder form-card-holder-top-border mt-md-3\">\n              <div class=\"form-step-card\" *ngIf=\"planType !== planTypeEnum.FREE\">\n                <h3 class=\"form-step-card-title text-dark mb-3\">\n                  <strong [translate]=\"'settings.overview'\">Overview</strong>\n                </h3>\n                <div class=\"billing-overview\">\n                  <div class=\"billing-overview-row row\">\n                    <label class=\"billing-overview-label mb-0 col-3\" [translate]=\"'billing_info.plan'\">Plan</label>\n                    <div class=\"billing-overview-val text-secondary col\">\n                      <strong>CTemplar {{ planType }}</strong>\n                    </div>\n                  </div>\n                  <div class=\"billing-overview-row payment-method-row row\" *ngIf=\"!isAddNewCard\">\n                    <label class=\"billing-overview-label col-3\" [translate]=\"'billing_info.payment_method'\">Payment Method: </label>\n                    <div class=\"billing-overview-val text-secondary col\">\n                      <div class=\"btn-dropdown btn-dropdown-lg btn-dropdown-select\">\n                        <div ngbDropdown class=\"payment-select-dropdown\">\n                          <button ngbDropdownToggle role=\"button\" id=\"paymentDropdownMenuButton\">\n                            {{ paymentMethod }}\n                          </button>\n                          <div ngbDropdownMenu aria-labelledby=\"paymentDropdownMenuButton\">\n                            <a class=\"dropdown-item text-muted\" (click)=\"loadStripeScripts()\">\n                              <em>Stripe (Credit/Debit Card)</em>\n                            </a>\n                            <a class=\"dropdown-item text-muted\" (click)=\"selectBitcoinMethod()\">\n                              <em>Bitcoin</em>\n                            </a>\n                            <a class=\"dropdown-item text-muted\" (click)=\"selectMoneroMethod()\">\n                              <em>Monero</em>\n                            </a>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"billing-overview-row row\" *ngIf=\"!isAddNewCard\">\n                    <label class=\"billing-overview-label mb-0 col-3\" [translate]=\"'billing_info.billing'\">Billing</label>\n                    <div class=\"billing-overview-val text-secondary col\">\n                      <div class=\"btn-dropdown btn-dropdown-lg btn-dropdown-select\">\n                        <div ngbDropdown class=\"payment-select-dropdown\">\n                          <button ngbDropdownToggle role=\"button\" id=\"paymentTypeDropdownMenuButton\">\n                            {{ paymentType }}\n                          </button>\n                          <div ngbDropdownMenu aria-labelledby=\"paymentTypeDropdownMenuButton\">\n                            <a class=\"dropdown-item text-muted\" *ngIf=\"paymentMethod === paymentMethodType.STRIPE\" (click)=\"selectPaymentType(paymentTypeEnum.MONTHLY)\">\n                              <em>Monthly</em>\n                            </a>\n                            <a class=\"dropdown-item text-muted\" (click)=\"selectPaymentType(paymentTypeEnum.ANNUALLY)\">\n                              <em>Annually</em>\n                            </a>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"billing-overview-row row\" *ngIf=\"!isAddNewCard\">\n                    <label class=\"billing-overview-label mb-0 col-3\" [translate]=\"'billing_info.price'\">Price</label>\n                    <div class=\"billing-overview-val text-secondary col\">\n                      <strong *ngIf=\"paymentType === paymentTypeEnum.ANNUALLY\"> {{ currentPlan?.annually_price | currency: currency }}/<span [translate]=\"'settings.annually'\">Yearly</span> ({{ currentPlan?.annually_price / 12 | currency: currency }}/<span [translate]=\"'billing_info.month'\">month</span>) </strong>\n                      <strong *ngIf=\"paymentType === paymentTypeEnum.MONTHLY\"> {{ currentPlan?.monthly_price | currency: currency }}/<span [translate]=\"'billing_info.month'\">month</span> </strong>\n                    </div>\n                  </div>\n                  <div class=\"billing-overview-row row\" *ngIf=\"!isPrime && !isAddNewCard\">\n                    <label class=\"billing-overview-label mb-0 col-3\">Promo code</label>\n                    <div class=\"billing-overview-val text-secondary col-9\">\n                      <input class=\"form-control\" [(ngModel)]=\"promoCode.value\" formControlName=\"promoCode\" placeholder=\"Optional promo code\" id=\"promo-code\" type=\"text\" />\n                      <i *ngIf=\"promoCode.is_valid\" class=\"fas fa-check input-ok\"></i>\n                      <i *ngIf=\"promoCode.is_valid === false\" class=\"fas fa-times text-danger input-invalid\"></i>\n                      <app-loading-spinner class=\"promo-code-spinner\" [showSpinner]=\"promoCode.inProgress\"></app-loading-spinner>\n                    </div>\n                    <div class=\"col-3\"></div>\n                    <div class=\"col-9 position-relative error-block\" align=\"left\">\n                      <span class=\"mr-4 text-danger\" *ngIf=\"promoCode.is_valid === false\">{{ promoCode.message }}</span>\n                      <a class=\"validate-promo-code\" (click)=\"validatePromoCode()\">Validate</a>\n                    </div>\n\n                    <ng-container *ngIf=\"promoCode.is_valid\">\n                      <label class=\"billing-overview-label mb-0 col-3\" ngbTooltip=\"Actual amount that will be charged.\">Discounted price</label>\n                      <div class=\"billing-overview-val text-secondary col-9\">\n                        <strong>${{ promoCode.new_amount }}/-</strong>\n                      </div>\n                      <label class=\"billing-overview-label mb-0 col-3\">You will save</label>\n                      <div class=\"billing-overview-val text-secondary col-9\">\n                        <strong>${{ promoCode.discount_amount }}/-</strong>\n                      </div>\n                    </ng-container>\n                  </div>\n\n                  <div class=\"billing-overview-row row\" *ngIf=\"isUpgradeAccount && upgradeAmount != null && !promoCode.is_valid && !isRenew && !isAddNewCard\">\n                    <label class=\"billing-overview-label mb-0 col-3\" ngbTooltip=\"This is the amount which you will be charged right now.\"> Amount to charge</label>\n                    <div class=\"billing-overview-val text-secondary col\">\n                      <strong>{{ upgradeAmount | currency: currency }}</strong>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"form-step-card\" *ngIf=\"paymentMethod === paymentMethodType.BITCOIN && planType !== planTypeEnum.FREE\">\n                <h3 class=\"form-step-card-title text-dark mb-3\">\n                  <strong [translate]=\"'billing_info.payment_information'\">Payment Information</strong>\n                </h3>\n                <p>\n                  <strong>{{ minutes }} minutes : {{ seconds }} seconds </strong>\n                  <span [translate]=\"'billing_info.bitcoin_sent_timer'\">BTC sent after timer will be lost!</span>\n                </p>\n\n                <div class=\"bitcoin-payment card mb-3\">\n                  <div class=\"card-header text-center\">\n                    <h6 [innerHTML]=\"'billing_info.send_exactly' | translate\">SEND <strong>EXACTLY</strong></h6>\n                    <h5>\n                      <strong *ngIf=\"bitcoinState?.loaded\">\n                        {{ bitcoinState?.bitcoinRequired | number: '1.5-5' }}\n                      </strong>\n                    </h5>\n                    <app-loading-spinner [showSpinner]=\"!bitcoinState?.loaded\"></app-loading-spinner>\n                  </div>\n                  <div class=\"card-body text-center\">\n                    <p class=\"justify-content-center\" *ngIf=\"bitcoinState?.loaded\">\n                      {{ bitcoinState.newWalletAddress }}\n                    </p>\n                    <img *ngIf=\"bitcoinState?.loaded\" class=\"mb-3\" src=\"{{ apiUrl }}qr-code/?size=225x225&data=bitcoin:{{ bitcoinState.newWalletAddress }}?amount={{ bitcoinState.bitcoinRequired }}\" alt=\"captcha\" />\n                    <app-loading-spinner [showSpinner]=\"!bitcoinState?.loaded\"></app-loading-spinner>\n                  </div>\n                </div>\n                <strong class=\"text-center green\" *ngIf=\"paymentSuccess\">\n                  <i class=\"fa fa-check-circle green\"></i>\n                  Your payment has been made successfully, Please click on\n                  {{ authState?.isAuthenticated ? 'upgrade' : 'create' }} account in order to proceed.\n                </strong>\n              </div>\n\n              <div class=\"form-step-card\" *ngIf=\"paymentMethod === paymentMethodType.MONERO && planType !== planTypeEnum.FREE\">\n                <h3 class=\"form-step-card-title text-dark mb-3\">\n                  <strong [translate]=\"'billing_info.payment_information'\">Payment Information</strong>\n                </h3>\n                <p>\n                  <span [translate]=\"'billing_info.about_monero'\">To complete your payment using Monero (XMR) please create a free account then email Support@ctemplar.com. Our Support team will send you instructions on how to complete the payment and thenupgrade your account once payment is made.</span>\n                </p>\n              </div>\n              <app-loading-spinner *ngIf=\"paymentMethod === paymentMethodType.STRIPE\" [showSpinner]=\"isScriptsLoading\"></app-loading-spinner>\n\n              <div class=\"form-step-card\" [class]=\"stripePaymentValidation.param\" *ngIf=\"paymentMethod === paymentMethodType.STRIPE && isScriptsLoaded && planType !== planTypeEnum.FREE\">\n                <h3 class=\"form-step-card-title text-dark mb-3\">\n                  <strong [translate]=\"'billing_info.payment_information'\">Payment Information</strong>\n                </h3>\n                <div class=\"form-group\">\n                  <label for=\"personName\" class=\"d-block text-muted text-left hidden-sm-up\">Name on Card</label>\n                  <input class=\"form-control\" id=\"personName\" [placeholder]=\"'settings.donate.name_on_card' | translate\" type=\"text\" />\n                </div>\n                <div class=\"form-group\">\n                  <span class=\"d-block text-right error-msg\"><span [translate]=\"'settings.required_field'\">Required field</span> <sup class=\"font-weight-bold error-msg\">*</sup></span>\n                  <label for=\"cardName\" class=\"d-block text-left hidden-sm-up label-error\" [translate]=\"'settings.donate.card_number'\">Card Number </label>\n                  <input class=\"form-control error stripe-error number\" id=\"cardName\" name=\"cardName\" [placeholder]=\"'settings.donate.card_number' | translate\" type=\"text\" formControlName=\"cardNumber\" [(ngModel)]=\"cardNumber\" (change)=\"checkStripeValidation()\" />\n                </div>\n                <div class=\"form-group form-group-3-col\">\n                  <div class=\"form-group-row\">\n                    <div class=\"form-group-col\">\n                      <span class=\"d-block text-right error-msg font-weight-bold\">*</span>\n                      <label class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'billing_info.month'\">Month</label>\n                      <div class=\"btn-dropdown btn-dropdown-lg btn-dropdown-select\">\n                        <div ngbDropdown class=\"date-select-dropdown\">\n                          <button role=\"button\" id=\"dateDropdownMenuButton\" ngbDropdownToggle class=\"stripe-error exp_month\">\n                            {{ expiryMonth }}\n                          </button>\n                          <div ngbDropdownMenu aria-labelledby=\"dateDropdownMenuButton\">\n                            <a class=\"dropdown-item text-muted\">\n                              <em>Date</em>\n                            </a>\n                            <a class=\"dropdown-item text-muted\" *ngFor=\"let month of months\" (click)=\"selectMonth(month)\">\n                              <em>{{ month }}</em>\n                            </a>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"form-group-col\">\n                      <span class=\"d-block text-right error-msg font-weight-bold\">*</span>\n                      <label class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'billing_info.year'\">Year</label>\n                      <div class=\"btn-dropdown btn-dropdown-lg btn-dropdown-select\">\n                        <div ngbDropdown class=\"year-select-dropdown\">\n                          <button role=\"button\" id=\"yearDropdownMenuButton\" ngbDropdownToggle class=\"stripe-error exp_year\">\n                            {{ expiryYear }}\n                          </button>\n                          <div ngbDropdownMenu aria-labelledby=\"yearDropdownMenuButton\">\n                            <a class=\"dropdown-item text-muted\" href=\"\">\n                              <em [translate]=\"'billing_info.year'\">Year</em>\n                            </a>\n                            <a class=\"dropdown-item text-muted\" *ngFor=\"let year of years\" (click)=\"selectYear(year)\">\n                              <em>{{ year }}</em>\n                            </a>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"form-group-col\">\n                      <span class=\"d-block text-right error-msg font-weight-bold\">&nbsp;</span>\n                      <label for=\"securityCode\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'home_header.security'\">Security Code</label>\n                      <input class=\"form-control stripe-error cvc p-2\" id=\"securityCode\" [placeholder]=\"'home_header.security' | translate\" type=\"text\" [(ngModel)]=\"cvc\" name=\"securityCode\" [ngModelOptions]=\"{ standalone: true }\" (change)=\"checkStripeValidation()\" />\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div *ngIf=\"stripePaymentValidation.message\" class=\"l-alert l-alert-danger\">\n                {{ stripePaymentValidation.message }}\n              </div>\n              <div *ngIf=\"errorMessage\" class=\"l-alert l-alert-danger\">{{ errorMessage }}</div>\n\n              <div class=\"form-group text-center mt-3 mt-sm-4 mb-0\" *ngIf=\"planType === planTypeEnum.FREE && isUpgradeAccount; else paidPlanButton\">\n                <div class=\"cancel-subscription\">\n                  You are about to cancel your subscription. If you cancel, you can keep using the subscription until the next billing date: {{ payment?.billing_cycle_ends | momentDate: 'mediumDate' }}.<br /><br />\n\n                  After that date, your account will be automatically reverted to FREE. Additional aliases and domains will stop working.\n                </div>\n                <button class=\"btn btn-lg btn-secondary billing-submit-btn\" type=\"submit\" role=\"button\" (click)=\"submitForm()\">Cancel Subscription</button>\n                <app-loading-spinner [showSpinner]=\"inProgress\"></app-loading-spinner>\n              </div>\n              <ng-template #paidPlanButton>\n                <div class=\"form-group text-center mt-3 mt-sm-4 mb-0\" [ngbTooltip]=\"paymentMethod === paymentMethodType.BITCOIN && !authState.isAuthenticated && !paymentSuccess ? ('billing_info.pay_to_proceed' | translate) : ''\">\n                  <button class=\"btn btn-lg btn-secondary billing-submit-btn\" type=\"submit\" role=\"button\" [disabled]=\"inProgress || (paymentMethod === paymentMethodType.BITCOIN && !authState.isAuthenticated && !paymentSuccess) || paymentMethod === paymentMethodType.MONERO\" (click)=\"submitForm()\">\n                    <span *ngIf=\"!isAddNewCard && !isUpgradeAccount\" [translate]=\"'login.create_account'\">Create Account</span>\n                    <span *ngIf=\"!isAddNewCard && isUpgradeAccount\" [translate]=\"'common.upgrade_account'\">Upgrade Account</span>\n                    <span *ngIf=\"isAddNewCard\" [translate]=\"'settings.add_new_method'\">Add new payment</span>\n                  </button>\n                  <app-loading-spinner [showSpinner]=\"inProgress\"></app-loading-spinner>\n                </div>\n              </ng-template>\n\n              <div class=\"text-holder mt-2 text-center\">\n                <a href=\"\" [translate]=\"'common.cancel'\" (click)=\"onCancel($event)\">Cancel</a>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- /.Site container ends -->\n</section>\n<!-- /.PAGE SECTION ENDS -->\n","import { Component, EventEmitter, Input, NgZone, OnDestroy, OnInit, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { Subscription } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\nimport { timer } from 'rxjs/internal/observable/timer';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport {\n  CheckTransaction,\n  ClearPromoCode,\n  ClearWallet,\n  CreateNewWallet,\n  FinalLoading,\n  GetUpgradeAmount,\n  SignUp,\n  SnackErrorPush,\n  UpgradeAccount,\n  ValidatePromoCode,\n  CardAdd,\n} from '../../../store/actions';\nimport {\n  AppState,\n  AuthState,\n  BitcoinState,\n  CheckTransactionResponse,\n  Payment,\n  PaymentMethod,\n  PaymentType,\n  PlanType,\n  PricingPlan,\n  PromoCode,\n  SignupState,\n  TransactionStatus,\n  UserState,\n} from '../../../store/datatypes';\nimport { OpenPgpService, SharedService } from '../../../store/services';\nimport { UserAccountInitDialogComponent } from '../../../users/dialogs/user-account-init-dialog/user-account-init-dialog.component';\nimport { DynamicScriptLoaderService } from '../../services/dynamic-script-loader.service';\nimport { apiUrl, PROMO_CODE_KEY, LANGUAGES } from '../../config';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-users-billing-info',\n  templateUrl: './users-billing-info.component.html',\n  styleUrls: ['./users-billing-info.component.scss'],\n})\nexport class UsersBillingInfoComponent implements OnDestroy, OnInit {\n  @Input() isUpgradeAccount: boolean;\n\n  @Input() isRenew: boolean;\n\n  @Input() isAddNewCard = false;\n\n  @Input() paymentType: PaymentType;\n\n  @Input() paymentMethod: PaymentMethod;\n\n  @Input() currency;\n\n  @Input() storage: number;\n\n  @Input() planType: PlanType;\n\n  @Output() close = new EventEmitter<boolean>();\n\n  paymentTypeEnum = PaymentType;\n\n  cardNumber;\n\n  promoCode: PromoCode = new PromoCode();\n\n  billingForm: FormGroup;\n\n  expiryMonth = 'Month';\n\n  expiryYear = 'Year';\n\n  cvc;\n\n  months = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'];\n\n  years = [];\n\n  paymentMethodType = PaymentMethod;\n\n  seconds = 60;\n\n  minutes = 60;\n\n  bitcoinState: BitcoinState;\n\n  signupState: SignupState;\n\n  inProgress: boolean;\n\n  planTypeEnum = PlanType;\n\n  stripePaymentValidation: any = {\n    message: '',\n    param: '',\n  };\n\n  showPaymentPending: boolean;\n\n  paymentSuccess: boolean;\n\n  errorMessage: string;\n\n  authState: AuthState;\n\n  isScriptsLoaded: boolean;\n\n  isScriptsLoading: boolean;\n\n  apiUrl: string = apiUrl;\n\n  currentPlan: PricingPlan;\n\n  upgradeAmount: number;\n\n  payment: Payment;\n\n  isPrime: boolean;\n\n  private checkTransactionResponse: CheckTransactionResponse;\n\n  private timerObservable: Subscription;\n\n  private modalRef: NgbModalRef;\n\n  private btcTimer: Subscription;\n\n  constructor(\n    private sharedService: SharedService,\n    private store: Store<AppState>,\n    private router: Router,\n    private formBuilder: FormBuilder,\n    private openPgpService: OpenPgpService,\n    private translate: TranslateService,\n    private dynamicScriptLoader: DynamicScriptLoaderService,\n    private activatedRoute: ActivatedRoute,\n    private modalService: NgbModal,\n    private _zone: NgZone,\n  ) {}\n\n  ngOnInit() {\n    let year = new Date().getFullYear();\n    for (let i = 0; i < 11; i++) {\n      this.years.push(year++);\n    }\n    this.store.dispatch(new ClearPromoCode());\n    this.sharedService.hideFooter.emit(true);\n    setTimeout(() => this.store.dispatch(new FinalLoading({ loadingState: false })));\n    if (this.isUpgradeAccount) {\n      if (this.planType === PlanType.FREE) {\n        this.paymentType = null;\n        this.paymentMethod = null;\n      }\n    }\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((userState: UserState) => {\n        if (this.isUpgradeAccount) {\n          this.upgradeAmount = userState.upgradeAmount;\n          this.payment = userState.payment_transaction;\n        }\n        this.promoCode = userState.promoCode;\n        this.promoCode.new_amount = this.promoCode.new_amount < 0 ? 0 : this.promoCode.new_amount;\n        this.isPrime = userState.isPrime;\n      });\n\n    this.billingForm = this.formBuilder.group({\n      cardNumber: ['', [Validators.minLength(16), Validators.maxLength(16)]],\n      promoCode: '',\n    });\n    this.store\n      .select(state => state.bitcoin)\n      .pipe(untilDestroyed(this))\n      .subscribe((bitcoinState: BitcoinState) => {\n        this.bitcoinState = bitcoinState;\n        if (this.promoCode.is_valid) {\n          this.promoCode.new_amount = this.promoCode.new_amount < 0 ? 0 : this.promoCode.new_amount;\n          this.bitcoinState.bitcoinRequired = this.promoCode.new_amount_btc;\n        }\n        this.checkTransactionResponse = this.bitcoinState.checkTransactionResponse;\n        if (\n          this.checkTransactionResponse &&\n          (this.checkTransactionResponse.status === TransactionStatus.PENDING ||\n            this.checkTransactionResponse.status === TransactionStatus.RECEIVED ||\n            this.checkTransactionResponse.status === TransactionStatus.SENT)\n        ) {\n          this.paymentSuccess = true;\n        }\n      });\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        this.signupState = authState.signupState;\n\n        const { queryParams } = this.activatedRoute.snapshot;\n        this.planType = this.planType || this.signupState.plan_type || queryParams.plan || PlanType.PRIME;\n        this.paymentType =\n          this.paymentType || this.signupState.payment_type || queryParams.billing || PaymentType.ANNUALLY;\n        this.paymentMethod = this.paymentMethod || this.signupState.payment_method || PaymentMethod.STRIPE;\n        this.currency = this.currency || this.signupState.currency || 'USD';\n        if (!this.promoCode.value) {\n          this.promoCode.value = queryParams[PROMO_CODE_KEY] || localStorage.getItem(PROMO_CODE_KEY);\n          this.validatePromoCode();\n        }\n\n        if (SharedService.PRICING_PLANS && (this.signupState.plan_type || this.planType)) {\n          this.currentPlan = SharedService.PRICING_PLANS[this.signupState.plan_type || this.planType];\n        }\n\n        this.authState = authState;\n        if (this.inProgress && !authState.inProgress) {\n          if (authState.errorMessage) {\n            this.errorMessage = authState.errorMessage;\n          } else {\n            this.close.emit(true);\n          }\n        }\n        if (this.paymentMethod === PaymentMethod.BITCOIN) {\n          this.selectBitcoinMethod(false);\n        } else if (this.paymentMethod === PaymentMethod.STRIPE) {\n          this.loadStripeScripts();\n        }\n        this.inProgress = authState.inProgress;\n      });\n\n    if (!this.isUpgradeAccount) {\n      setTimeout(() => {\n        this.validateSignupData();\n      }, 3000);\n    }\n    this.sharedService.loadPricingPlans();\n  }\n\n  timer() {\n    if (this.timerObservable) {\n      this.timerObservable.unsubscribe();\n    }\n    const timerReference: any = timer(1000, 1000);\n    this.timerObservable = timerReference.pipe(untilDestroyed(this)).subscribe(t => {\n      this.seconds = (3600 - t) % 60;\n      this.minutes = (3600 - t - this.seconds) / 60;\n    });\n  }\n\n  private loadStripeScripts() {\n    this.paymentMethod = PaymentMethod.STRIPE;\n    this.getUpgradeAmount();\n    if (this.btcTimer) {\n      this.btcTimer.unsubscribe();\n      this.btcTimer = null;\n    }\n    if (this.isScriptsLoading || this.isScriptsLoaded) {\n      return;\n    }\n    this.isScriptsLoading = true;\n    this.dynamicScriptLoader\n      .load('stripe')\n      .then(data => {\n        this.dynamicScriptLoader.load('stripe-key').then(stripeKeyLoaded => {\n          this.isScriptsLoaded = true;\n          this.isScriptsLoading = false;\n        });\n      })\n      .catch(error => console.log(error));\n  }\n\n  getToken() {\n    this.inProgress = true;\n    (<any>window).Stripe.card.createToken(\n      {\n        number: this.cardNumber,\n        exp_month: this.expiryMonth,\n        exp_year: this.expiryYear,\n        cvc: this.cvc,\n      },\n      (status: number, response: any) => {\n        // Wrapping inside the Angular zone\n        this._zone.run(() => {\n          this.inProgress = false;\n          if (status === 200) {\n            this.stripeSignup(response.id);\n          } else {\n            this.stripePaymentValidation = {\n              message: response.error.message,\n              param: response.error.param,\n            };\n          }\n        });\n      },\n    );\n  }\n\n  getUpgradeAmount() {\n    if (this.isUpgradeAccount) {\n      this.store.dispatch(\n        new GetUpgradeAmount({\n          plan_type: this.planType,\n          payment_type: this.paymentType,\n          payment_method: this.paymentMethod,\n          is_renew: this.isRenew,\n        }),\n      );\n    }\n  }\n\n  submitForm() {\n    if (this.planType === PlanType.FREE && this.isUpgradeAccount) {\n      this.store.dispatch(new UpgradeAccount({ stripe_token: null, payment_type: null, plan_type: this.planType }));\n      return;\n    }\n    // Reset Stripe validation\n    this.stripePaymentValidation = {\n      message: '',\n      param: '',\n    };\n\n    if (this.paymentMethod === PaymentMethod.STRIPE) {\n      this.getToken();\n    } else {\n      this.bitcoinSignup();\n    }\n  }\n\n  validateSignupData() {\n    if (this.signupState && this.signupState.username && this.signupState.password) {\n      return true;\n    }\n    this.router.navigateByUrl(`/create-account?plan=${this.planType}&billing=${this.paymentType}`);\n  }\n\n  stripeSignup(stripe_token: any) {\n    if (stripe_token) {\n      if (this.isAddNewCard) {\n        this.store.dispatch(new CardAdd(stripe_token));\n        this.close.emit(true);\n      } else if (this.isUpgradeAccount) {\n        this.store.dispatch(new UpgradeAccount(this.getSignupData({ stripe_token })));\n      } else {\n        this.inProgress = true;\n        this.openAccountInitModal();\n        this.openPgpService.generateUserKeys(this.signupState.username, this.signupState.password);\n        this.waitForPGPKeys({ ...this.signupState, stripe_token });\n      }\n    } else {\n      this.store.dispatch(new SnackErrorPush('Cannot create account, please reload page and try again.'));\n    }\n  }\n\n  bitcoinSignup() {\n    if (this.bitcoinState.newWalletAddress) {\n      if (this.isUpgradeAccount) {\n        this.store.dispatch(\n          new UpgradeAccount(this.getSignupData({ from_address: this.bitcoinState.newWalletAddress })),\n        );\n      } else {\n        this.inProgress = true;\n        this.openAccountInitModal();\n        this.openPgpService.generateUserKeys(this.signupState.username, this.signupState.password);\n        this.waitForPGPKeys({ ...this.signupState, from_address: this.bitcoinState.newWalletAddress });\n      }\n    } else {\n      this.store.dispatch(\n        new SnackErrorPush('No bitcoin wallet found, Unable to signup, please reload page and try again.'),\n      );\n    }\n  }\n\n  waitForPGPKeys(data: any) {\n    setTimeout(() => {\n      const userKeys = this.openPgpService.getUserKeys();\n      if (userKeys) {\n        this.pgpKeyGenerationCompleted({ ...userKeys, ...data });\n        return;\n      }\n      this.waitForPGPKeys(data);\n    }, 1000);\n  }\n\n  private getSignupData(data: any = {}) {\n    if (this.promoCode.is_valid && this.promoCode.value) {\n      data.promo_code = this.promoCode.value;\n    }\n    const currentLocale = this.translate.currentLang ? this.translate.currentLang : 'en';\n    const currentLang = LANGUAGES.find(lang => {\n      if (lang.locale === currentLocale) {\n        return true;\n      }\n    });\n    return {\n      ...data,\n      plan_type: this.planType,\n      payment_type: this.paymentType,\n      payment_method: this.paymentMethod,\n      is_renew: this.isRenew,\n      language: currentLang.name,\n    };\n  }\n\n  pgpKeyGenerationCompleted(data: any) {\n    if (this.modalRef) {\n      this.modalRef.componentInstance.pgpGenerationCompleted();\n    }\n    this.store.dispatch(new SignUp(this.getSignupData(data)));\n  }\n\n  checkTransaction() {\n    if (\n      this.checkTransactionResponse.status === TransactionStatus.PENDING ||\n      this.checkTransactionResponse.status === TransactionStatus.RECEIVED ||\n      this.checkTransactionResponse.status === TransactionStatus.SENT\n    ) {\n      this.paymentSuccess = true;\n      return;\n    }\n    const data: any = { from_address: this.bitcoinState.newWalletAddress };\n    if (this.promoCode && this.promoCode.is_valid && this.promoCode.value) {\n      data.promo_code = this.promoCode.value;\n    }\n    // check after every one minute\n    this.store.dispatch(new CheckTransaction(data));\n  }\n\n  selectBitcoinMethod(forceLoad = true) {\n    this.paymentMethod = PaymentMethod.BITCOIN;\n    this.selectPaymentType(PaymentType.ANNUALLY);\n    if (this.bitcoinState && this.bitcoinState.newWalletAddress && !forceLoad) {\n      return;\n    }\n    this.stripePaymentValidation = {\n      message: '',\n      param: '',\n    };\n    setTimeout(() => {\n      this.showPaymentPending = true;\n    }, 15000);\n\n    this.timer();\n    this.paymentSuccess = false;\n    this.createNewWallet();\n    this.btcTimer = timer(15000, 10000)\n      .pipe(untilDestroyed(this))\n      .subscribe(() => {\n        this.checkTransaction();\n      });\n  }\n\n  selectMoneroMethod() {\n    this.paymentMethod = PaymentMethod.MONERO;\n  }\n\n  selectPaymentType(paymentType: PaymentType) {\n    this.paymentType = paymentType;\n    this.getUpgradeAmount();\n    if (this.promoCode.is_valid) {\n      this.validatePromoCode();\n    }\n  }\n\n  createNewWallet() {\n    this.store.dispatch(\n      new CreateNewWallet({\n        payment_type: this.paymentType,\n        plan_type: this.planType,\n        payment_method: this.paymentMethod,\n        is_renew: this.isRenew,\n      }),\n    );\n  }\n\n  selectMonth(month) {\n    this.expiryMonth = month;\n    this.checkStripeValidation();\n  }\n\n  selectYear(year) {\n    this.expiryYear = year;\n    this.checkStripeValidation();\n  }\n\n  checkStripeValidation() {\n    this.stripePaymentValidation.message = '';\n    if (!(<any>window).Stripe.card.validateCardNumber(this.cardNumber)) {\n      this.stripePaymentValidation.param = 'number';\n    } else if (!(<any>window).Stripe.card.validateExpiry(this.expiryMonth, this.expiryYear)) {\n      this.stripePaymentValidation.param = 'exp_year exp_month';\n    } else if (!(<any>window).Stripe.card.validateCVC(this.cvc)) {\n      this.stripePaymentValidation.param = 'cvc';\n    }\n  }\n\n  onCancel(event) {\n    event.preventDefault();\n    if (this.isUpgradeAccount) {\n      this.close.emit(true);\n    } else {\n      this.router.navigateByUrl('/');\n    }\n  }\n\n  openAccountInitModal() {\n    this.modalRef = this.modalService.open(UserAccountInitDialogComponent, {\n      centered: true,\n      windowClass: 'modal-sm',\n      backdrop: 'static',\n      keyboard: false,\n    });\n  }\n\n  validatePromoCode() {\n    if (this.promoCode.value) {\n      this.store.dispatch(\n        new ValidatePromoCode({\n          plan_type: this.planType,\n          payment_type: this.paymentType,\n          promo_code: this.promoCode.value,\n        }),\n      );\n    }\n  }\n\n  ngOnDestroy() {\n    this.sharedService.hideFooter.emit(false);\n    this.store.dispatch(new ClearWallet());\n    if (this.timerObservable) {\n      this.timerObservable.unsubscribe();\n    }\n\n    this.dynamicScriptLoader.removeStripeFromDOM();\n  }\n}\n","import * as QuillNamespace from 'quill';\nimport ImageResize from 'quill-image-resize-module';\n\nimport { AppConfig } from '../../environments/environment';\n\nexport const IS_ELECTRON = window.location.protocol === 'file:';\nexport const apiUrl = getBaseUrl();\nexport const PRIMARY_DOMAIN = AppConfig.production ? 'ctemplar.com' : 'dev.ctemplar.net';\nexport const PRIMARY_WEBSITE = 'https://ctemplar.com';\n\nexport const COLORS: string[] = [\n  '#000000',\n  '#616161',\n  '#828282',\n  '#adadad',\n  '#d2d2d2',\n  '#e9e9e9',\n  '#ffffff',\n  '#730000',\n  '#ae0000',\n  '#e60000',\n  '#ff2121',\n  '#ff7676',\n  '#ffc9c9',\n  '#ffefef',\n  '#734600',\n  '#ae6200',\n  '#e66300',\n  '#ff8c21',\n  '#ffc576',\n  '#ffe9c9',\n  '#ffe9c9',\n  '#737200',\n  '#a0ae00',\n  '#e6e300',\n  '#fff621',\n  '#fdff76',\n  '#fffdc9',\n  '#ffffef',\n  '#0f7300',\n  '#0eae00',\n  '#1ee600',\n  '#21ff38',\n  '#76ff76',\n  '#c9ffd0',\n  '#effff1',\n  '#006e73',\n  '#00aeac',\n  '#00dce6',\n  '#21f4ff',\n  '#76fff4',\n  '#c9fffc',\n  '#effeff',\n  '#000173',\n  '#0016ae',\n  '#0100e6',\n  '#5555ff',\n  '#7681ff',\n  '#cdc9ff',\n  '#f1efff',\n  '#530073',\n  '#7500ae',\n  '#ba00e6',\n  '#e955ff',\n  '#de76ff',\n  '#f2c9ff',\n  '#fcefff',\n];\n\nexport const FOLDER_COLORS: string[] = [\n  '#ced4da',\n  '#868e96',\n  '#212529',\n  '#da77f2',\n  '#be4bdb',\n  '#8e44ad',\n  '#f783ac',\n  '#e64980',\n  '#a61e4d',\n  '#748ffc',\n  '#4c6ef5',\n  '#364fc7',\n  '#9775fa',\n  '#7950f2',\n  '#5f3dc4',\n  '#ff8787',\n  '#fa5252',\n  '#c0392b',\n  '#4dabf7',\n  '#3498db',\n  '#1864ab',\n  '#2ecc71',\n  '#27ae60',\n  '#16a085',\n  '#ffd43b',\n  '#fab005',\n  '#e67e22',\n  '#3bc9db',\n  '#15aabf',\n  '#0b7285',\n  '#a9e34b',\n  '#82c91e',\n  '#5c940d',\n  '#f39c12',\n  '#fd7e14',\n  '#e74c3c',\n];\n\nexport const LANGUAGES: Language[] = [\n  { name: 'English', locale: 'en' },\n  { name: 'Spanish', locale: 'es' },\n  { name: 'Russian', locale: 'ru' },\n  { name: 'Chinese', locale: 'zh' },\n  { name: 'French', locale: 'fr' },\n  { name: 'Ukrainian', locale: 'uk' },\n  { name: 'Portuguese', locale: 'pt' },\n];\n\nexport interface Language {\n  name: string;\n  locale: string;\n}\n\nexport const ESCAPE_KEYCODE = 27;\nexport const MAX_FOLDERS_COUNT = 5;\n\nexport const VALID_EMAIL_REGEX: any = /^(([^\\s\"(),.:;<>@[\\\\\\]]+(\\.[^\\s\"(),.:;<>@[\\\\\\]]+)*)|(\".+\"))@((\\[(?:\\d{1,3}\\.){3}\\d{1,3}])|(([\\dA-Za-z\\-]+\\.)+[A-Za-z]{2,}))$/;\n\nexport const FONTS = ['lato', 'roboto', 'arial', 'times-new-roman'];\nexport const AUTOSAVE_DURATION = ['none', '5000', '10000', '20000', '30000'];\n\nexport const REFFERAL_CODE_KEY = 'referral_code';\nexport const PROMO_CODE_KEY = 'promo_code';\nexport const REFFERAL_ID_KEY = 'cjevent';\nexport const JWT_AUTH_COOKIE = 'jwt_auth_cookie';\n\nexport const SummarySeparator = '';\nconst Quill: any = QuillNamespace;\n\nQuill.register('modules/imageResize', ImageResize);\n\nexport const QUILL_FORMATTING_MODULES = {\n  toolbar: [\n    ['bold', 'italic', 'underline', 'strike'], // toggled buttons\n    ['blockquote'],\n    [{ list: 'ordered' }, { list: 'bullet' }],\n    [{ indent: '-1' }, { indent: '+1' }], // outdent/indent\n    [{ direction: 'rtl' }], // text direction\n    [{ size: ['small', false, 'large', 'huge'] }], // custom dropdown\n    [{ color: COLORS }, { background: COLORS }], // dropdown with defaults from theme\n    [{ align: [] }],\n    ['clean'], // remove formatting button\n    ['link', 'image'], // link /not-allowed-in-simple-version(and image, video)\n  ],\n  imageResize: true,\n};\n\nfunction getBaseUrl() {\n  const config = getWindowConfig();\n  if (AppConfig.production) {\n    return config.host === 'mail.ctemplarpizuduxk3fkwrieizstx33kg5chlvrh37nz73pv5smsvl6ad.onion'\n      ? 'http://api.ctemplarpizuduxk3fkwrieizstx33kg5chlvrh37nz73pv5smsvl6ad.onion/'\n      : 'https://api.ctemplar.com/';\n  }\n  if (AppConfig.local) {\n    return 'http://127.0.0.1:8000/';\n  }\n  if (config.host === 'test.ctemplar.net') {\n    return 'https://testapi.ctemplar.net/';\n}\n  return 'https://devapi.ctemplar.net/';\n}\n\nexport function getWindowConfig(): { host: string; protocol: string } {\n  let { protocol } = window.location;\n  let { host } = location;\n  if (IS_ELECTRON || location.hostname === 'localhost') {\n    protocol = 'https:';\n    host = AppConfig.production ? 'mail.ctemplar.com' : 'dev.ctemplar.net';\n  }\n  return { host, protocol };\n}\n\nexport const darkModeCss =\n  '.mailbox-sidebar-inner .mailbox-sidebar-footer,aside#mailbox-sidebar{background:#151e34;border-right:2px solid #323a4c}nav.navbar.mailbox-navbar{background:#20273e;border:0;border-bottom:1px solid #323a4c}.mail-contact .mail-list-row,div.mail-list-row,div.mail-list-row.is-read,div.mail-list-row.is-selected,div.mail-list-row.is-unread,tr.mail-list-row,tr.mail-list-row.is-read,tr.mail-list-row.is-selected,tr.mail-list-row.is-unread{background:#20273e!important;color:#fff!important;border-bottom:1px solid #323a4c!important}.mail-contact-body.is-bordered,.mail-contact-header.mail-list-row{border:1px solid #323a4c!important}tr.mail-list-row.is-selected{background:#373c50!important} .mail-controls div.mail-result-text.text-muted>small,.mailbox-footer-menu a u,.plan-details .subscription,.pricing-plans .plan-item div,.setting-actions-list a i,.text-dark,.text-gray-dark,.text-secondary,::after,::before,a.dropdown-item,a.text-dark:focus,a.text-dark:hover,a.text-gray-dark:focus,a.text-gray-dark:hover,a.text-muted,a.text-muted:hover,ngb-datepicker div.ngb-dp-months div ngb-datepicker-month-view div.ngb-dp-week .ngb-dp-weekday{color:#fff!important}.mail-list-row.is-unread .mail-from-name,.mail-list-row.is-unread .mail-subject{font-size:15px}.mailbox-actionbar{border-bottom:1px solid #323a4c!important}.mail-checkbox .mat-checkbox .mat-checkbox-frame,.mat-checkbox-checked.mat-accent .mat-checkbox-background,.mat-checkbox-indeterminate.mat-accent .mat-checkbox-background,.select-all-checkbox .mat-checkbox .mat-checkbox-frame{border:2px solid #fff!important}.input-group-addon,.search-form div.form-group{border:1px solid #474e61!important}.search-form .search-btn{background:#182034;border:0}.bitcoin-payment.card,.bitcoin-payment.card .card-header,.domain-body .domains-list .row .actions .action:hover,.domains-list,.download-attachment-wrapper .download-attachment,.dropdown-menu,.form-control,.help-icon .icon-button,.info-card,.info-list-item,.mail-compose-field,.mailbox-actionbar .mailbox-actionbar-menu>li>a,.mailbox-actionbar-menu>li .dropdown-toggle,.mailbox-dropdown .dropdown-menu,.mailbox-dropdown .dropdown-menu a.dropdown-item:active,.mailbox-dropdown .dropdown-menu a.dropdown-item:focus,.mailbox-dropdown .dropdown-menu a.dropdown-item:hover,.mat-stepper-horizontal,.mat-stepper-vertical,.modal-body,.modal-footer,.modal-header,.nav-tabs.nav .nav-link,.nav-tabs.nav li,.nav.nav-tabs,.plan-details .desc-card-body,.pricing-plans .plan-item,.pricing-plans .plan-sub-item,.stepper-form,.timezone-option,.ui-list-item,app-mail-header .mailbox-actions-menu>li a,app-mail-settings .timezone-block .mat-form-field-appearance-legacy .mat-form-field-infix,app-organization-users .actions,app-organization-users .actions:hover,button.actions-btn,button.btn.btn-default.btn-sm,button.btn.btn-user-action,button.dropdown-toggle,div.mailbox-actionbar div.mail-nav-control button,input,input::placeholder,textarea,textarea::placeholder{background:#363d51!important;border:solid 1px #474e61!important;color:#fff!important}.help-icon .icon-button:hover,.input-group-addon,.mailbox-actionbar .mailbox-actionbar-menu>li>a:hover,app-generic-folder div.mailbox-actionbar div.mail-nav-control button:hover,app-mail-header .mailbox-actions-menu>li a:hover{border:solid 1px #394061!important}.mailbox-dropdown .dropdown-menu a.dropdown-item,.ui-header.border-all-corner{border:solid 1px #363d51!important}input,input::placeholder,textarea,textarea::placeholder{border:0!important}.nav-tabs.nav .nav-link.active,.nav-tabs.nav .nav-link:hover,.nav-tabs.nav li:hover,.nav.nav-tabs:hover{background:#182034!important}.progress-secondary .progress-bar{background-color:#c0392b!important}.bg-faded,.bg-light,.bg-white,.mailbox-footer{background:#363d51!important}.pricing-plans .plan-item .select-btn{box-shadow:5px 10px 10px #151e35!important}.mail-compose-field button{border:0!important}.loading,app-compose-mail .mail-compose-box-inner,app-compose-mail .mail-compose-editable-box,app-compose-mail .mail-composer-footer,app-compose-mail .ng2-menu-item,app-compose-mail tag,ul.mail-composer-actions li div div div ul li button.ql-font,ul.mail-composer-actions li div div div ul li button.ql-size{background:#363d51!important}app-users-sign-in .input-group{border:1px solid #fff;border-radius:5px}app-users-sign-in .password-toggle{border:0}app-mail-detail .mail-content *{background:unset!important} app-compose-mail .ng2-dropdown-menu.ng2-dropdown-menu--inside-element { background: #363d51 !important } .mailbox-main-content, .mail-contact-header{background: #20273e!important} .ui-body li,.ui-body label, .tab-content *,.mail-composer-body *,table.table-inbox *, .mail-contact-header *{color:#fff!important} .msg-reply-content>*:not(style):not(title):not(meta):not(img){background:#fff!important}';\n","import { Directive, ElementRef, Output, EventEmitter, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[clickOutside]',\n})\nexport class ClickOutsideDirective {\n  constructor(private elementReference: ElementRef) {}\n\n  @Output()\n  public clickOutside = new EventEmitter<MouseEvent>();\n\n  @HostListener('document:click', ['$event', '$event.target'])\n  public onClick(event: MouseEvent, targetElement: HTMLElement): void {\n    if (!targetElement) {\n      return;\n    }\n\n    const clickedInside = this.elementReference.nativeElement.contains(targetElement);\n    if (!clickedInside) {\n      this.clickOutside.emit(event);\n    }\n  }\n}\n","import { Directive, ViewContainerRef, TemplateRef, Input } from '@angular/core';\n\nimport { BrowserDetectorService } from '../services/browser-detector.service';\n\n@Directive({\n  selector: '[showInIE]',\n})\nexport class IsIeDirective {\n  constructor(\n    private templateReference: TemplateRef<any>,\n    private viewContainer: ViewContainerRef,\n    private browserDetector: BrowserDetectorService,\n  ) {}\n\n  @Input()\n  set showInIE(value) {\n    if (value) {\n      if (this.browserDetector.isIEBrowser()) {\n        this.viewContainer.createEmbeddedView(this.templateReference);\n      } else {\n        this.viewContainer.clear();\n      }\n    } else if (!this.browserDetector.isIEBrowser()) {\n      this.viewContainer.createEmbeddedView(this.templateReference);\n    } else {\n      this.viewContainer.clear();\n    }\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-loading-spinner',\n  templateUrl: './loading-spinner.component.html',\n  styleUrls: ['./loading-spinner.component.scss'],\n})\nexport class LoadingSpinnerComponent implements OnInit {\n  @Input() showSpinner: boolean;\n\n  @Input() optionalClasses = '';\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","<div class=\"loader {{ optionalClasses }}\" *ngIf=\"showSpinner\">\n  <svg version=\"1.1\" id=\"loader-1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"40px\" height=\"40px\" viewBox=\"0 0 50 50\" style=\"enable-background: new 0 0 50 50\" xml:space=\"preserve\">\n    <path fill=\"#000\" d=\"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z\">\n      <animateTransform attributeType=\"xml\" attributeName=\"transform\" type=\"rotate\" from=\"0 25 25\" to=\"360 25 25\" dur=\"0.6s\" repeatCount=\"indefinite\" />\n    </path>\n  </svg>\n</div>\n","import { Component, OnInit, Input } from '@angular/core';\n\nimport { LOADING_IMAGE } from '../../store/services';\n\n@Component({\n  selector: 'app-loading',\n  templateUrl: './loading.component.html',\n  styleUrls: ['./loading.component.scss'],\n})\nexport class LoadingComponent implements OnInit {\n  @Input('isLoading') isLoading?: boolean;\n\n  @Input('quote') quote?: any;\n\n  loadingImage = LOADING_IMAGE;\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","<div class=\"loading\" style=\"position: fixed; top: 0; right: 0; bottom: 0; left: 0; z-index: 9999; display: flex; align-items: center; justify-content: center; background: #3a4e63; width: 100%; height: 100%\" [hidden]=\"!isLoading\">\n  <div>\n    <img class=\"logo\" style=\"width: 400px; height: 300px\" [src]=\"loadingImage | safe: 'url'\" />\n    <p class=\"quote\">{{ quote.content }}</p>\n    <p class=\"author\">{{ quote.author }}</p>\n  </div>\n</div>\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'creditcardnumber',\n})\nexport class CreditCardNumberPipe implements PipeTransform {\n  transform(plainCreditCard: string): string {\n    const defaultCardNumberLength = 16;\n    if (plainCreditCard.length < 16) {\n      plainCreditCard = plainCreditCard.padStart(defaultCardNumberLength, '0');\n    }\n    return plainCreditCard\n      .replace(/\\s+/g, '')\n      .replace(/(\\d{4})/g, '$1 ')\n      .replace(/\\d{4}(?= \\d{4})/g, 'xxxx')\n      .trim();\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'emailFormat',\n})\nexport class EmailFormatPipe implements PipeTransform {\n  static transformToFormattedEmail(email: string, displayName: string = '', isHtmlFormat: boolean = false) {\n    if (!email) return '';\n    let formattedEmail = email.toLowerCase().trim();\n    if (!displayName || displayName === formattedEmail.split('@')[0]) {\n      return formattedEmail;\n    } else if (isHtmlFormat) {\n      return `${displayName.trim()}&nbsp;&lt;${formattedEmail}&gt;`;\n    } else {\n      return `${displayName.trim()} <${formattedEmail}>`;\n    }\n  }\n  transform(email: string, displayName: string = '', isHtmlFormat: boolean = false): string {\n    return EmailFormatPipe.transformToFormattedEmail(email, displayName, isHtmlFormat);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'filename',\n})\nexport class FilenamePipe implements PipeTransform {\n  static tranformToFilename(value: any) {\n    if (!value) {\n      return value;\n    }\n\n    const filePathTokens = value.split('/');\n    return filePathTokens[filePathTokens.length - 1];\n  }\n\n  transform(value: any, arguments_?: any): any {\n    return FilenamePipe.tranformToFilename(value);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'filesize',\n})\nexport class FilesizePipe implements PipeTransform {\n  private units = ['B', 'KB', 'MB', 'GB', 'TB'];\n\n  transform(bytes: any, preferredUnit?: any, precision = 2): any {\n    if (isNaN(Number.parseFloat(String(bytes))) || !isFinite(bytes)) {\n      return '?';\n    }\n\n    let unit = 0;\n\n    // Check if preferred unit exist preset the unit\n    if (preferredUnit && this.units.includes(preferredUnit)) {\n      while (this.units[unit] !== preferredUnit) {\n        unit++;\n      }\n    }\n\n    while (bytes >= 1024) {\n      bytes /= 1024;\n\n      if (!preferredUnit) {\n        unit++;\n      }\n    }\n\n    return `${bytes.toFixed(+precision)} ${this.units[unit]}`;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\nimport { MailAction } from '../../store/datatypes';\n\n@Pipe({\n  name: 'lastAction',\n})\nexport class LastActionPipe implements PipeTransform {\n  transform(value: MailAction, ...arguments_: any[]): any {\n    switch (value) {\n      case MailAction.FORWARD:\n        return 'share';\n      case MailAction.REPLY_ALL:\n        return 'reply-all';\n      default:\n        return value.toLowerCase();\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport * as moment from 'moment-timezone';\n\nimport { DateTimeUtilService } from '../../store/services/datetime-util.service';\n\n@Pipe({\n  name: 'momentDate',\n})\nexport class MomentDatePipe implements PipeTransform {\n  constructor(private dateTimeUtilService: DateTimeUtilService) {}\n\n  transform(value: string, format = 'mediumDate', timezone?: string): string {\n    if (value) {\n      if (format === 'mail-list') {\n        format = moment().isSame(moment(value), 'day') ? 'HH:mm' : 'MMM D';\n      }\n      return this.dateTimeUtilService.formatDateTimeStr(value, format, timezone);\n    }\n    return '';\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport * as moment from 'moment-timezone';\n\n@Pipe({\n  name: 'remainingTime',\n})\nexport class RemainingTimePipe implements PipeTransform {\n  transform(value: any, hoursOnly = false): any {\n    if (!value) {\n      return '';\n    }\n\n    if (hoursOnly) {\n      return this.getTimeRemainingFromHours(value);\n    }\n\n    return this.getTimeRemaining(value);\n  }\n\n  private getTimeRemainingFromHours(hours) {\n    const seconds = hours * 60 * 60;\n    return this.getFormattedTime(seconds);\n  }\n\n  private getTimeRemaining(date) {\n    const now = moment();\n    const end = moment(date);\n    const duration = moment.duration(end.diff(now));\n    const seconds = duration.asSeconds();\n\n    return this.getFormattedTime(seconds);\n  }\n\n  private getFormattedTime(seconds) {\n    if (seconds < 0) {\n      return 'progress';\n    }\n    const days = Math.floor(seconds / (3600 * 24));\n    seconds -= days * 3600 * 24;\n    const hrs = Math.floor(seconds / 3600);\n    seconds -= hrs * 3600;\n    const mnts = Math.floor(seconds / 60);\n    seconds -= hrs * 3600;\n    return `${days}d ${this.padLeft(hrs)}:${this.padLeft(mnts)}`;\n  }\n\n  private padLeft(number, size = 2) {\n    let s = `${number}`;\n    while (s.length < size) {\n      s = `0${s}`;\n    }\n    return s;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'linebreaktobrtag',\n})\nexport class LineBreakToBrTag implements PipeTransform {\n  transform(mailContent: string): string {\n    mailContent = mailContent.replace(new RegExp('\\r?\\n', 'g'), '<br />');\n    return mailContent;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeUrl } from '@angular/platform-browser';\nimport * as xss from 'xss';\nimport * as cssfilter from 'cssfilter';\nimport * as juice from 'juice';\n\nimport { apiUrl, PRIMARY_DOMAIN } from '../config';\n\n@Pipe({\n  name: 'safe',\n})\nexport class SafePipe implements PipeTransform {\n  static hasExternalImages: boolean;\n\n  constructor(private sanitizer: DomSanitizer) {}\n\n  public transform(value: any, type = '', disableExternalImages?: boolean, fromEmail?: string): SafeHtml | SafeUrl {\n    switch (type.toLowerCase()) {\n      case 'html':\n        value = this.removeTitle(value);\n        const cssFilter = new cssfilter.FilterCSS({\n          onIgnoreAttr: (styleName, styleValue, options) => {\n            const blackList = {\n              position: ['fixed'],\n            };\n            if (blackList.hasOwnProperty(styleName)) {\n              const blackValueList = blackList[styleName];\n              const value_ = styleValue.replace(/!important/g, '').trim();\n              if (blackValueList.includes(value_)) {\n                return '';\n              }\n            }\n            const safeAttributeValue = cssfilter.safeAttrValue(styleName, styleValue);\n            if (safeAttributeValue) {\n              return `${styleName}:${safeAttributeValue}`;\n            }\n            return '';\n          },\n        });\n        // @ts-ignore\n        let xssValue = xss(value, {\n          stripIgnoreTag: true,\n          stripIgnoreTagBody: ['script', 'style'],\n          onTag: (tag, html, options) => {\n            if (tag === 'a' && !(options && options.isClosing === true)) {\n              let htmlAttributes = '';\n\n              // \"<a href='' target=''>\" => \"href='' target=''\"\n              const reg = /\\s/;\n              const match = reg.exec(html);\n              const i = match ? match.index : -1;\n              if (i !== -1) {\n                htmlAttributes = html.slice(i + 1, -1).trim();\n              }\n\n              let containsTargetAttribute = false;\n              let attributesHtml = xss.parseAttr(htmlAttributes, (attributeName, attributeValue) => {\n                if (attributeName === 'target') {\n                  containsTargetAttribute = true;\n                  return `${attributeName}=\"_blank\"`;\n                }\n\n                // call `onTagAttr()`\n                const whiteList = xss.getDefaultWhiteList();\n                const whiteAttributeList = whiteList[tag] || [];\n                whiteAttributeList.push('style');\n                const isWhiteAttribute = whiteAttributeList.includes(attributeName);\n                const returnValue1 = xss.onTagAttr(tag, attributeName, attributeValue, isWhiteAttribute) || '';\n                if (returnValue1 !== '') {\n                  return returnValue1;\n                }\n\n                if (isWhiteAttribute) {\n                  // call `safeAttrValue()`\n                  attributeValue = xss.safeAttrValue(tag, attributeName, attributeValue, cssFilter);\n                  if (attributeValue) {\n                    return `${attributeName}=\"${attributeValue}\"`;\n                  }\n                  return attributeName;\n                }\n                // call `onIgnoreTagAttr()`\n                const returnValue2 = xss.onIgnoreTagAttr(tag, attributeName, attributeValue, isWhiteAttribute) || '';\n                return returnValue2;\n              });\n\n              if (!containsTargetAttribute) {\n                attributesHtml += ' target=\"_blank\"';\n              }\n\n              let outputHtml = `<${tag}`;\n              if (attributesHtml) {\n                outputHtml += ` ${attributesHtml}`;\n              }\n              outputHtml += '>';\n              return outputHtml;\n            }\n          },\n          onIgnoreTagAttr: (tag, attributeName, attributeValue, isWhiteAttribute) => {\n            if (attributeName === 'style' || attributeName === 'bgcolor') {\n              const safeAttributeValue = xss.safeAttrValue(tag, attributeName, attributeValue, cssFilter);\n              return `${attributeName}=\"${safeAttributeValue}\"`;\n            }\n            if (\n              attributeName === 'class' &&\n              (attributeValue === 'gmail_quote ctemplar_quote' || attributeValue === 'gmail_quote')\n            ) {\n              return `${attributeName}=\"${attributeValue}\"`;\n            }\n          },\n          onTagAttr: (tag, attributeName, attributeValue, isWhiteAttribute) => {\n            if (tag === 'img' && attributeName === 'src' && attributeValue.indexOf('data:image/png;base64,') === 0) {\n              return `${attributeName}=\"${xss.friendlyAttrValue(attributeValue)}\"`;\n            }\n            if (disableExternalImages && tag === 'img' && attributeName === 'src') {\n              if (\n                !(attributeValue.indexOf(`https://${PRIMARY_DOMAIN}`) === 0 || attributeValue.indexOf(apiUrl) === 0)\n              ) {\n                SafePipe.hasExternalImages = true;\n                return `${attributeName}=\"\"`;\n              }\n            }\n            // Return nothing, means keep the default handling measure\n          },\n        });\n        xssValue = this.replaceLinksInText(xssValue);\n        return this.sanitizer.bypassSecurityTrustHtml(xssValue);\n      case 'url':\n        return this.sanitizer.bypassSecurityTrustUrl(value);\n      case 'sanitize':\n        // Move style from style tag to inline style\n        value = juice(value);\n        // Sanitize Mail\n        value = this.processSanitization(value, disableExternalImages);\n        return this.sanitizer.bypassSecurityTrustHtml(value);\n      default:\n        throw new Error(`Invalid safe type specified: ${type}`);\n    }\n  }\n\n  processSanitization(value: string, disableExternalImages: boolean) {\n    const allowedTags = {\n      a: [],\n      b: [],\n      br: [],\n      div: [],\n      font: [],\n      h1: [],\n      h2: [],\n      h3: [],\n      h4: [],\n      h5: [],\n      h6: [],\n      hr: [],\n      img: [],\n      label: [],\n      li: [],\n      ol: [],\n      p: [],\n      span: [],\n      strong: [],\n      table: [],\n      td: [],\n      th: [],\n      tr: [],\n      u: [],\n      ul: [],\n      i: [],\n    };\n    const headingAttributes = ['align', 'dir', 'id', 'style'];\n    const allowedAttributes = {\n      a: ['href', 'style', 'target'],\n      b: ['style'],\n      br: ['style'],\n      div: ['align', 'dir', 'style'],\n      font: ['color', 'face', 'size', 'style'],\n      h1: headingAttributes,\n      h2: headingAttributes,\n      h3: headingAttributes,\n      h4: headingAttributes,\n      h5: headingAttributes,\n      h6: headingAttributes,\n      hr: ['align', 'size', 'width'],\n      img: ['align', 'border', 'height', 'hspace', 'src', 'style', 'usemap', 'vspace', 'width'],\n      label: ['id', 'style'],\n      li: ['dir', 'style', 'type'],\n      ol: ['dir', 'style', 'type'],\n      p: ['align', 'dir', 'style'],\n      span: ['style'],\n      strong: ['style'],\n      table: ['align', 'bgcolor', 'border', 'cellpadding', 'cellspacing', 'dir', 'frame', 'rules', 'style', 'width'],\n      td: [\n        'abbr',\n        'align',\n        'bgcolor',\n        'colspan',\n        'dir',\n        'height',\n        'lang',\n        'rowspan',\n        'scope',\n        'style',\n        'valign',\n        'width',\n      ],\n      th: [\n        'abbr',\n        'align',\n        'background',\n        'bgcolor',\n        'colspan',\n        'dir',\n        'height',\n        'lang',\n        'scope',\n        'style',\n        'valign',\n        'width',\n      ],\n      tr: ['align', 'bgcolor', 'dir', 'style', 'valign'],\n      u: ['style'],\n      ul: ['dir', 'style'],\n    };\n    // @ts-ignore\n    value = xss(value, {\n      whiteList: allowedTags,\n      stripIgnoreTag: true,\n      stripIgnoreTagBody: ['script', 'style'],\n      onIgnoreTagAttr: (tag, name, attribute, isWhiteAttribute) => {\n        if (name !== 'class') {\n          // get attr whitelist for specific tag\n          const attributeWhitelist = allowedAttributes[tag];\n          // if the current attr is whitelisted, should be added to tag\n          if (attributeWhitelist.includes(name)) {\n            if (disableExternalImages && tag === 'img' && name === 'src') {\n              if (!(attribute.indexOf(`https://${PRIMARY_DOMAIN}`) === 0 || attribute.indexOf(apiUrl) === 0)) {\n                SafePipe.hasExternalImages = true;\n                return `${attribute}=\"\"`;\n              }\n            }\n            return `${name}=\"${xss.escapeAttrValue(attribute)}\"`;\n          }\n        }\n      },\n    });\n    return value;\n  }\n\n  replaceLinksInText(inputText: string) {\n    if (!/<[a-z][\\S\\s]*>/i.test(inputText)) {\n      if (typeof inputText === 'string') {\n        // http://, https://, ftp://\n        const urlPattern = /\\b(?:https?|ftp):\\/\\/[\\w!#%&+,./:;=?@|~-]*[\\w#%&+/=@|~-]/gim;\n\n        // www. sans http:// or https://\n        const pseudoUrlPattern = /(^|[^/])(www\\.\\S+(\\b|$))/gim;\n\n        // Email addresses\n        const emailAddressPattern = /[\\w.]+@[_a-z-]+?(?:\\.[a-z]{2,6})+/gim;\n\n        inputText = inputText\n          .replace(urlPattern, '<a target=\"_blank\" rel=\"noopener\" href=\"$&\">$&</a>')\n          .replace(pseudoUrlPattern, '$1<a target=\"_blank\" rel=\"noopener\" href=\"http://$2\">$2</a>')\n          .replace(emailAddressPattern, '<a target=\"_blank\" rel=\"noopener\" href=\"mailto:$&\">$&</a>');\n      }\n      inputText = inputText.replace(/\\n/g, '<br>');\n    }\n    return inputText;\n  }\n\n  private removeTitle(value: string) {\n    const element = document.createElement('div');\n    element.innerHTML = value;\n    if (element.querySelectorAll('title').length > 0) {\n      element.querySelectorAll('title')[0].innerText = '';\n      return element.innerHTML;\n    }\n    return value;\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-progress-bar',\n  templateUrl: './progress-bar.component.html',\n  styleUrls: ['./progress-bar.component.scss'],\n})\nexport class ProgressBarComponent implements OnInit {\n  @Input() active: boolean;\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","<div class=\"loader\" *ngIf=\"active\"></div>\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class BrowserDetectorService {\n  constructor() {}\n\n  isIEBrowser() {\n    return !!this.checkIEVersion();\n  }\n\n  private checkIEVersion() {\n    // Ref: https://stackoverflow.com/a/46116505/3502008\n    const ua = window.navigator.userAgent;\n\n    const msie = ua.indexOf('MSIE ');\n    if (msie > 0) {\n      // IE 10 or older => return version number\n      return Number.parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n    }\n\n    const trident = ua.indexOf('Trident/');\n    if (trident > 0) {\n      // IE 11 => return version number\n      const rv = ua.indexOf('rv:');\n      return Number.parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n    }\n\n    // other browser\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { AppConfig } from '../../../environments/environment';\n\ninterface Scripts {\n  name: string;\n  src: string;\n}\n\nexport const ScriptStore: Scripts[] = [{ name: 'stripe', src: 'https://js.stripe.com/v2/' }];\n\ndeclare let document: any;\n\n@Injectable()\nexport class DynamicScriptLoaderService {\n  private scripts: any = {};\n\n  constructor() {\n    if (AppConfig.production) {\n      ScriptStore.push({ name: 'stripe-key', src: 'assets/js/stripe-key.js' });\n    } else {\n      ScriptStore.push({ name: 'stripe-key', src: 'assets/js/stripe-test-key.js' });\n    }\n    ScriptStore.forEach((script: any) => {\n      this.scripts[script.name] = {\n        loaded: false,\n        src: script.src,\n      };\n    });\n  }\n\n  load(...scripts: string[]) {\n    const promises: any[] = [];\n    scripts.forEach(script => promises.push(this.loadScript(script)));\n    return Promise.all(promises);\n  }\n\n  loadScript(name: string) {\n    return new Promise((resolve, reject) => {\n      if (!this.scripts[name].loaded) {\n        const script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = this.scripts[name].src;\n        script.id = name;\n\n        script.addEventListener('load', () => {\n          this.scripts[name].loaded = true;\n          resolve({ script: name, loaded: true, status: 'Loaded' });\n        });\n        script.addEventListener('error', (error: any) => resolve({ script: name, loaded: false, status: 'Loaded' }));\n        document.querySelectorAll('head')[0].append(script);\n      } else {\n        resolve({ script: name, loaded: true, status: 'Already Loaded' });\n      }\n    });\n  }\n\n  removeStripeFromDOM() {\n    if (document.querySelectorAll('iframe')[0]) {\n      document.querySelectorAll('body')[0].removeChild(document.querySelectorAll('iframe')[0]);\n      this.removeStripeFromDOM();\n    } else {\n      if (this.scripts.stripe.loaded && document.querySelector('#stripe')) {\n        document.querySelectorAll('head')[0].removeChild(document.querySelector('#stripe'));\n        this.scripts.stripe.loaded = false;\n      }\n      if (this.scripts['stripe-key'].loaded && document.querySelector('#stripe-key')) {\n        document.querySelectorAll('head')[0].removeChild(document.querySelector('#stripe-key'));\n        this.scripts['stripe-key'].loaded = false;\n      }\n    }\n  }\n}\n","import { AppConfig } from '../../../environments/environment';\n\nexport class LoggerService {\n  constructor() {}\n\n  public static log(message?: any, ...optionalParameters: any[]) {\n    if (AppConfig.production === false) {\n      console.log(message, optionalParameters);\n    }\n  }\n\n  public static error(message?: any, ...optionalParameters: any[]) {\n    if (AppConfig.production === false) {\n      console.error(message, optionalParameters);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/internal/Observable';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PushNotificationService {\n  public permission: Permission;\n\n  constructor() {\n    this.permission = this.isSupported() ? 'default' : 'denied';\n  }\n\n  public isSupported(): boolean {\n    return 'Notification' in window;\n  }\n\n  isGranted() {\n    return this.permission === 'granted';\n  }\n\n  requestPermission(): void {\n    const self = this;\n    if ('Notification' in window) {\n      Notification.requestPermission(function (status) {\n        return (self.permission = status);\n      });\n    }\n  }\n\n  create(title: string, options?: PushNotificationOptions): any {\n    const self = this;\n    return new Observable(function (obs) {\n      if (!('Notification' in window)) {\n        console.log('Notifications are not available in this environment');\n        obs.complete();\n      }\n      if (self.permission !== 'granted') {\n        console.log(\"The user hasn't granted you permission to send push notifications\");\n        obs.complete();\n      }\n      const _notify = new Notification(title, options);\n      _notify.addEventListener('show', function (e) {\n        return obs.next({\n          notification: _notify,\n          event: e,\n        });\n      });\n      _notify.addEventListener('click', function (e) {\n        return obs.next({\n          notification: _notify,\n          event: e,\n        });\n      });\n      _notify.addEventListener('error', function (e) {\n        return obs.error({\n          notification: _notify,\n          event: e,\n        });\n      });\n      _notify.onclose = function () {\n        return obs.complete();\n      };\n    });\n  }\n\n  generateNotification(source: Array<any>): void {\n    const self = this;\n    source.forEach(item => {\n      const options = {\n        body: item.alertContent,\n        icon: '../resource/images/bell-icon.png',\n      };\n      const notify = self.create(item.title, options).subscribe();\n    });\n  }\n}\n\nexport declare type Permission = 'denied' | 'granted' | 'default';\n\nexport class PushNotificationOptions {\n  body?: string;\n\n  icon?: string;\n\n  tag?: string;\n\n  data?: any;\n\n  renotify?: boolean;\n\n  silent?: boolean;\n\n  sound?: string;\n\n  noscreen?: boolean;\n\n  sticky?: boolean;\n\n  dir?: 'auto' | 'ltr' | 'rtl';\n\n  lang?: string;\n\n  vibrate?: number[];\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, UserState, AuthState } from '../../store/datatypes';\nimport { WebSocketNewMessage } from '../../store/websocket.store';\nimport { Logout } from '../../store/actions';\nimport { Mail } from '../../store/models';\nimport { apiUrl } from '../config';\n\nimport { LoggerService } from './logger.service';\n\n@UntilDestroy()\n@Injectable()\nexport class WebsocketService implements OnDestroy {\n  private webSocket: WebSocket;\n\n  private retryCount = 1;\n\n  private userId: number = Date.now();\n\n  private isAuthenticated = false;\n\n  constructor(private store: Store<AppState>) {\n    this.store\n      .select(state => state.user)\n      .pipe(untilDestroyed(this))\n      .subscribe((userState: UserState) => {\n        this.userId = userState.id ? userState.id : this.userId;\n      });\n\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        this.isAuthenticated = authState.isAuthenticated;\n      });\n  }\n\n  public connect() {\n    const url = `${apiUrl.replace('http', 'ws')}connect/?user_id=${this.userId}`;\n    this.webSocket = new WebSocket(url);\n    this.webSocket.onmessage = response => {\n      const data = JSON.parse(response.data);\n      LoggerService.log('Web socket event:', data);\n      if (data.logout === true || data.reason === 'INVALID_TOKEN') {\n        this.disconnect();\n        this.store.dispatch(new Logout(data));\n      } else {\n        this.store.dispatch(new WebSocketNewMessage(data));\n      }\n    };\n\n    this.webSocket.onclose = e => {\n      if (this.isAuthenticated) {\n        LoggerService.log(\n          `Socket is closed. Reconnect will be attempted in ${1000 + this.retryCount * 1000} second. ${e.reason}`,\n        );\n        setTimeout(() => {\n          this.connect();\n          this.retryCount += 1;\n        }, 1000 + this.retryCount * 1000);\n      } else {\n        LoggerService.log('Socket is closed.');\n      }\n    };\n\n    this.webSocket.addEventListener('error', (error: any) => {\n      LoggerService.error('Socket encountered error: ', error.message, 'Closing socket');\n      this.webSocket.close();\n    });\n  }\n\n  public disconnect() {\n    if (this.webSocket) {\n      this.webSocket.close();\n      this.webSocket = null;\n    }\n  }\n\n  ngOnDestroy(): void {}\n}\n\nexport interface Message extends Object {\n  id: number;\n  folder: string;\n  parent_id?: number;\n  mail: Mail;\n  total_count?: number;\n  marked_as_read?: boolean;\n  is_outbox_mail_sent?: boolean;\n  unread_count?: any;\n  folders: string[];\n\n  /**\n   * Id's list when a messsage is marked as read/unread.\n   */\n  ids?: Array<number>;\n  used_storage: number;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatIconModule } from '@angular/material/icon';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { TagInputModule } from 'ngx-chips';\n\nimport { CreateFolderComponent } from '../mail/dialogs/create-folder/create-folder.component';\nimport { PaymentFailureNoticeComponent } from '../mail/dialogs/payment-failure-notice/payment-failure-notice.component';\n\nimport { UsersBillingInfoComponent } from './components/users-billing-info/users-billing-info.component';\nimport { SpinnerComponent } from './spinner/components/spinner.component';\nimport { SpinnerService } from './spinner/services/spinner.service';\nimport { SpinnerImageComponent } from './spinner-image/spinner-image.component';\nimport { LoadingComponent } from './loading/loading.component';\nimport { LoadingSpinnerComponent } from './loading-spinner/loading-spinner.component';\nimport { SafePipe } from './pipes/safe.pipe';\nimport { ProgressBarComponent } from './progress-bar/progress-bar.component';\nimport { DynamicScriptLoaderService } from './services/dynamic-script-loader.service';\nimport { FilenamePipe } from './pipes/filename.pipe';\nimport { PricingPlansComponent } from './components/pricing-plans/pricing-plans.component';\nimport { FilesizePipe } from './pipes/filesize.pipe';\nimport { RemainingTimePipe } from './pipes/remaining-time.pipe';\nimport { ClickOutsideDirective } from './directives/click-outside.directive';\nimport { CountdownTimerComponent } from './components/countdown-timer/countdown-timer.component';\nimport { BrowserDetectorService } from './services/browser-detector.service';\nimport { IsIeDirective } from './directives/is-ie.directive';\nimport { MomentDatePipe } from './pipes/moment-date.pipe';\nimport { StripeFormComponent } from './components/stripe-form/stripe-form.component';\nimport { BitcoinFormComponent } from './components/bitcoin-form/bitcoin-form.component';\nimport { LastActionPipe } from './pipes/last-action.pipe';\nimport { CreditCardNumberPipe } from './pipes/creditcard-number.pipe';\nimport { EmailFormatPipe } from './pipes/email-formatting.pipe';\nimport { LineBreakToBrTag } from './pipes/replace-linebreak-brtag.pipe';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, TranslateModule, TagInputModule, MatIconModule, NgbModule],\n  declarations: [\n    SpinnerComponent,\n    SpinnerImageComponent,\n    LoadingComponent,\n    LoadingSpinnerComponent,\n    SafePipe,\n    ProgressBarComponent,\n    FilenamePipe,\n    PricingPlansComponent,\n    UsersBillingInfoComponent,\n    FilesizePipe,\n    RemainingTimePipe,\n    ClickOutsideDirective,\n    CountdownTimerComponent,\n    IsIeDirective,\n    MomentDatePipe,\n    StripeFormComponent,\n    BitcoinFormComponent,\n    CreateFolderComponent,\n    PaymentFailureNoticeComponent,\n    LastActionPipe,\n    CreditCardNumberPipe,\n    LineBreakToBrTag,\n    EmailFormatPipe\n  ],\n  exports: [\n    TranslateModule,\n    SpinnerComponent,\n    LoadingComponent,\n    SpinnerImageComponent,\n    LoadingSpinnerComponent,\n    SafePipe,\n    LastActionPipe,\n    TagInputModule,\n    ProgressBarComponent,\n    FilenamePipe,\n    MatIconModule,\n    PricingPlansComponent,\n    UsersBillingInfoComponent,\n    FilesizePipe,\n    RemainingTimePipe,\n    ClickOutsideDirective,\n    CountdownTimerComponent,\n    IsIeDirective,\n    MomentDatePipe,\n    StripeFormComponent,\n    CreateFolderComponent,\n    PaymentFailureNoticeComponent,\n    CreditCardNumberPipe,\n    LineBreakToBrTag,\n    EmailFormatPipe\n  ],\n  providers: [\n    SpinnerService,\n    DynamicScriptLoaderService,\n    BrowserDetectorService,\n    FilesizePipe,\n    FilenamePipe,\n    CreditCardNumberPipe,\n    LineBreakToBrTag,\n    EmailFormatPipe\n  ],\n  entryComponents: [CreateFolderComponent, PaymentFailureNoticeComponent],\n})\nexport class SharedModule {}\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-spinner-image',\n  templateUrl: './spinner-image.component.html',\n  styleUrls: ['./spinner-image.component.scss'],\n})\nexport class SpinnerImageComponent implements OnInit {\n  isLoaded = false;\n\n  @Input() src: string;\n\n  @Input() class: string;\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","<div class=\"loader-area\" [hidden]=\"isLoaded\">\n  <img src=\"assets/icons/spinner.svg\" />\n</div>\n<img [class]=\"class\" (load)=\"isLoaded = true\" [hidden]=\"!isLoaded\" [src]=\"src\" />\n","import { Component, OnInit, Input, OnDestroy, Output, EventEmitter } from '@angular/core';\n\nimport { SpinnerService } from '../services/spinner.service';\n\n@Component({\n  selector: 'app-spinner',\n  templateUrl: './spinner.component.html',\n  styleUrls: ['./spinner.component.scss'],\n})\nexport class SpinnerComponent implements OnInit, OnDestroy {\n  private isShowing = false;\n\n  @Input() name: string;\n\n  @Input() group: string;\n\n  @Input() loadingImage: string;\n\n  @Output() showChange = new EventEmitter();\n\n  @Input()\n  get show(): boolean {\n    return this.isShowing;\n  }\n\n  set show(value: boolean) {\n    this.isShowing = value;\n    this.showChange.emit(this.isShowing);\n  }\n\n  constructor(private spinnerService: SpinnerService) {}\n\n  ngOnInit() {\n    if (!this.name) {\n      throw new Error('Name attribute must be supplied for this spinner');\n    }\n\n    this.spinnerService.register(this);\n  }\n\n  ngOnDestroy(): void {\n    this.spinnerService.unregister(this);\n  }\n}\n","<div *ngIf=\"show\">\n  <img *ngIf=\"loadingImage\" [src]=\"loadingImage\" />\n  <ng-content></ng-content>\n</div>\n","import { Injectable } from '@angular/core';\n\nimport { SpinnerComponent } from '../components/spinner.component';\n\n@Injectable()\nexport class SpinnerService {\n  private spinnerCache = new Set<SpinnerComponent>();\n\n  constructor() {}\n\n  register(spinner: SpinnerComponent): void {\n    this.spinnerCache.add(spinner);\n  }\n\n  show(spinnerName: string): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.name === spinnerName) {\n        spinner.show = true;\n      }\n    });\n  }\n\n  hide(spinnerName: string): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.name === spinnerName) {\n        spinner.show = false;\n      }\n    });\n  }\n\n  showGroup(spinnerGroup: string): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.group === spinnerGroup) {\n        spinner.show = true;\n      }\n    });\n  }\n\n  hideGroup(spinnerGroup: string): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.group === spinnerGroup) {\n        spinner.show = false;\n      }\n    });\n  }\n\n  showAll(): void {\n    this.spinnerCache.forEach(spinner => (spinner.show = true));\n  }\n\n  hideAll(): void {\n    this.spinnerCache.forEach(spinner => (spinner.show = false));\n  }\n\n  isShowing(spinnerName: string): boolean | undefined {\n    let showing;\n    this.spinnerCache.forEach(spinner => {\n      if (spinner.name === spinnerName) {\n        showing = spinner.show;\n      }\n    });\n\n    return showing;\n  }\n\n  unregister(spinnerToRemove: SpinnerComponent): void {\n    this.spinnerCache.forEach(spinner => {\n      if (spinner === spinnerToRemove) {\n        this.spinnerCache.delete(spinner);\n      }\n    });\n  }\n}\n","import { Action } from '@ngrx/store';\n\nexport enum AuthActionTypes {\n  LOGIN = '[Auth] Login',\n  LOGIN_SUCCESS = '[Auth] Login Success',\n  LOGIN_FAILURE = '[Auth] Login Failure',\n  SIGNUP = '[Auth] Signup',\n  SIGNUP_SUCCESS = '[Auth] Signup Success',\n  SIGNUP_FAILURE = '[Auth] Signup Failure',\n  LOGOUT = '[Auth] Logout',\n  SAVE_DRAFT_ON_LOGOUT = '[Auth] Save Draft on Logout',\n  EXPIRE_SESSION = '[Auth] EXPIRE SESSION',\n  GET_STATUS = '[Auth] GetStatus',\n  UPDATE_SIGNUP_DATA = '[Auth] Update Signup Data',\n  CHECK_USERNAME_AVAILABILITY = '[Auth] Check Username Availability',\n  CHECK_USERNAME_AVAILABILITY_SUCCESS = '[Auth] Check Username Availability Success',\n  CHECK_USERNAME_AVAILABILITY_ERROR = '[Auth] Check Username Availability Error',\n  RECOVER_PASSWORD = '[Auth] Recover Password',\n  RECOVER_PASSWORD_SUCCESS = '[Auth] Recover Password Success',\n  RECOVER_PASSWORD_FAILURE = '[Auth] Recover Password Failure',\n  RESET_PASSWORD = '[Auth] Reset Password',\n  RESET_PASSWORD_SUCCESS = '[Auth] Reset Password Success',\n  RESET_PASSWORD_FAILURE = '[Auth] Reset Password Failure',\n  UPGRADE_ACCOUNT = '[Auth] Upgrade Account',\n  UPGRADE_ACCOUNT_SUCCESS = '[Auth] Upgrade Account Success',\n  UPGRADE_ACCOUNT_FAILURE = '[Auth] Upgrade Account Failure',\n  CHANGE_PASSWORD = '[Auth] Change Password',\n  CHANGE_PASSWORD_SUCCESS = '[Auth] Change Password Success',\n  CHANGE_PASSWORD_FAILED = '[Auth] Change Password Failed',\n  CHANGE_PASSPHRASE_SUCCESS = '[Auth] Change Passphrase in keys Success',\n  DELETE_ACCOUNT = '[Auth] Delete Account',\n  DELETE_ACCOUNT_SUCCESS = '[Auth] Delete Account Success',\n  DELETE_ACCOUNT_FAILURE = '[Auth] Delete Account Failure',\n  CLEAR_SIGNUP_STATE = '[Auth] Clear Signup State',\n  CLEAR_AUTH_ERROR_MESSAGE = '[Auth] Clear Auth Error',\n  GET_CAPTCHA = '[Auth] Get Captcha',\n  GET_CAPTCHA_SUCCESS = '[Auth] Get Captcha Success',\n  VERIFY_CAPTCHA = '[Auth] Verify Captcha',\n  VERIFY_CAPTCHA_SUCCESS = '[Auth] Verify Captcha Success',\n  VERIFY_CAPTCHA_FAILURE = '[Auth] Verify Captcha Failure',\n  GET_2FA_SECRET = '[Auth] Get 2FA otp secret',\n  GET_2FA_SECRET_SUCCESS = '[Auth] Get 2FA otp secret Success',\n  UPDATE_2FA = '[Auth] Enable 2FA',\n  UPDATE_2FA_SUCCESS = '[Auth] Enable 2FA Success',\n  REFRESH_TOKEN = '[Auth] Refresh Token',\n  SET_AUTHENTICATED = '[Auth] Set Authenticated',\n}\n\nexport class LogIn implements Action {\n  readonly type = AuthActionTypes.LOGIN;\n\n  constructor(public payload: any) {}\n}\n\nexport class LogInSuccess implements Action {\n  readonly type = AuthActionTypes.LOGIN_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class LogInFailure implements Action {\n  readonly type = AuthActionTypes.LOGIN_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class SignUp implements Action {\n  readonly type = AuthActionTypes.SIGNUP;\n\n  constructor(public payload: any) {}\n}\n\nexport class SignUpSuccess implements Action {\n  readonly type = AuthActionTypes.SIGNUP_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class SignUpFailure implements Action {\n  readonly type = AuthActionTypes.SIGNUP_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class Logout implements Action {\n  readonly type = AuthActionTypes.LOGOUT;\n\n  constructor(public payload: any = {}) {}\n}\n\nexport class SaveDraftOnLogout implements Action {\n  readonly type = AuthActionTypes.SAVE_DRAFT_ON_LOGOUT;\n\n  constructor(public payload: any = {}) {}\n}\n\nexport class GetStatus implements Action {\n  readonly type = AuthActionTypes.GET_STATUS;\n}\n\nexport class UpdateSignupData implements Action {\n  readonly type = AuthActionTypes.UPDATE_SIGNUP_DATA;\n\n  constructor(public payload?: any) {}\n}\n\nexport class CheckUsernameAvailability implements Action {\n  readonly type = AuthActionTypes.CHECK_USERNAME_AVAILABILITY;\n\n  constructor(public payload: any) {}\n}\n\nexport class CheckUsernameAvailabilitySuccess implements Action {\n  readonly type = AuthActionTypes.CHECK_USERNAME_AVAILABILITY_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CheckUsernameAvailabilityError implements Action {\n  readonly type = AuthActionTypes.CHECK_USERNAME_AVAILABILITY_ERROR;\n\n  constructor(public payload?: any) {}\n}\n\nexport class RecoverPassword implements Action {\n  readonly type = AuthActionTypes.RECOVER_PASSWORD;\n\n  constructor(public payload: any) {}\n}\n\nexport class RecoverPasswordSuccess implements Action {\n  readonly type = AuthActionTypes.RECOVER_PASSWORD_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class RecoverPasswordFailure implements Action {\n  readonly type = AuthActionTypes.RECOVER_PASSWORD_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class ResetPassword implements Action {\n  readonly type = AuthActionTypes.RESET_PASSWORD;\n\n  constructor(public payload: any) {}\n}\n\nexport class ResetPasswordSuccess implements Action {\n  readonly type = AuthActionTypes.RESET_PASSWORD_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ResetPasswordFailure implements Action {\n  readonly type = AuthActionTypes.RESET_PASSWORD_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpgradeAccount implements Action {\n  readonly type = AuthActionTypes.UPGRADE_ACCOUNT;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpgradeAccountSuccess implements Action {\n  readonly type = AuthActionTypes.UPGRADE_ACCOUNT_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpgradeAccountFailure implements Action {\n  readonly type = AuthActionTypes.UPGRADE_ACCOUNT_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class ChangePassword implements Action {\n  readonly type = AuthActionTypes.CHANGE_PASSWORD;\n\n  constructor(public payload: any) {}\n}\n\nexport class ChangePasswordSuccess implements Action {\n  readonly type = AuthActionTypes.CHANGE_PASSWORD_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ChangePasswordFailed implements Action {\n  readonly type = AuthActionTypes.CHANGE_PASSWORD_FAILED;\n\n  constructor(public payload?: any) {}\n}\n\nexport class ChangePassphraseSuccess implements Action {\n  readonly type = AuthActionTypes.CHANGE_PASSPHRASE_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteAccount implements Action {\n  readonly type = AuthActionTypes.DELETE_ACCOUNT;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteAccountSuccess implements Action {\n  readonly type = AuthActionTypes.DELETE_ACCOUNT_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class DeleteAccountFailure implements Action {\n  readonly type = AuthActionTypes.DELETE_ACCOUNT_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class ClearSignUpState implements Action {\n  readonly type = AuthActionTypes.CLEAR_SIGNUP_STATE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class ClearAuthErrorMessage implements Action {\n  readonly type = AuthActionTypes.CLEAR_AUTH_ERROR_MESSAGE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetCaptcha implements Action {\n  readonly type = AuthActionTypes.GET_CAPTCHA;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetCaptchaSuccess implements Action {\n  readonly type = AuthActionTypes.GET_CAPTCHA_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class VerifyCaptcha implements Action {\n  readonly type = AuthActionTypes.VERIFY_CAPTCHA;\n\n  constructor(public payload: any) {}\n}\n\nexport class VerifyCaptchaSuccess implements Action {\n  readonly type = AuthActionTypes.VERIFY_CAPTCHA_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class VerifyCaptchaFailure implements Action {\n  readonly type = AuthActionTypes.VERIFY_CAPTCHA_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class ExpireSession implements Action {\n  readonly type = AuthActionTypes.EXPIRE_SESSION;\n\n  constructor(public payload?: any) {}\n}\n\nexport class Get2FASecret implements Action {\n  readonly type = AuthActionTypes.GET_2FA_SECRET;\n\n  constructor(public payload?: any) {}\n}\n\nexport class Get2FASecretSuccess implements Action {\n  readonly type = AuthActionTypes.GET_2FA_SECRET_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class Update2FA implements Action {\n  readonly type = AuthActionTypes.UPDATE_2FA;\n\n  constructor(public payload: any) {}\n}\n\nexport class Update2FASuccess implements Action {\n  readonly type = AuthActionTypes.UPDATE_2FA_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class RefreshToken implements Action {\n  readonly type = AuthActionTypes.REFRESH_TOKEN;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SetAuthenticatedState implements Action {\n  readonly type = AuthActionTypes.SET_AUTHENTICATED;\n\n  constructor(public payload?: any) {}\n}\n\nexport type AuthActionAll =\n  | LogIn\n  | LogInSuccess\n  | LogInFailure\n  | SignUp\n  | SignUpSuccess\n  | SignUpFailure\n  | Logout\n  | SaveDraftOnLogout\n  | GetStatus\n  | UpdateSignupData\n  | CheckUsernameAvailability\n  | CheckUsernameAvailabilitySuccess\n  | CheckUsernameAvailabilityError\n  | RecoverPassword\n  | RecoverPasswordSuccess\n  | RecoverPasswordFailure\n  | ResetPassword\n  | ResetPasswordSuccess\n  | ResetPasswordFailure\n  | UpgradeAccount\n  | UpgradeAccountSuccess\n  | UpgradeAccountFailure\n  | ChangePassword\n  | ChangePasswordSuccess\n  | ChangePasswordFailed\n  | ChangePassphraseSuccess\n  | DeleteAccount\n  | DeleteAccountSuccess\n  | DeleteAccountFailure\n  | ClearSignUpState\n  | ClearAuthErrorMessage\n  | GetCaptcha\n  | GetCaptchaSuccess\n  | VerifyCaptcha\n  | VerifyCaptchaSuccess\n  | VerifyCaptchaFailure\n  | ExpireSession\n  | Get2FASecret\n  | Get2FASecretSuccess\n  | Update2FA\n  | Update2FASuccess\n  | RefreshToken\n  | SetAuthenticatedState;\n","import { Action } from '@ngrx/store';\n\nexport enum BitcoinActionTypes {\n  CREATE_NEW_WALLET = '[BITCOIN ] CREATE NEW WALLET',\n  CREATE_NEW_WALLET_SUCCESS = '[BITCOIN] CREATE NEW WALLET',\n  CHECK_TRANSACTION = '[BITCOIN] CHECK TRANSACTION',\n  CHECK_TRANSACTION_SUCCESS = '[BITCOIN] CHECK TRANSACTION SUCCESS',\n  CLEAR_WALLET = '[BITCOIN] CLEAR WALLET',\n}\n\nexport class CreateNewWallet implements Action {\n  readonly type = BitcoinActionTypes.CREATE_NEW_WALLET;\n\n  constructor(public payload?: any) {}\n}\n\nexport class CheckTransaction implements Action {\n  readonly type = BitcoinActionTypes.CHECK_TRANSACTION;\n\n  constructor(public payload: any) {}\n}\n\nexport class CheckTransactionSuccess implements Action {\n  readonly type = BitcoinActionTypes.CHECK_TRANSACTION_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateNewWalletSuccess implements Action {\n  readonly type = BitcoinActionTypes.CREATE_NEW_WALLET_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ClearWallet implements Action {\n  readonly type = BitcoinActionTypes.CLEAR_WALLET;\n\n  constructor(public payload?: any) {}\n}\n\nexport type BitcoinActionAll =\n  | CreateNewWallet\n  | CreateNewWalletSuccess\n  | CheckTransaction\n  | CheckTransactionSuccess\n  | ClearWallet;\n","import { Action } from '@ngrx/store';\n\nexport enum ComposeMailActionTypes {\n  CREATE_MAIL = '[Mail] CREATE',\n  CREATE_MAIL_SUCCESS = '[Mail] CREATE SUCCESS',\n  SEND_MAIL = '[Mail] SEND_MAIL',\n  SEND_MAIL_SUCCESS = '[Mail] SEND_MAIL SUCCESS',\n  SEND_MAIL_FAILURE = '[Mail] SEND_MAIL FAILURE',\n  UPDATE_LOCAL_DRAFT = '[Mail] UPDATE LOCAL DRAFT',\n  CLOSE_MAILBOX = '[Mailbox] CLOSE',\n  UPDATE_PGP_ENCRYPTED_CONTENT = '[PGP] UPDATE PGP ENCRYPTED CONTENT',\n  UPDATE_PGP_SSH_KEYS = '[PGP] UPDATE PGP SSH KEYS',\n  UPLOAD_ATTACHMENT = '[Attachment] UPLOAD_ATTACHMENT',\n  UPLOAD_ATTACHMENT_PROGRESS = '[Attachment] UPLOAD_ATTACHMENT_PROGRESS',\n  UPLOAD_ATTACHMENT_REQUEST = '[Attachment] UPLOAD_ATTACHMENT_REQUEST',\n  UPLOAD_ATTACHMENT_SUCCESS = '[Attachment] UPLOAD_ATTACHMENT_SUCCESS',\n  UPLOAD_ATTACHMENT_FAILURE = '[Attachment] UPLOAD_ATTACHMENT_FAILURE',\n  DELETE_ATTACHMENT = '[Attachment] DELETE_ATTACHMENT',\n  DELETE_ATTACHMENT_SUCCESS = '[Attachment] DELETE_ATTACHMENT_SUCCESS',\n  DELETE_ATTACHMENT_FAILURE = '[Attachment] DELETE_ATTACHMENT_FAILURE',\n  START_ATTACHMENT_ENCRYPTION = '[Attachment] START_ATTACHMENT_ENCRYPTION',\n  GET_USERS_KEYS = '[USERS] GET KEYS',\n  GET_USERS_KEYS_SUCCESS = '[USERS] GET KEYS SUCCESS',\n  NEW_DRAFT = '[DraftState] NEW_DRAFT',\n  CLEAR_DRAFT = '[DRAFT] CLEAR',\n  UPDATE_DRAFT_ATTACHMENT = '[Attachment] UPDATE_DRAFT_ATTACHMENT',\n}\n\nexport class CreateMail implements Action {\n  readonly type = ComposeMailActionTypes.CREATE_MAIL;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateMailSuccess implements Action {\n  readonly type = ComposeMailActionTypes.CREATE_MAIL_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateLocalDraft implements Action {\n  readonly type = ComposeMailActionTypes.UPDATE_LOCAL_DRAFT;\n\n  constructor(public payload: any) {}\n}\n\nexport class CloseMailbox implements Action {\n  readonly type = ComposeMailActionTypes.CLOSE_MAILBOX;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SendMail implements Action {\n  readonly type = ComposeMailActionTypes.SEND_MAIL;\n\n  constructor(public payload: any) {}\n}\n\nexport class SendMailSuccess implements Action {\n  readonly type = ComposeMailActionTypes.SEND_MAIL_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SendMailFailure implements Action {\n  readonly type = ComposeMailActionTypes.SEND_MAIL_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class UpdatePGPEncryptedContent implements Action {\n  readonly type = ComposeMailActionTypes.UPDATE_PGP_ENCRYPTED_CONTENT;\n\n  constructor(public payload?: any) {}\n}\n\nexport class UpdatePGPSshKeys implements Action {\n  readonly type = ComposeMailActionTypes.UPDATE_PGP_SSH_KEYS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class UploadAttachment implements Action {\n  readonly type = ComposeMailActionTypes.UPLOAD_ATTACHMENT;\n\n  constructor(public payload: any) {}\n}\n\nexport class UploadAttachmentProgress implements Action {\n  readonly type = ComposeMailActionTypes.UPLOAD_ATTACHMENT_PROGRESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class UploadAttachmentRequest implements Action {\n  readonly type = ComposeMailActionTypes.UPLOAD_ATTACHMENT_REQUEST;\n\n  constructor(public payload: any) {}\n}\n\nexport class UploadAttachmentSuccess implements Action {\n  readonly type = ComposeMailActionTypes.UPLOAD_ATTACHMENT_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class UploadAttachmentFailure implements Action {\n  readonly type = ComposeMailActionTypes.UPLOAD_ATTACHMENT_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class DeleteAttachment implements Action {\n  readonly type = ComposeMailActionTypes.DELETE_ATTACHMENT;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteAttachmentSuccess implements Action {\n  readonly type = ComposeMailActionTypes.DELETE_ATTACHMENT_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteAttachmentFailure implements Action {\n  readonly type = ComposeMailActionTypes.DELETE_ATTACHMENT_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class StartAttachmentEncryption implements Action {\n  readonly type = ComposeMailActionTypes.START_ATTACHMENT_ENCRYPTION;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetUsersKeys implements Action {\n  readonly type = ComposeMailActionTypes.GET_USERS_KEYS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetUsersKeysSuccess implements Action {\n  readonly type = ComposeMailActionTypes.GET_USERS_KEYS_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class NewDraft implements Action {\n  readonly type = ComposeMailActionTypes.NEW_DRAFT;\n\n  constructor(public payload: any) {}\n}\n\nexport class ClearDraft implements Action {\n  readonly type = ComposeMailActionTypes.CLEAR_DRAFT;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateDraftAttachment implements Action {\n  readonly type = ComposeMailActionTypes.UPDATE_DRAFT_ATTACHMENT;\n\n  constructor(public payload: any) {}\n}\n\nexport type ComposeMailActions =\n  | CreateMail\n  | CreateMailSuccess\n  | UpdateLocalDraft\n  | CloseMailbox\n  | SendMail\n  | SendMailSuccess\n  | SendMailFailure\n  | UpdatePGPEncryptedContent\n  | UpdatePGPSshKeys\n  | UploadAttachment\n  | UploadAttachmentProgress\n  | UploadAttachmentRequest\n  | UploadAttachmentSuccess\n  | UploadAttachmentFailure\n  | DeleteAttachment\n  | DeleteAttachmentSuccess\n  | DeleteAttachmentFailure\n  | StartAttachmentEncryption\n  | GetUsersKeys\n  | GetUsersKeysSuccess\n  | NewDraft\n  | ClearDraft\n  | UpdateDraftAttachment;\n","import { Action } from '@ngrx/store';\n\nexport enum ContactsActionTypes {\n  CONTACT_GET = '[Contacts] ContactGet GET',\n  CONTACT_GET_SUCCESS = '[Contacts] Contact_GET_Success',\n  CONTACT_GET_FAILURE = '[Contacts] Contact_GET_Failure',\n  CONTACT_ADD = '[Contacts] Contact_Add',\n  CONTACT_ADD_SUCCESS = '[Contacts] Contact_Add_Success',\n  CONTACT_ADD_ERROR = '[Contacts] Contact_Add_Error',\n  CONTACT_DELETE = '[Contacts] Contact_Delete',\n  CONTACT_DELETE_SUCCESS = '[Contacts] Contact_Delete_Success',\n  CONTACT_NOTIFY = '[Contacts] Contact_Notify',\n  CONTACT_NOTIFY_SUCCESS = '[Contacts] Contact_Notify_Success',\n  CONTACT_NOTIFY_FAILURE = '[Contacts] Contact_Notify_Failure',\n  CONTACT_IMPORT = '[Contacts] Contact Import',\n  CONTACT_IMPORT_SUCCESS = '[Contacts] Contact Import Success',\n  CONTACT_IMPORT_FAILURE = '[Contacts] Contact Import Failure',\n  CONTACT_DECRYPT_SUCCESS = '[Contacts] Contact_Decrypt_Success',\n  GET_EMAIL_CONTACTS = '[Contacts] GET EMAIL CONTACTS',\n  GET_EMAIL_CONTACTS_SUCCESS = '[Contacts] GET EMAIL CONTACTS SUCCESS',\n  CLEAR_CONTACTS_TO_DECRYPT = '[Contacts] CLEAR CONTACTS TO DECRYPT',\n  CONTACT_BATCH_UPDATE = '[Contacts] Batch update',\n  CONTACT_BATCH_UPDATE_SUCCESS = '[Contacts] Batch update Success',\n}\n\nexport class ContactsGet implements Action {\n  readonly type = ContactsActionTypes.CONTACT_GET;\n\n  constructor(public payload: any = {}) {}\n}\n\nexport class ContactGetSuccess implements Action {\n  readonly type = ContactsActionTypes.CONTACT_GET_SUCCESS;\n\n  constructor(public payload: any) {}\n}\nexport class ContactGetFailure implements Action {\n  readonly type = ContactsActionTypes.CONTACT_GET_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class ContactAdd implements Action {\n  readonly type = ContactsActionTypes.CONTACT_ADD;\n\n  constructor(public payload: any) {}\n}\n\nexport class ContactAddSuccess implements Action {\n  readonly type = ContactsActionTypes.CONTACT_ADD_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ContactAddError implements Action {\n  readonly type = ContactsActionTypes.CONTACT_ADD_ERROR;\n\n  constructor(public payload?: any) {}\n}\n\nexport class ContactDelete implements Action {\n  readonly type = ContactsActionTypes.CONTACT_DELETE;\n\n  constructor(public payload: any) {}\n}\n\nexport class ContactDeleteSuccess implements Action {\n  readonly type = ContactsActionTypes.CONTACT_DELETE_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ContactNotify implements Action {\n  readonly type = ContactsActionTypes.CONTACT_NOTIFY;\n\n  constructor(public payload: any) {}\n}\n\nexport class ContactNotifySuccess implements Action {\n  readonly type = ContactsActionTypes.CONTACT_NOTIFY_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ContactNotifyFailure implements Action {\n  readonly type = ContactsActionTypes.CONTACT_NOTIFY_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class ContactImport implements Action {\n  readonly type = ContactsActionTypes.CONTACT_IMPORT;\n\n  constructor(public payload: any) {}\n}\n\nexport class ContactImportSuccess implements Action {\n  readonly type = ContactsActionTypes.CONTACT_IMPORT_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ContactImportFailure implements Action {\n  readonly type = ContactsActionTypes.CONTACT_IMPORT_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class ContactDecryptSuccess implements Action {\n  readonly type = ContactsActionTypes.CONTACT_DECRYPT_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetEmailContacts implements Action {\n  readonly type = ContactsActionTypes.GET_EMAIL_CONTACTS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetEmailContactsSuccess implements Action {\n  readonly type = ContactsActionTypes.GET_EMAIL_CONTACTS_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ClearContactsToDecrypt implements Action {\n  readonly type = ContactsActionTypes.CLEAR_CONTACTS_TO_DECRYPT;\n\n  constructor(public payload?: any) {}\n}\n\nexport class UpdateBatchContacts implements Action {\n  readonly type = ContactsActionTypes.CONTACT_BATCH_UPDATE;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateBatchContactsSuccess implements Action {\n  readonly type = ContactsActionTypes.CONTACT_BATCH_UPDATE_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport type ContactsActionAll =\n  | ContactsGet\n  | ContactGetSuccess\n  | ContactGetFailure\n  | ContactAdd\n  | ContactAddSuccess\n  | ContactAddError\n  | ContactDelete\n  | ContactDeleteSuccess\n  | ContactImport\n  | ContactImportSuccess\n  | ContactImportFailure\n  | ContactDecryptSuccess\n  | GetEmailContacts\n  | GetEmailContactsSuccess\n  | ClearContactsToDecrypt\n  | UpdateBatchContacts\n  | UpdateBatchContactsSuccess\n  | ContactNotify\n  | ContactNotifySuccess\n  | ContactNotifyFailure;\n","import { Action } from '@ngrx/store';\n\nexport enum DonationActionTypes {\n  MAKE_STRIPE_DONATION = '[DONATE] STRIPE DONATION',\n  MAKE_STRIPE_DONATION_SUCCESS = '[DONATE] STRIPE DONATION SUCCESS',\n  MAKE_STRIPE_DONATION_FAILURE = '[DONATE] STRIPE DONATION FAILURE',\n}\n\nexport class MakeStripDonation implements Action {\n  readonly type = DonationActionTypes.MAKE_STRIPE_DONATION;\n\n  constructor(public payload: any) {}\n}\n\nexport class MakeStripeDonationSuccess implements Action {\n  readonly type = DonationActionTypes.MAKE_STRIPE_DONATION_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class MakeStripeDonationFailure implements Action {\n  readonly type = DonationActionTypes.MAKE_STRIPE_DONATION_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport type DonateActionAll = MakeStripDonation | MakeStripeDonationSuccess | MakeStripeDonationFailure;\n","export * from './router.action';\nexport * from './auth.action';\nexport * from './mail.actions';\nexport * from './loading.action';\nexport * from './keyboard.action';\nexport * from './users.action';\nexport * from './bitcoin.action';\nexport * from './compose-mail.actions';\nexport * from './secure-message.actions';\nexport * from './donate.actions';\nexport * from './contacts.action';\n","import { Action } from '@ngrx/store';\n\nexport enum KeyboardActionTypes {\n  KEYBOARD_FOCUSED = '[Keyboard] GetFocus',\n  KEYBOARD_FOCUSED_OUT = '[Keyboard] GetFocusOut',\n  KEY_PRESSED = '[Keyboard] KeyPressed',\n  FOCUSED_INPUT = '[Keyboard] FocusedInput',\n}\n\nexport class KeyboardFocus implements Action {\n  readonly type = KeyboardActionTypes.KEYBOARD_FOCUSED;\n\n  constructor(public payload: any) {}\n}\n\nexport class KeyboardFocusOut implements Action {\n  readonly type = KeyboardActionTypes.KEYBOARD_FOCUSED_OUT;\n\n  constructor(public payload: any) {}\n}\n\nexport class KeyPressed implements Action {\n  readonly type = KeyboardActionTypes.KEY_PRESSED;\n\n  constructor(public payload: any) {}\n}\n\nexport class FocusedInputID implements Action {\n  readonly type = KeyboardActionTypes.FOCUSED_INPUT;\n\n  constructor(public payload: any) {}\n}\n\nexport type KeyboardActionAll = KeyboardFocus | KeyboardFocusOut | KeyPressed | FocusedInputID;\n","import { Action } from '@ngrx/store';\n\nexport enum LoadingActionTypes {\n  RELATED_LOADING = '[Loading] Related Loading',\n  RELATED_LOADED = '[Loading] Related Loaded',\n  RECENT_LOADING = '[Loading] Recent Loading',\n  RECENT_LOADED = '[Loading] Recent Loaded',\n  FINAL_LOADING = '[Loading] Loading',\n}\n\nexport class RelatedBlogLoading implements Action {\n  readonly type = LoadingActionTypes.RELATED_LOADING;\n\n  constructor(public payload: any) {}\n}\n\nexport class RecentBlogLoading implements Action {\n  readonly type = LoadingActionTypes.RECENT_LOADING;\n\n  constructor(public payload: any) {}\n}\n\nexport class FinalLoading implements Action {\n  readonly type = LoadingActionTypes.FINAL_LOADING;\n\n  constructor(public payload: any) {}\n}\n\nexport type LoadingActionAll = RelatedBlogLoading | RecentBlogLoading | FinalLoading;\n","import { Action } from '@ngrx/store';\n\nexport enum MailActionTypes {\n  GET_MAILS = '[Mail] GET_MAILS',\n  GET_MAILS_SUCCESS = '[Mail] GET_MAILS_SUCCESS',\n  GET_UNREAD_MAILS_COUNT = '[Unread Mail Count] GET_UNREAD_MAILS_COUNT',\n  GET_UNREAD_MAILS_COUNT_SUCCESS = '[Unread Mail Count] GET_UNREAD_MAILS_COUNT_SUCCESS',\n  GET_CUSTOMFOLDER_MESSAGE_COUNT = '[Unread Mail Count] GET_CUSTOMFOLDER_MESSAGE_COUNT',\n  GET_CUSTOMFOLDER_MESSAGE_COUNT_SUCCESS = '[Unread Mail Count] GET_CUSTOMFOLDER_MESSAGE_COUNT_SUCCESS',\n  STOP_GETTING_UNREAD_MAILS_COUNT = '[STOP getting unread mails] STOP_GETTING_UNREAD_MAILS_COUNT',\n  GET_MAILBOXES = '[Mail] GET_MAILBOXES',\n  GET_MAILBOXES_SUCCESS = '[Mail] GET_MAILBOXES_SUCCESS',\n  GET_MAIL_DETAIL = '[Mail] GET_MAIL_DETAIL',\n  CLEAR_MAILS_ON_LOGOUT = '[Mail] CLEAR_MAILS',\n  CLEAR_MAILS_ON_CONVERSATION_MODE_CHANGE = '[Mail] CLEAR_MAILS_CONVERSATION_MODE_CHANGE',\n  CLEAR_MAIL_DETAIL = '[Mail] CLEAR_MAIL_DETAIL',\n  GET_MAIL_DETAIL_SUCCESS = '[Mail] GET_MAIL_DETAIL_SUCCESS',\n  UPDATE_MAIL_DETAIL_CHILDREN = '[Mail] UPDATE_MAIL_DETAIL_CHILDREN',\n  MOVE_MAIL = '[Mail] MOVE',\n  MOVE_MAIL_SUCCESS = '[Mail] MOVE SUCCESS',\n  DELETE_MAIL = '[Mail] DELETE',\n  DELETE_MAIL_SUCCESS = '[Mail] DELETE SUCCESS',\n  DELETE_MAIL_FOR_ALL = '[Mail] DELETE FOR ALL',\n  DELETE_MAIL_FOR_ALL_SUCCESS = '[Mail] DELETE FOR ALL SUCCESS',\n  READ_MAIL = '[Mail] READ_MAIL',\n  READ_MAIL_SUCCESS = '[Mail] READ_MAIL SUCCESS',\n  STAR_MAIL = '[Mail] STAR_MAIL',\n  STAR_MAIL_SUCCESS = '[Mail] STAR_MAIL SUCCESS',\n  SET_DECRYPT_INPROGRESS = '[DECRYPT] SET INPROGRESS STATUS',\n  SET_DECRYPTED_KEY = '[DECRYPTED] SET KEY',\n  SET_CURRENT_MAILBOX = '[MAILBOX] SET CURRENTLY SELECTED',\n  UNDO_DELETE_MAIL = '[Mail] UNDO DELETE DRAFT MAIL',\n  UNDO_DELETE_MAIL_SUCCESS = '[Mail] UNDO DELETE DRAFT MAIL SUCCESS',\n  SET_CURRENT_FOLDER = '[FOLDER] SET CURRENT',\n  UPDATE_PGP_DECRYPTED_CONTENT = '[PGP] UPDATE PGP DECRYPTED CONTENT',\n  UPDATE_CURRENT_FOLDER = '[FOLDER] UPDATE CURRENT FOLDER',\n  MAILBOX_SETTINGS_UPDATE = '[MAILBOX SETTINGS] UPDATE',\n  MAILBOX_SETTINGS_UPDATE_SUCCESS = '[MAILBOX SETTINGS] UPDATE SUCCESS',\n  MAILBOX_SETTINGS_UPDATE_FAILURE = '[MAILBOX SETTINGS] UPDATE FAILURE',\n  CREATE_MAILBOX = '[MAILBOX] CREATE MAILBOX',\n  CREATE_MAILBOX_SUCCESS = '[MAILBOX] CREATE MAILBOX SUCCESS',\n  CREATE_MAILBOX_FAILURE = '[MAILBOX] CREATE MAILBOX FAILURE',\n  SET_DEFAULT_MAILBOX = '[MAILBOX] SET DEFAULT MAILBOX',\n  SET_DEFAULT_MAILBOX_SUCCESS = '[MAILBOX] SET DEFAULT MAILBOX SUCCESS',\n  UPDATE_MAILBOX_ORDER = '[MAILBOX] UPDATE ORDER',\n  UPDATE_MAILBOX_ORDER_SUCCESS = '[MAILBOX] UPDATE ORDER SUCCESS',\n  EMPTY_FOLDER = '[Mail] EMPTY TRASH',\n  EMPTY_FOLDER_SUCCESS = '[Mail] EMPTY TRASH SUCCESS',\n  EMPTY_FOLDER_FAILURE = '[Mail] EMPTY TRASH FAILURE',\n  DELETE_MAILBOX = '[MAILBOX] DELETE',\n  DELETE_MAILBOX_SUCCESS = '[MAILBOX] DELETE SUCCESS',\n  SET_IS_COMPOSER_POPUP = '[MAIL] SET IS COMPOSERPOPUP ',\n  MOVE_TAB = '[MAIL] MOVE TAB',\n  EMPTY_ONLY_FOLDER = '[Mail] EMPTY ONLY FOLDER',\n}\n\nexport class GetMails implements Action {\n  readonly type = MailActionTypes.GET_MAILS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetMailsSuccess implements Action {\n  readonly type = MailActionTypes.GET_MAILS_SUCCESS;\n\n  constructor(public payload: any) {}\n}\nexport class SetIsComposerPopUp implements Action {\n  readonly type = MailActionTypes.SET_IS_COMPOSER_POPUP;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetUnreadMailsCount implements Action {\n  readonly type = MailActionTypes.GET_UNREAD_MAILS_COUNT;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetUnreadMailsCountSuccess implements Action {\n  readonly type = MailActionTypes.GET_UNREAD_MAILS_COUNT_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetCustomFolderMessageCount implements Action {\n  readonly type = MailActionTypes.GET_CUSTOMFOLDER_MESSAGE_COUNT;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetCustomFolderMessageCountSuccess implements Action {\n  readonly type = MailActionTypes.GET_CUSTOMFOLDER_MESSAGE_COUNT_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class StopGettingUnreadMailsCount implements Action {\n  readonly type = MailActionTypes.STOP_GETTING_UNREAD_MAILS_COUNT;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetMailboxes implements Action {\n  readonly type = MailActionTypes.GET_MAILBOXES;\n\n  constructor(public payload: any = {}) {}\n}\n\nexport class GetMailboxesSuccess implements Action {\n  readonly type = MailActionTypes.GET_MAILBOXES_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetMailDetail implements Action {\n  readonly type = MailActionTypes.GET_MAIL_DETAIL;\n\n  constructor(public payload: any) {}\n}\n\nexport class ClearMailsOnConversationModeChange implements Action {\n  readonly type = MailActionTypes.CLEAR_MAILS_ON_CONVERSATION_MODE_CHANGE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class ClearMailsOnLogout implements Action {\n  readonly type = MailActionTypes.CLEAR_MAILS_ON_LOGOUT;\n\n  constructor(public payload?: any) {}\n}\n\nexport class ClearMailDetail implements Action {\n  readonly type = MailActionTypes.CLEAR_MAIL_DETAIL;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetMailDetailSuccess implements Action {\n  readonly type = MailActionTypes.GET_MAIL_DETAIL_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateMailDetailChildren implements Action {\n  readonly type = MailActionTypes.UPDATE_MAIL_DETAIL_CHILDREN;\n\n  constructor(public payload: any) {}\n}\n\nexport class MoveMail implements Action {\n  readonly type = MailActionTypes.MOVE_MAIL;\n\n  constructor(public payload: any) {}\n}\n\nexport class MoveMailSuccess implements Action {\n  readonly type = MailActionTypes.MOVE_MAIL_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteMail implements Action {\n  readonly type = MailActionTypes.DELETE_MAIL;\n\n  constructor(public payload: any) {}\n}\n\nexport class ReadMail implements Action {\n  readonly type = MailActionTypes.READ_MAIL;\n\n  constructor(public payload: any) {}\n}\n\nexport class ReadMailSuccess implements Action {\n  readonly type = MailActionTypes.READ_MAIL_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class StarMail implements Action {\n  readonly type = MailActionTypes.STAR_MAIL;\n\n  constructor(public payload: any) {}\n}\n\nexport class StarMailSuccess implements Action {\n  readonly type = MailActionTypes.STAR_MAIL_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteMailSuccess implements Action {\n  readonly type = MailActionTypes.DELETE_MAIL_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SetDecryptInProgress implements Action {\n  readonly type = MailActionTypes.SET_DECRYPT_INPROGRESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SetDecryptedKey implements Action {\n  readonly type = MailActionTypes.SET_DECRYPTED_KEY;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SetCurrentMailbox implements Action {\n  readonly type = MailActionTypes.SET_CURRENT_MAILBOX;\n\n  constructor(public payload?: any) {}\n}\n\nexport class UndoDeleteMail implements Action {\n  readonly type = MailActionTypes.UNDO_DELETE_MAIL;\n\n  constructor(public payload?: any) {}\n}\n\nexport class UndoDeleteMailSuccess implements Action {\n  readonly type = MailActionTypes.UNDO_DELETE_MAIL_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SetCurrentFolder implements Action {\n  readonly type = MailActionTypes.SET_CURRENT_FOLDER;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdatePGPDecryptedContent implements Action {\n  readonly type = MailActionTypes.UPDATE_PGP_DECRYPTED_CONTENT;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateCurrentFolder implements Action {\n  readonly type = MailActionTypes.UPDATE_CURRENT_FOLDER;\n\n  constructor(public payload: any) {}\n}\n\nexport class MailboxSettingsUpdate implements Action {\n  readonly type = MailActionTypes.MAILBOX_SETTINGS_UPDATE;\n\n  constructor(public payload: any) {}\n}\n\nexport class MailboxSettingsUpdateSuccess implements Action {\n  readonly type = MailActionTypes.MAILBOX_SETTINGS_UPDATE_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class MailboxSettingsUpdateFailure implements Action {\n  readonly type = MailActionTypes.MAILBOX_SETTINGS_UPDATE_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class CreateMailbox implements Action {\n  readonly type = MailActionTypes.CREATE_MAILBOX;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateMailboxSuccess implements Action {\n  readonly type = MailActionTypes.CREATE_MAILBOX_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateMailboxFailure implements Action {\n  readonly type = MailActionTypes.CREATE_MAILBOX_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class SetDefaultMailbox implements Action {\n  readonly type = MailActionTypes.SET_DEFAULT_MAILBOX;\n\n  constructor(public payload: any) {}\n}\n\nexport class SetDefaultMailboxSuccess implements Action {\n  readonly type = MailActionTypes.SET_DEFAULT_MAILBOX_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateMailboxOrder implements Action {\n  readonly type = MailActionTypes.UPDATE_MAILBOX_ORDER;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateMailboxOrderSuccess implements Action {\n  readonly type = MailActionTypes.UPDATE_MAILBOX_ORDER_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class EmptyFolder implements Action {\n  readonly type = MailActionTypes.EMPTY_FOLDER;\n\n  constructor(public payload: any) {}\n}\n\nexport class EmptyFolderSuccess implements Action {\n  readonly type = MailActionTypes.EMPTY_FOLDER_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class EmptyFolderFailure implements Action {\n  readonly type = MailActionTypes.EMPTY_FOLDER_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteMailForAll implements Action {\n  readonly type = MailActionTypes.DELETE_MAIL_FOR_ALL;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteMailForAllSuccess implements Action {\n  readonly type = MailActionTypes.DELETE_MAIL_FOR_ALL_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteMailbox implements Action {\n  readonly type = MailActionTypes.DELETE_MAILBOX;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteMailboxSuccess implements Action {\n  readonly type = MailActionTypes.DELETE_MAILBOX_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class MoveTab implements Action {\n  readonly type = MailActionTypes.MOVE_TAB;\n\n  constructor(public payload: any) {}\n}\n\nexport class EmptyOnlyFolder implements Action {\n  readonly type = MailActionTypes.EMPTY_ONLY_FOLDER;\n\n  constructor(public payload: any) {}\n}\n\nexport type MailActions =\n  | GetMails\n  | GetMailsSuccess\n  | GetUnreadMailsCount\n  | GetUnreadMailsCountSuccess\n  | GetCustomFolderMessageCount\n  | GetCustomFolderMessageCountSuccess\n  | StopGettingUnreadMailsCount\n  | GetMailboxes\n  | GetMailboxesSuccess\n  | GetMailDetail\n  | ClearMailsOnConversationModeChange\n  | ClearMailsOnLogout\n  | ClearMailDetail\n  | GetMailDetailSuccess\n  | UpdateMailDetailChildren\n  | MoveMail\n  | MoveMailSuccess\n  | DeleteMail\n  | DeleteMailSuccess\n  | ReadMail\n  | ReadMailSuccess\n  | StarMail\n  | StarMailSuccess\n  | SetDecryptInProgress\n  | SetDecryptedKey\n  | SetCurrentMailbox\n  | UndoDeleteMail\n  | UndoDeleteMailSuccess\n  | SetCurrentFolder\n  | UpdatePGPDecryptedContent\n  | UpdateCurrentFolder\n  | MailboxSettingsUpdate\n  | MailboxSettingsUpdateSuccess\n  | MailboxSettingsUpdateFailure\n  | CreateMailbox\n  | CreateMailboxSuccess\n  | CreateMailboxFailure\n  | SetDefaultMailbox\n  | SetDefaultMailboxSuccess\n  | UpdateMailboxOrder\n  | UpdateMailboxOrderSuccess\n  | EmptyFolder\n  | EmptyFolderSuccess\n  | EmptyFolderFailure\n  | DeleteMailForAll\n  | DeleteMailForAllSuccess\n  | DeleteMailbox\n  | DeleteMailboxSuccess\n  | SetIsComposerPopUp\n  | MoveTab\n  | EmptyOnlyFolder;\n","import { NavigationExtras } from '@angular/router';\nimport { Action } from '@ngrx/store';\n\nexport const GO = '[Router] Go';\nexport const BACK = '[Router] Back';\nexport const FORWARD = '[Router] Forward';\n\nexport class Go implements Action {\n  readonly type = GO;\n\n  constructor(\n    public payload: {\n      path: any[];\n      query?: object;\n      extras?: NavigationExtras;\n    },\n  ) {}\n}\n\nexport class Back implements Action {\n  readonly type = BACK;\n}\n\nexport class Forward implements Action {\n  readonly type = FORWARD;\n}\n\nexport type Actions = Go | Back | Forward;\n","import { Action } from '@ngrx/store';\n\nexport enum SearchActionTypes {\n  CLEAR_SEARCH = '[SEARCH] update',\n}\n\nexport class ClearSearch implements Action {\n  readonly type = SearchActionTypes.CLEAR_SEARCH;\n\n  constructor(public payload?: any) {}\n}\n\nexport type SearchActionAll = ClearSearch;\n","import { Action } from '@ngrx/store';\n\nexport enum SecureMessageActionTypes {\n  GET_MESSAGE = '[Mail] GET MESSAGE',\n  GET_MESSAGE_SUCCESS = '[Mail] GET MESSAGE SUCCESS',\n  GET_MESSAGE_FAILURE = '[Mail] GET MESSAGE FAILURE',\n  UPDATE_SECURE_MESSAGE_KEY = '[Mail] UPDATE SECURE MESSAGE KEY',\n  UPDATE_SECURE_MESSAGE_CONTENT = '[Mail] UPDATE SECURE MESSAGE CONTENT',\n  UPDATE_SECURE_MESSAGE_ENCRYPTED_CONTENT = 'UPDATE_SECURE_MESSAGE_CONTENT',\n  SEND_SECURE_MESSAGE_REPLY = '[Mail] SEND SECURE MESSAGE REPLY MAIL',\n  SEND_SECURE_MESSAGE_REPLY_SUCCESS = '[Mail] SEND SECURE MESSAGE REPLY SUCCESS',\n  SEND_SECURE_MESSAGE_REPLY_FAILURE = '[Mail] SEND SECURE MESSAGE REPLY FAILURE',\n  GET_SECURE_MESSAGE_USERS_KEYS = '[USERS] GET SECURE MESSAGE USER KEYS',\n  GET_SECURE_MESSAGE_USERS_KEYS_SUCCESS = '[USERS] GET SECURE MESSAGE USER KEYS SUCCESS',\n}\n\nexport class GetMessage implements Action {\n  readonly type = SecureMessageActionTypes.GET_MESSAGE;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetMessageSuccess implements Action {\n  readonly type = SecureMessageActionTypes.GET_MESSAGE_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetMessageFailure implements Action {\n  readonly type = SecureMessageActionTypes.GET_MESSAGE_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateSecureMessageKey implements Action {\n  readonly type = SecureMessageActionTypes.UPDATE_SECURE_MESSAGE_KEY;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateSecureMessageContent implements Action {\n  readonly type = SecureMessageActionTypes.UPDATE_SECURE_MESSAGE_CONTENT;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateSecureMessageEncryptedContent implements Action {\n  readonly type = SecureMessageActionTypes.UPDATE_SECURE_MESSAGE_ENCRYPTED_CONTENT;\n\n  constructor(public payload: any) {}\n}\n\nexport class SendSecureMessageReply implements Action {\n  readonly type = SecureMessageActionTypes.SEND_SECURE_MESSAGE_REPLY;\n\n  constructor(public payload: any) {}\n}\n\nexport class SendSecureMessageReplySuccess implements Action {\n  readonly type = SecureMessageActionTypes.SEND_SECURE_MESSAGE_REPLY_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class SendSecureMessageReplyFailure implements Action {\n  readonly type = SecureMessageActionTypes.SEND_SECURE_MESSAGE_REPLY_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetSecureMessageUserKeys implements Action {\n  readonly type = SecureMessageActionTypes.GET_SECURE_MESSAGE_USERS_KEYS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetSecureMessageUserKeysSuccess implements Action {\n  readonly type = SecureMessageActionTypes.GET_SECURE_MESSAGE_USERS_KEYS_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport type SecureMessageActions =\n  | GetMessage\n  | GetMessageSuccess\n  | GetMessageFailure\n  | UpdateSecureMessageKey\n  | UpdateSecureMessageContent\n  | UpdateSecureMessageEncryptedContent\n  | SendSecureMessageReply\n  | SendSecureMessageReplySuccess\n  | SendSecureMessageReplyFailure\n  | GetSecureMessageUserKeys\n  | GetSecureMessageUserKeysSuccess;\n","import { Action } from '@ngrx/store';\n\nexport enum TimezoneActionTypes {\n  TIMEZONE_GET = '[TIMEZONE] GET',\n  TIMEZONE_GET_SUCCESS = '[TIMEZONE] GET SUCCESS',\n}\n\nexport class TimezoneGet implements Action {\n  readonly type = TimezoneActionTypes.TIMEZONE_GET;\n\n  constructor(public payload?: any) {}\n}\n\nexport class TimezoneGetSuccess implements Action {\n  readonly type = TimezoneActionTypes.TIMEZONE_GET_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport type TimezoneActionAll = TimezoneGet | TimezoneGetSuccess;\n","import { Action } from '@ngrx/store';\n\nimport { Settings } from '../datatypes';\n\nexport enum UsersActionTypes {\n  ACCOUNTS = '[Users] Accounts',\n  ACCOUNTS_READ_SUCCESS = '[Users] Accounts_Read_Success',\n  WHITELIST_GET = '[Users] WhiteLists',\n  WHITELIST_READ_SUCCESS = '[Users] WhiteList_Read_Success',\n  WHITELIST_ADD = '[Users] WhiteList_Add',\n  WHITELIST_ADD_SUCCESS = '[Users] WhiteList_Add_Success',\n  WHITELIST_ADD_ERROR = '[Users] WhiteList_Add_Error',\n  WHITELIST_DELETE = '[Users] WhiteList_Delete',\n  WHITELIST_DELETE_SUCCESS = '[Users] WhiteList_Delete_Success',\n  CARD_GET = '[Users] CardLists',\n  CARD_READ_SUCCESS = '[Users] Card_Read_Success',\n  CARD_ADD = '[Users] Card_Add',\n  CARD_ADD_SUCCESS = '[Users] Card_Add_Success',\n  CARD_ADD_ERROR = '[Users] Card_Add_Error',\n  CARD_DELETE = '[Users] Card_Delete',\n  CARD_DELETE_SUCCESS = '[Users] Card_Delete_Success',\n  CARD_MAKE_PRIMARY = '[Users] Card_Make_Primary',\n  CARD_MAKE_PRIMARY_SUCCESS = '[Users] Card_Make_Primary_Success',\n  BLACKLIST_GET = '[Users] BlackLists',\n  BLACKLIST_READ_SUCCESS = '[Users] BlackList_Read_Success',\n  BLACKLIST_ADD = '[Users] BlackList_Add',\n  BLACKLIST_ADD_SUCCESS = '[Users] BlackList_Add_Success',\n  BLACKLIST_ADD_ERROR = '[Users] BlackList_Add_ERROR',\n  BLACKLIST_DELETE = '[Users] BlackList_Delete',\n  BLACKLIST_DELETE_SUCCESS = '[Users] BlackList_Delete_Success',\n  ACCOUNT_DETAILS_GET = '[Users] ACCOUNT_DETAILS_GET',\n  ACCOUNT_DETAILS_GET_SUCCESS = '[Users] ACCOUNT_DETAILS_GET_SUCCESS',\n  SNACK_PUSH = '[Snacks] Push',\n  SNACK_PUSH_SUCCESS = '[Snacks] Push success',\n  SNACK_ERROR_PUSH = '[Snacks] Error Push',\n  SNACK_ERROR_PUSH_SUCCESS = '[Snacks] Error Push success',\n  MEMBERSHIP_UPDATE = '[Membership] Update',\n  SETTINGS_UPDATE = '[SETTINGS] UPDATE',\n  SETTINGS_UPDATE_SUCCESS = '[SETTINGS] UPDATE SUCCESS',\n  SETTINGS_UPDATE_USED_STORAGE = '[SETTINGS] UPDATE USED STORAGE',\n  CREATE_FOLDER = '[USER] CREATE FOLDER',\n  CREATE_FOLDER_SUCCESS = '[USER] CREATE FOLDER SUCCESS',\n  CREATE_FOLDER_FAILURE = '[USER] CREATE FOLDER FAILURE',\n  DELETE_FOLDER = '[USER] DELETE FOLDER',\n  DELETE_FOLDER_SUCCESS = '[USER] DELETE FOLDER SUCCESS',\n  GET_FILTERS = '[USER] GET FILTERS',\n  GET_FILTERS_SUCCESS = '[USER] GET FILTERS SUCCESS',\n  CREATE_FILTER = '[USER] CREATE FILTER',\n  CREATE_FILTER_SUCCESS = '[USER] CREATE FILTER SUCCESS',\n  CREATE_FILTER_FAILURE = '[USER] CREATE FILTER FAILURE',\n  UPDATE_FILTER = '[USER] UPDATE FILTER',\n  UPDATE_FILTER_SUCCESS = '[USER] UPDATE FILTER SUCCESS',\n  UPDATE_FILTER_FAILURE = '[USER] UPDATE FILTER FAILURE',\n  DELETE_FILTER = '[USER] DELETE FILTER',\n  DELETE_FILTER_SUCCESS = '[USER] DELETE FILTER SUCCESS',\n  DELETE_FILTER_FAILURE = '[USER] DELETE FILTER FAILURE',\n  GET_DOMAINS = '[Users] GET_DOMAINS',\n  GET_DOMAINS_SUCCESS = '[Users] GET_DOMAINS_SUCCESS',\n  CREATE_DOMAIN = '[Users] CREATE_DOMAIN',\n  CREATE_DOMAIN_SUCCESS = '[Users] CREATE_DOMAIN_SUCCESS',\n  CREATE_DOMAIN_FAILURE = '[Users] CREATE_DOMAIN_FAILURE',\n  UPDATE_DOMAIN = '[Users] UPDATE_DOMAIN',\n  UPDATE_DOMAIN_SUCCESS = '[Users] UPDATE_DOMAIN_SUCCESS',\n  UPDATE_DOMAIN_FAILURE = '[Users] UPDATE_DOMAIN_FAILURE',\n  READ_DOMAIN = '[Users] READ_DOMAIN',\n  READ_DOMAIN_SUCCESS = '[Users] READ_DOMAIN_SUCCESS',\n  READ_DOMAIN_FAILURE = '[Users] READ_DOMAIN_FAILURE',\n  DELETE_DOMAIN = '[Users] DELETE_DOMAIN',\n  DELETE_DOMAIN_SUCCESS = '[Users] DELETE_DOMAIN_SUCCESS',\n  DELETE_DOMAIN_FAILURE = '[Users] DELETE_DOMAIN_FAILURE',\n  VERIFY_DOMAIN = '[Users] VERIFY_DOMAIN',\n  VERIFY_DOMAIN_SUCCESS = '[Users] VERIFY_DOMAIN_SUCCESS',\n  VERIFY_DOMAIN_FAILURE = '[Users] VERIFY_DOMAIN_FAILURE',\n  PAYMENT_FAILURE = '[USER] PAYMENT FAILURE',\n  SEND_EMAIL_FORWARDING_CODE = '[USER] SEND EMAIL FORWARDING CODE',\n  SEND_EMAIL_FORWARDING_CODE_SUCCESS = '[USER] SEND EMAIL FORWARDING CODE SUCCESS',\n  SEND_EMAIL_FORWARDING_CODE_FAILURE = '[USER] SEND EMAIL FORWARDING CODE FAILURE',\n  VERIFY_EMAIL_FORWARDING_CODE = '[USER] VERIFY EMAIL FORWARDING CODE',\n  VERIFY_EMAIL_FORWARDING_CODE_SUCCESS = '[USER] VERIFY EMAIL FORWARDING CODE SUCCESS',\n  VERIFY_EMAIL_FORWARDING_CODE_FAILURE = '[USER] VERIFY EMAIL FORWARDING CODE FAILURE',\n  UPDATE_FOLDER_ORDER = '[USER] UPDATE FOLDER ORDER',\n  UPDATE_FOLDER_ORDER_SUCCESS = '[USER] UPDATE FOLDER ORDER SUCCESS',\n  SAVE_AUTORESPONDER = '[USER] SAVE AUTORESPONDER',\n  SAVE_AUTORESPONDER_SUCCESS = '[USER] SAVE AUTORESPONDER SUCCESS',\n  SAVE_AUTORESPONDER_FAILURE = '[USER] SAVE AUTORESPONDER FAILURE',\n  GET_INVOICES = '[USER] GET INVOICES',\n  GET_INVOICES_SUCCESS = '[USER] GET INVOICES SUCCESS',\n  GET_UPGRADE_AMOUNT = '[USER] GET UPGRADE AMOUNT',\n  GET_UPGRADE_AMOUNT_SUCCESS = '[USER] GET UPGRADE AMOUNT SUCCESS',\n  VALIDATE_PROMO_CODE = '[USER] VALIDATE PROMO CODE',\n  VALIDATE_PROMO_CODE_SUCCESS = '[USER] VALIDATE PROMO CODE SUCCESS',\n  CLEAR_PROMO_CODE = '[USER] CLEAR PROMO CODE',\n  INVITE_CODE_GET = '[USER] INVITE CODE GET',\n  INVITE_CODE_GET_SUCCESS = '[USER] INVITE CODE GET SUCCESS',\n  INVITE_CODE_GENERATE = '[USER] INVITE CODE GENERATE',\n  INVITE_CODE_GENERATE_SUCCESS = '[USER] INVITE CODE GENERATE SUCCESS',\n  INVITE_CODE_GENERATE_FAILURE = '[USER] INVITE CODE GENERATE FAILURE',\n  GET_NOTIFICATION = '[USER] GET NOTIFICATION',\n  GET_NOTIFICATION_SUCCESS = '[USER] GET NOTIFICATION SUCCESS',\n}\n\nexport class GetNotification implements Action {\n  readonly type = UsersActionTypes.GET_NOTIFICATION;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetNotificationSuccess implements Action {\n  readonly type = UsersActionTypes.GET_NOTIFICATION_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class Accounts implements Action {\n  readonly type = UsersActionTypes.ACCOUNTS;\n\n  constructor(public payload: any) {}\n}\n\nexport class AccountsReadSuccess implements Action {\n  readonly type = UsersActionTypes.ACCOUNTS_READ_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CardGet implements Action {\n  readonly type = UsersActionTypes.CARD_GET;\n\n  constructor(public payload?: any) {}\n}\n\nexport class CardReadSuccess implements Action {\n  readonly type = UsersActionTypes.CARD_READ_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CardAdd implements Action {\n  readonly type = UsersActionTypes.CARD_ADD;\n\n  constructor(public payload: any) {}\n}\n\nexport class CardAddSuccess implements Action {\n  readonly type = UsersActionTypes.CARD_ADD_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CardAddError implements Action {\n  readonly type = UsersActionTypes.CARD_ADD_ERROR;\n\n  constructor(public payload?: any) {}\n}\n\nexport class CardDelete implements Action {\n  readonly type = UsersActionTypes.CARD_DELETE;\n\n  constructor(public payload: any) {}\n}\n\nexport class CardDeleteSuccess implements Action {\n  readonly type = UsersActionTypes.CARD_DELETE_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CardMakePrimary implements Action {\n  readonly type = UsersActionTypes.CARD_MAKE_PRIMARY;\n\n  constructor(public payload: any) {}\n}\n\nexport class CardMakePrimarySuccess implements Action {\n  readonly type = UsersActionTypes.CARD_MAKE_PRIMARY_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class WhiteListGet implements Action {\n  readonly type = UsersActionTypes.WHITELIST_GET;\n\n  constructor(public payload?: any) {}\n}\n\nexport class WhiteListsReadSuccess implements Action {\n  readonly type = UsersActionTypes.WHITELIST_READ_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class WhiteListAdd implements Action {\n  readonly type = UsersActionTypes.WHITELIST_ADD;\n\n  constructor(public payload: any) {}\n}\n\nexport class WhiteListAddSuccess implements Action {\n  readonly type = UsersActionTypes.WHITELIST_ADD_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class WhiteListAddError implements Action {\n  readonly type = UsersActionTypes.WHITELIST_ADD_ERROR;\n\n  constructor(public payload?: any) {}\n}\n\nexport class WhiteListDelete implements Action {\n  readonly type = UsersActionTypes.WHITELIST_DELETE;\n\n  constructor(public payload: any) {}\n}\n\nexport class WhiteListDeleteSuccess implements Action {\n  readonly type = UsersActionTypes.WHITELIST_DELETE_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class BlackListGet implements Action {\n  readonly type = UsersActionTypes.BLACKLIST_GET;\n\n  constructor(public payload?: any) {}\n}\n\nexport class BlackListsReadSuccess implements Action {\n  readonly type = UsersActionTypes.BLACKLIST_READ_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class BlackListAdd implements Action {\n  readonly type = UsersActionTypes.BLACKLIST_ADD;\n\n  constructor(public payload: any) {}\n}\n\nexport class BlackListAddSuccess implements Action {\n  readonly type = UsersActionTypes.BLACKLIST_ADD_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class BlackListAddError implements Action {\n  readonly type = UsersActionTypes.BLACKLIST_ADD_ERROR;\n\n  constructor(public payload?: any) {}\n}\n\nexport class BlackListDelete implements Action {\n  readonly type = UsersActionTypes.BLACKLIST_DELETE;\n\n  constructor(public payload: any) {}\n}\n\nexport class BlackListDeleteSuccess implements Action {\n  readonly type = UsersActionTypes.BLACKLIST_DELETE_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class AccountDetailsGet implements Action {\n  readonly type = UsersActionTypes.ACCOUNT_DETAILS_GET;\n\n  constructor(public payload?: any) {}\n}\n\nexport class AccountDetailsGetSuccess implements Action {\n  readonly type = UsersActionTypes.ACCOUNT_DETAILS_GET_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SnackPush implements Action {\n  readonly type = UsersActionTypes.SNACK_PUSH;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SnackPushSuccess implements Action {\n  readonly type = UsersActionTypes.SNACK_PUSH_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SnackErrorPush implements Action {\n  readonly type = UsersActionTypes.SNACK_ERROR_PUSH;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SnackErrorPushSuccess implements Action {\n  readonly type = UsersActionTypes.SNACK_ERROR_PUSH_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class MembershipUpdate implements Action {\n  readonly type = UsersActionTypes.MEMBERSHIP_UPDATE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SettingsUpdate implements Action {\n  readonly type = UsersActionTypes.SETTINGS_UPDATE;\n\n  constructor(public payload: Settings) {}\n}\n\nexport class SettingsUpdateSuccess implements Action {\n  readonly type = UsersActionTypes.SETTINGS_UPDATE_SUCCESS;\n\n  constructor(public payload: Settings) {}\n}\n\nexport class SettingsUpdateUsedStorage implements Action {\n  readonly type = UsersActionTypes.SETTINGS_UPDATE_USED_STORAGE;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateFolder implements Action {\n  readonly type = UsersActionTypes.CREATE_FOLDER;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateFolderSuccess implements Action {\n  readonly type = UsersActionTypes.CREATE_FOLDER_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateFolderFailure implements Action {\n  readonly type = UsersActionTypes.CREATE_FOLDER_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class DeleteFolder implements Action {\n  readonly type = UsersActionTypes.DELETE_FOLDER;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteFolderSuccess implements Action {\n  readonly type = UsersActionTypes.DELETE_FOLDER_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetFilters implements Action {\n  readonly type = UsersActionTypes.GET_FILTERS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetFiltersSuccess implements Action {\n  readonly type = UsersActionTypes.GET_FILTERS_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateFilter implements Action {\n  readonly type = UsersActionTypes.CREATE_FILTER;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateFilterSuccess implements Action {\n  readonly type = UsersActionTypes.CREATE_FILTER_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateFilterFailure implements Action {\n  readonly type = UsersActionTypes.CREATE_FILTER_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateFilter implements Action {\n  readonly type = UsersActionTypes.UPDATE_FILTER;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateFilterSuccess implements Action {\n  readonly type = UsersActionTypes.UPDATE_FILTER_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateFilterFailure implements Action {\n  readonly type = UsersActionTypes.UPDATE_FILTER_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteFilter implements Action {\n  readonly type = UsersActionTypes.DELETE_FILTER;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteFilterSuccess implements Action {\n  readonly type = UsersActionTypes.DELETE_FILTER_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteFilterFailure implements Action {\n  readonly type = UsersActionTypes.DELETE_FILTER_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetDomains implements Action {\n  readonly type = UsersActionTypes.GET_DOMAINS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetDomainsSuccess implements Action {\n  readonly type = UsersActionTypes.GET_DOMAINS_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class CreateDomain implements Action {\n  readonly type = UsersActionTypes.CREATE_DOMAIN;\n\n  constructor(public payload: string) {}\n}\n\nexport class CreateDomainSuccess implements Action {\n  readonly type = UsersActionTypes.CREATE_DOMAIN_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class CreateDomainFailure implements Action {\n  readonly type = UsersActionTypes.CREATE_DOMAIN_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateDomain implements Action {\n  readonly type = UsersActionTypes.UPDATE_DOMAIN;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateDomainSuccess implements Action {\n  readonly type = UsersActionTypes.UPDATE_DOMAIN_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class UpdateDomainFailure implements Action {\n  readonly type = UsersActionTypes.UPDATE_DOMAIN_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class ReadDomain implements Action {\n  readonly type = UsersActionTypes.READ_DOMAIN;\n\n  constructor(public payload: number) {}\n}\n\nexport class ReadDomainSuccess implements Action {\n  readonly type = UsersActionTypes.READ_DOMAIN_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ReadDomainFailure implements Action {\n  readonly type = UsersActionTypes.READ_DOMAIN_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteDomain implements Action {\n  readonly type = UsersActionTypes.DELETE_DOMAIN;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteDomainSuccess implements Action {\n  readonly type = UsersActionTypes.DELETE_DOMAIN_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class DeleteDomainFailure implements Action {\n  readonly type = UsersActionTypes.DELETE_DOMAIN_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class VerifyDomain implements Action {\n  readonly type = UsersActionTypes.VERIFY_DOMAIN;\n\n  constructor(public payload: any) {}\n}\n\nexport class VerifyDomainSuccess implements Action {\n  readonly type = UsersActionTypes.VERIFY_DOMAIN_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class VerifyDomainFailure implements Action {\n  readonly type = UsersActionTypes.VERIFY_DOMAIN_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class PaymentFailure implements Action {\n  readonly type = UsersActionTypes.PAYMENT_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SendEmailForwardingCode implements Action {\n  readonly type = UsersActionTypes.SEND_EMAIL_FORWARDING_CODE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SendEmailForwardingCodeSuccess implements Action {\n  readonly type = UsersActionTypes.SEND_EMAIL_FORWARDING_CODE_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SendEmailForwardingCodeFailure implements Action {\n  readonly type = UsersActionTypes.SEND_EMAIL_FORWARDING_CODE_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class VerifyEmailForwardingCode implements Action {\n  readonly type = UsersActionTypes.VERIFY_EMAIL_FORWARDING_CODE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class VerifyEmailForwardingCodeSuccess implements Action {\n  readonly type = UsersActionTypes.VERIFY_EMAIL_FORWARDING_CODE_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class VerifyEmailForwardingCodeFailure implements Action {\n  readonly type = UsersActionTypes.VERIFY_EMAIL_FORWARDING_CODE_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class UpdateFolderOrder implements Action {\n  readonly type = UsersActionTypes.UPDATE_FOLDER_ORDER;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateFolderOrderSuccess implements Action {\n  readonly type = UsersActionTypes.UPDATE_FOLDER_ORDER_SUCCESS;\n\n  constructor(public payload?: any) {}\n}\n\nexport class SaveAutoResponder implements Action {\n  readonly type = UsersActionTypes.SAVE_AUTORESPONDER;\n\n  constructor(public payload: any) {}\n}\n\nexport class SaveAutoResponderSuccess implements Action {\n  readonly type = UsersActionTypes.SAVE_AUTORESPONDER_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class SaveAutoResponderFailure implements Action {\n  readonly type = UsersActionTypes.SAVE_AUTORESPONDER_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetInvoices implements Action {\n  readonly type = UsersActionTypes.GET_INVOICES;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetInvoicesSuccess implements Action {\n  readonly type = UsersActionTypes.GET_INVOICES_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetUpgradeAmount implements Action {\n  readonly type = UsersActionTypes.GET_UPGRADE_AMOUNT;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetUpgradeAmountSuccess implements Action {\n  readonly type = UsersActionTypes.GET_UPGRADE_AMOUNT_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ValidatePromoCode implements Action {\n  readonly type = UsersActionTypes.VALIDATE_PROMO_CODE;\n\n  constructor(public payload: any) {}\n}\n\nexport class ValidatePromoCodeSuccess implements Action {\n  readonly type = UsersActionTypes.VALIDATE_PROMO_CODE_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class ClearPromoCode implements Action {\n  readonly type = UsersActionTypes.CLEAR_PROMO_CODE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetInviteCodes implements Action {\n  readonly type = UsersActionTypes.INVITE_CODE_GET;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GetInviteCodesSuccess implements Action {\n  readonly type = UsersActionTypes.INVITE_CODE_GET_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GenerateInviteCode implements Action {\n  readonly type = UsersActionTypes.INVITE_CODE_GENERATE;\n\n  constructor(public payload?: any) {}\n}\n\nexport class GenerateInviteCodeSuccess implements Action {\n  readonly type = UsersActionTypes.INVITE_CODE_GENERATE_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GenerateInviteCodeFailure implements Action {\n  readonly type = UsersActionTypes.INVITE_CODE_GENERATE_FAILURE;\n\n  constructor(public payload?: any) {}\n}\n\nexport type UsersActionAll =\n  | Accounts\n  | AccountsReadSuccess\n  | CardGet\n  | CardReadSuccess\n  | CardAdd\n  | CardAddSuccess\n  | CardAddError\n  | CardDelete\n  | CardDeleteSuccess\n  | CardMakePrimary\n  | CardMakePrimarySuccess\n  | WhiteListGet\n  | WhiteListsReadSuccess\n  | WhiteListAdd\n  | WhiteListAddSuccess\n  | WhiteListAddError\n  | WhiteListDelete\n  | WhiteListDeleteSuccess\n  | BlackListGet\n  | BlackListsReadSuccess\n  | BlackListAdd\n  | BlackListAddSuccess\n  | BlackListAddError\n  | BlackListDelete\n  | BlackListDeleteSuccess\n  | AccountDetailsGet\n  | AccountDetailsGetSuccess\n  | SnackPush\n  | SnackPushSuccess\n  | SnackErrorPush\n  | SnackErrorPushSuccess\n  | MembershipUpdate\n  | SettingsUpdate\n  | SettingsUpdateSuccess\n  | SettingsUpdateUsedStorage\n  | CreateFolder\n  | CreateFolderSuccess\n  | CreateFolderFailure\n  | DeleteFolder\n  | DeleteFolderSuccess\n  | GetFilters\n  | GetFiltersSuccess\n  | CreateFilter\n  | CreateFilterSuccess\n  | CreateFilterFailure\n  | UpdateFilter\n  | UpdateFilterSuccess\n  | UpdateFilterFailure\n  | DeleteFilter\n  | DeleteFilterSuccess\n  | DeleteFilterFailure\n  | GetDomains\n  | GetDomainsSuccess\n  | CreateDomain\n  | CreateDomainSuccess\n  | CreateDomainFailure\n  | UpdateDomain\n  | UpdateDomainSuccess\n  | UpdateDomainFailure\n  | ReadDomain\n  | ReadDomainSuccess\n  | ReadDomainFailure\n  | DeleteDomain\n  | DeleteDomainSuccess\n  | DeleteDomainFailure\n  | PaymentFailure\n  | VerifyDomain\n  | VerifyDomainSuccess\n  | VerifyDomainFailure\n  | SendEmailForwardingCode\n  | SendEmailForwardingCodeSuccess\n  | SendEmailForwardingCodeFailure\n  | VerifyEmailForwardingCode\n  | VerifyEmailForwardingCodeSuccess\n  | VerifyEmailForwardingCodeFailure\n  | UpdateFolderOrder\n  | UpdateFolderOrderSuccess\n  | SaveAutoResponder\n  | SaveAutoResponderSuccess\n  | SaveAutoResponderFailure\n  | GetInvoices\n  | GetInvoicesSuccess\n  | GetUpgradeAmount\n  | GetUpgradeAmountSuccess\n  | ValidatePromoCode\n  | ValidatePromoCodeSuccess\n  | ClearPromoCode\n  | GetInviteCodes\n  | GetInviteCodesSuccess\n  | GenerateInviteCode\n  | GenerateInviteCodeSuccess\n  | GenerateInviteCodeFailure\n  | GetNotification\n  | GetNotificationSuccess;\n","import { Params } from '@angular/router';\n\nimport { Attachment, Mail, Mailbox, MailFolderType, Membership, User, UserMailbox } from './models';\nimport { Filter } from './models/filter.model';\nimport { SearchState } from './reducers/search.reducers';\nimport { Folder } from './models/mail.model';\nimport { WebSocketState } from './websocket.store';\nimport { OrganizationState } from './organization.store';\n\nexport interface RouterStateUrl {\n  url: string;\n  queryParams: Params;\n  params: Params;\n  state: any;\n}\n\nexport interface AuthState {\n  // is a user authenticated?\n  isAuthenticated: boolean;\n  // if authenticated, there should be a user object\n  user: User | null;\n  // error message\n  errorMessage: string | null;\n  inProgress: boolean;\n  signupState: SignupState;\n  isRecoveryCodeSent: boolean;\n  resetPasswordErrorMessage: string | null;\n  updatedPrivateKeys?: any;\n  isChangePasswordError?: boolean;\n  captcha?: Captcha;\n  auth2FA?: Auth2FA;\n  anti_phishing_phrase?: string;\n  recovery_key?: string;\n  saveDraftOnLogout?: boolean;\n}\n\nexport interface CardState {\n  id: string | null;\n  brand: string | null;\n  country: string | null;\n  exp_month: number;\n  exp_year: number;\n  last4: string | null;\n  is_primary: boolean;\n}\n\nexport class Auth2FA {\n  secret?: string;\n\n  secret_url?: string;\n\n  inProgress?: boolean;\n\n  is_2fa_enabled?: boolean;\n\n  show2FALogin?: boolean;\n\n  constructor(data?: any) {\n    if (data) {\n      this.inProgress = data.inProgress;\n      this.secret = data.secret;\n      this.secret_url = encodeURIComponent(data.secret_url);\n    }\n  }\n}\n\nexport interface Captcha {\n  captcha_image?: string;\n  captcha_key?: string;\n  value?: string;\n  inProgress?: boolean;\n  isInvalid?: boolean;\n  verified?: boolean;\n}\n\nexport interface SignupState {\n  username?: string;\n  password?: string;\n  recovery_email?: string;\n  usernameExists?: boolean;\n  inProgress?: boolean;\n  recaptcha: string;\n  public_key?: string;\n  private_key?: string;\n  fingerprint?: string;\n  plan_type?: PlanType;\n  payment_type?: PaymentType;\n  payment_method?: PaymentMethod;\n  currency?: string;\n  memory?: number;\n  email_count?: number;\n  domain_count?: number;\n  monthlyPrice?: number;\n  annualPricePerMonth?: number;\n  annualPriceTotal?: number;\n}\n\nexport class UserState {\n  username: string | null;\n\n  id: number | null;\n\n  whiteList: WhiteList[];\n\n  blackList: BlackList[];\n\n  settings: Settings;\n\n  payment_transaction?: Payment;\n\n  isPrime?: boolean;\n\n  joinedDate?: string;\n\n  inProgress?: boolean;\n\n  isError?: boolean;\n\n  error?: string;\n\n  membership: Membership;\n\n  mailboxes: UserMailbox[];\n\n  customFolders: Folder[];\n\n  filters: Filter[];\n\n  filtersError?: any;\n\n  autoresponder?: AutoResponder;\n\n  customDomains: Domain[];\n\n  customDomainsLoaded?: boolean;\n\n  newCustomDomain?: Domain;\n\n  newCustomDomainError?: string;\n\n  currentCreationStep: number;\n\n  isForwardingVerificationCodeSent?: boolean;\n\n  emailForwardingErrorMessage?: string;\n\n  autoResponderErrorMessage?: string;\n\n  isLoaded?: boolean;\n\n  invoices: Invoice[];\n\n  isInvoiceLoaded?: boolean;\n\n  upgradeAmount?: number;\n\n  promoCode: PromoCode;\n\n  inviteCodes: InviteCode[];\n\n  has_notification?: boolean;\n\n  notifications?: any;\n\n  cards?: Array<CardState>;\n}\n\nexport interface InviteCode {\n  expiration_date: string;\n  is_used: boolean;\n  code: string;\n}\n\nexport class PromoCode {\n  is_valid: boolean = null;\n\n  discount_amount?: number;\n\n  new_amount: number = null;\n\n  new_amount_btc: number = null;\n\n  message?: string;\n\n  value = '';\n\n  enabled = false;\n\n  inProgress = false;\n}\n\nexport interface ContactsState {\n  contacts: Contact[];\n  totalContacts: number;\n  inProgress?: boolean;\n  isError?: boolean;\n  emailContacts?: EmailContact[];\n  noOfDecryptedContacts: number;\n  contactsToDecrypt: Contact[];\n  loaded: boolean;\n}\n\nexport interface EmailContact {\n  name: string;\n  email: string;\n}\n\nexport class Settings {\n  id?: number;\n\n  emails_per_page?: number;\n\n  embed_content?: boolean;\n\n  newsletter?: boolean;\n\n  recovery_email?: string;\n\n  save_contacts?: boolean;\n\n  show_snippets?: boolean;\n\n  timezone?: string;\n\n  language?: string;\n\n  signature?: string;\n\n  allocated_storage?: number;\n\n  used_storage?: number;\n\n  display_name?: string;\n\n  email_count?: number;\n\n  domain_count?: number;\n\n  default_font?: string;\n\n  autosave_duration?: string;\n\n  enable_forwarding?: boolean;\n\n  enable_copy_forwarding?: boolean;\n\n  forwarding_address?: string;\n\n  plan_type?: PlanType;\n\n  notification_email?: string;\n\n  recurrence_billing?: boolean;\n\n  is_subject_encrypted?: boolean;\n\n  is_attachments_encrypted?: boolean;\n\n  enable_2fa?: boolean;\n\n  is_contacts_encrypted?: boolean;\n\n  is_anti_phishing_enabled?: boolean;\n\n  anti_phishing_phrase?: string;\n\n  is_html_disabled?: boolean;\n\n  attachment_size_limit?: number;\n\n  attachment_size_error?: string;\n\n  is_composer_full_screen?: boolean;\n\n  is_night_mode?: boolean;\n\n  is_conversation_mode?: boolean;\n\n  is_enable_report_bugs?: boolean;\n\n  include_original_message?: boolean;\n\n  custom_css?: string;\n\n  is_disable_loading_images?: boolean;\n\n  is_subject_auto_decrypt?: boolean;\n}\n\nexport interface Invoice {\n  id: number;\n  invoice_id: number;\n  invoice_date: Date;\n  plan_type: PlanType;\n  payment_type: PaymentType;\n  payment_method: PaymentMethod;\n  total_amount: number;\n  total_amount_btc?: number;\n  custom_domains: number;\n  email_addresses: number;\n  storage: number;\n  items: InvoiceItem[];\n}\n\nexport interface InvoiceItem {\n  description?: string;\n  quantity: number;\n  amount: number;\n  amount_btc?: number;\n  type: string;\n}\n\nexport interface AutoResponder {\n  id?: number;\n  is_time_range_restricted?: boolean;\n  start_time?: string;\n  end_time?: string;\n  autoresponder_message?: string;\n  autoresponder_active?: boolean;\n  start_date?: string;\n  end_date?: string;\n  vacationautoresponder_message?: string;\n  vacationautoresponder_active?: boolean;\n  only_contacts?: boolean;\n}\n\nexport class Payment {\n  id?: number;\n\n  transaction_id?: string;\n\n  amount?: number;\n\n  currency?: string;\n\n  created?: string;\n\n  billing_cycle_ends?: string;\n\n  payment_method?: PaymentMethod;\n\n  payment_type?: PaymentType;\n}\n\nexport class MailStateFolderInfo {\n  is_not_first_page?: boolean;\n\n  total_mail_count?: number;\n\n  is_dirty?: boolean;\n\n  constructor(data?: any) {\n    if (data) {\n      this.is_not_first_page = data.is_not_first_page;\n      this.total_mail_count = data.total_mail_count;\n      this.is_dirty = data.is_dirty;\n    }\n  }\n}\n\nexport interface MailState {\n  mails: Mail[];\n  total_mail_count: number;\n  info_by_folder: Map<string, MailStateFolderInfo>;\n  mailDetail: Mail;\n  folders: Map<string, Mail[]>;\n  currentFolder?: MailFolderType;\n  loaded?: boolean;\n  inProgress?: boolean;\n  decryptedContents: DecryptedContentState;\n  decryptedSubjects: any;\n  unreadMailsCount: any;\n  customFolderMessageCount: any;\n  noUnreadCountChange: boolean;\n  canGetUnreadCount: boolean;\n  isMailsMoved?: boolean;\n  isComposerPopUp?: boolean;\n  currentSettingsTab?: string;\n}\n\nexport class SecureContent {\n  id?: number;\n\n  content: string;\n\n  content_plain?: string;\n\n  incomingHeaders?: string;\n\n  subject?: string;\n\n  inProgress?: boolean;\n\n  isSubjectEncrypted?: boolean;\n\n  constructor(data?: Mail) {\n    if (data) {\n      this.content = data.content;\n      this.content_plain = data.content_plain;\n      this.subject = data.subject;\n      this.incomingHeaders = data.incoming_headers;\n      this.isSubjectEncrypted = data.is_subject_encrypted;\n    }\n  }\n}\n\nexport interface DecryptedContentState {\n  [key: number]: SecureContent;\n}\n\nexport interface Draft {\n  id: number;\n  draft: Mail;\n  inProgress?: boolean;\n  encryptedContent?: SecureContent;\n  decryptedContent?: string;\n  isPGPInProgress?: boolean;\n  isSshInProgress?: boolean;\n  attachments: Attachment[];\n  shouldSend?: boolean;\n  shouldSave?: boolean;\n  getUserKeyInProgress?: boolean;\n  usersKeys?: UserKey;\n  isMailDetailPage?: boolean;\n  isSent?: boolean;\n  isSaving?: boolean;\n  /**\n   * @var isProcessingAttachments\n   * @description It represents if any of the attachments is being processed (encrypting/uploading).\n   */\n  isProcessingAttachments?: boolean;\n\n  /**\n   * @var isClosed\n   * @description It represents if the compose mail editor has been closed or not.\n   */\n  isClosed?: boolean;\n}\n\nexport interface DraftState {\n  [key: number]: Draft;\n}\n\nexport interface ComposeMailState {\n  drafts: DraftState;\n}\n\nexport interface MailBoxesState {\n  mailboxes: Mailbox[];\n  currentMailbox: Mailbox;\n  decryptKeyInProgress: boolean;\n  decryptedKey?: any;\n  encryptionInProgress: boolean;\n  inProgress?: boolean;\n  isUpdatingOrder?: boolean;\n}\n\nexport interface SecureMessageState {\n  decryptedContent?: SecureContent;\n  decryptedKey?: any;\n  encryptedContent?: string;\n  errorMessage?: string;\n  getUserKeyInProgress?: boolean;\n  inProgress?: boolean;\n  isContentDecryptionInProgress?: boolean;\n  isEncryptionInProgress?: boolean;\n  isKeyDecryptionInProgress?: boolean;\n  message: Mail;\n  usersKeys?: PublicKey[];\n}\n\nexport interface UserKey {\n  encrypt: boolean;\n  keys: PublicKey[];\n}\n\nexport interface PublicKey {\n  email: string;\n  is_enabled: boolean;\n  public_key: string;\n}\n\nexport interface LoadingState {\n  RecentBlogLoading: boolean | true;\n  RelatedBlogLoading: boolean | true;\n  Loading: boolean | true;\n}\n\nexport interface KeyboardState {\n  keyboardFocused: boolean;\n  keyPressed: {\n    key: string;\n  };\n  focusedInput: string;\n}\n\nexport interface WhiteList {\n  id?: number;\n  email: string;\n  name: string;\n}\n\nexport interface BlackList {\n  id?: number;\n  email: string;\n  name: string;\n}\n\nexport interface Contact {\n  id?: number;\n  address: string;\n  email?: string;\n  enabled_encryption?: boolean;\n  encrypted_data?: string;\n  extra_emails?: Array<string>;\n  extra_phones?: Array<string>;\n  is_decryptionInProgress?: boolean;\n  is_encrypted?: boolean;\n  isDecryptedFrontend?: boolean; // If the contact is decrypted on frontend or not\n  markForDelete?: boolean; // To handle delete multiple contacts using checkboxes\n  name?: string;\n  note?: string;\n  phone?: string;\n  phone2?: string;\n  provider?: string;\n  public_key?: string;\n}\n\nexport interface AppState {\n  auth: AuthState;\n  bitcoin: BitcoinState;\n  composeMail: ComposeMailState;\n  contacts: ContactsState;\n  keyboard: KeyboardState;\n  loading: LoadingState;\n  mail: MailState;\n  mailboxes: MailBoxesState;\n  organization: OrganizationState;\n  search: SearchState;\n  secureMessage: SecureMessageState;\n  timezone: TimezonesState;\n  user: UserState;\n  webSocket: WebSocketState;\n}\n\nexport interface TimezonesState {\n  timezones: Timezone[];\n}\n\nexport interface Timezone {\n  value: string;\n  key: string;\n}\n\nexport interface BitcoinState {\n  bitcoinRequired: number;\n  newWalletAddress: string;\n  loaded: boolean;\n  checkTransactionResponse: CheckTransactionResponse;\n}\n\nexport interface CheckTransactionResponse {\n  address?: string;\n  balance?: number;\n  confirmed?: boolean;\n  paid_out?: number;\n  pending_balance?: number;\n  required_balance?: number;\n  status: TransactionStatus;\n}\n\nexport interface DomainRecord {\n  host: string;\n  priority?: number;\n  type: string;\n  value: string;\n}\n\nexport interface Domain {\n  id: number;\n  catch_all?: boolean;\n  created: string;\n  dkim_record: DomainRecord;\n  dmarc_record: DomainRecord;\n  domain: string;\n  is_dkim_verified: boolean;\n  is_dmarc_verified: boolean;\n  is_domain_verified: boolean;\n  is_mx_verified: boolean;\n  is_spf_verified: boolean;\n  mx_record: DomainRecord;\n  number_of_aliases?: number;\n  number_of_users?: number;\n  spf_record: DomainRecord;\n  verification_record: DomainRecord;\n  verified_at?: string;\n}\n\nexport interface PricingPlan {\n  aliases: number;\n  annually_price: number;\n  anti_phishing: boolean;\n  attachment_upload_limit: number;\n  background: string;\n  brute_force_protection: boolean;\n  catch_all_email: boolean;\n  checksums: boolean;\n  custom_domains: number;\n  dead_man_timer: boolean;\n  delayed_delivery: boolean;\n  domain_count: number;\n  email_count: number;\n  encrypted_attachments: boolean;\n  encrypted_contacts: boolean;\n  encrypted_content: boolean;\n  encrypted_metadata: boolean;\n  encrypted_subjects: boolean;\n  exclusive_access: boolean;\n  four_data_deletion_methods: boolean;\n  gb: number;\n  messages_per_day: number | string;\n  monthly_price: number;\n  multi_user_support: boolean;\n  name: PlanType;\n  self_destructing_emails: boolean;\n  sri: boolean;\n  ssl_tls: boolean;\n  storage: number;\n  strip_ips: boolean;\n  two_fa: boolean;\n  unlimited_folders: boolean;\n  virus_detection_tool: boolean;\n  zero_knowledge_password: boolean;\n}\n\nexport enum TransactionStatus {\n  PENDING = 'Pending',\n  RECEIVED = 'Received',\n  SENT = 'Sent',\n  WAITING = 'Waiting',\n}\n\nexport enum PaymentMethod {\n  bitcoin = 'bitcoin',\n  BITCOIN = 'Bitcoin',\n  stripe = 'stripe',\n  STRIPE = 'Stripe',\n  monero = 'monero',\n  MONERO = 'Monero',\n}\n\nexport enum PaymentType {\n  MONTHLY = 'monthly',\n  ANNUALLY = 'annually',\n}\n\nexport enum PlanType {\n  FREE = 'FREE',\n  PRIME = 'PRIME',\n  KNIGHT = 'KNIGHT',\n  MARSHAL = 'MARSHALL',\n  PARAGON = 'PARAGON',\n  CHAMPION = 'CHAMPION',\n}\n\nexport enum NotificationPermission {\n  DEFAULT = 'default',\n  GRANTED = 'granted',\n  DENIED = 'denied',\n}\n\nexport enum MailAction {\n  REPLY = 'REPLY',\n  REPLY_ALL = 'REPLY_ALL',\n  FORWARD = 'FORWARD',\n}\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { Observable } from 'rxjs';\nimport { catchError, map, switchMap, tap } from 'rxjs/operators';\nimport { of } from 'rxjs/internal/observable/of';\nimport { EMPTY } from 'rxjs/internal/observable/empty';\n\nimport { UsersService } from '../services';\nimport {\n  AccountDetailsGet,\n  AuthActionTypes,\n  ChangePassword,\n  ChangePasswordFailed,\n  ChangePasswordSuccess,\n  CheckUsernameAvailability,\n  CheckUsernameAvailabilityError,\n  CheckUsernameAvailabilitySuccess,\n  DeleteAccount,\n  DeleteAccountFailure,\n  DeleteAccountSuccess,\n  Update2FA,\n  Update2FASuccess,\n  ExpireSession,\n  Get2FASecret,\n  Get2FASecretSuccess,\n  GetCaptcha,\n  GetCaptchaSuccess,\n  GetInvoices,\n  LogIn,\n  LogInFailure,\n  LogInSuccess,\n  Logout,\n  RecoverPassword,\n  RecoverPasswordFailure,\n  RecoverPasswordSuccess,\n  ResetPassword,\n  ResetPasswordFailure,\n  ResetPasswordSuccess,\n  SignUp,\n  SignUpFailure,\n  SignUpSuccess,\n  SnackErrorPush,\n  SnackPush,\n  UpgradeAccount,\n  UpgradeAccountFailure,\n  UpgradeAccountSuccess,\n  VerifyCaptcha,\n  VerifyCaptchaSuccess,\n  SettingsUpdateSuccess,\n  GetMailboxes,\n  RefreshToken,\n} from '../actions';\nimport { PlanType, SignupState } from '../datatypes';\nimport { NotificationService } from '../services/notification.service';\n\n@Injectable()\nexport class AuthEffects {\n  constructor(\n    private actions: Actions,\n    private authService: UsersService,\n    private notificationService: NotificationService,\n    private router: Router,\n  ) {}\n\n  @Effect()\n  LogIn: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.LOGIN),\n    map((action: LogIn) => action.payload),\n    switchMap(payload => {\n      return this.authService.signIn(payload).pipe(\n        map(response => new LogInSuccess(response)),\n        catchError((errorResponse: any) => of(new LogInFailure(errorResponse.error))),\n      );\n    }),\n  );\n\n  @Effect({ dispatch: false })\n  LogInSuccess: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.LOGIN_SUCCESS),\n    tap(response => {\n      if (response.payload.token) {\n        if (response.payload.is_2fa_enabled || !response.payload.anti_phishing_phrase) {\n          this.router.navigateByUrl('/mail');\n        }\n      }\n    }),\n  );\n\n  @Effect({ dispatch: false })\n  LogInFailure: Observable<any> = this.actions.pipe(ofType(AuthActionTypes.LOGIN_FAILURE));\n\n  @Effect({ dispatch: false })\n  RefreshToken: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.REFRESH_TOKEN),\n    map((action: RefreshToken) => action.payload),\n    switchMap(() => {\n      return this.authService.refreshToken();\n    }),\n  );\n\n  @Effect()\n  SignUp: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.SIGNUP),\n    map((action: SignUp) => action.payload),\n    switchMap((payload: SignupState) => {\n      delete payload.monthlyPrice;\n      delete payload.annualPricePerMonth;\n      delete payload.annualPriceTotal;\n\n      return this.authService.signUp(payload).pipe(\n        switchMap(user => of(new SignUpSuccess(user), new LogInSuccess(user))),\n        catchError(errorResponse =>\n          of(\n            new SignUpFailure(errorResponse.error),\n            new SnackErrorPush({ message: 'Failed to signup, please try again.' }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect({ dispatch: false })\n  public LogOut: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.LOGOUT),\n    tap(action => {\n      this.authService.signOut();\n    }),\n  );\n\n  @Effect()\n  expireSession: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.EXPIRE_SESSION),\n    map((action: ExpireSession) => action.payload),\n    switchMap(payload => {\n      return this.authService.expireSession().pipe(\n        switchMap(res => EMPTY),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to expire user session.' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  checkUsernameAvailability: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.CHECK_USERNAME_AVAILABILITY),\n    map((action: CheckUsernameAvailability) => action.payload),\n    switchMap(payload => {\n      if (!payload) {\n        return of(new CheckUsernameAvailabilitySuccess({ exists: true }));\n      }\n      return this.authService.checkUsernameAvailability(payload).pipe(\n        map(response => new CheckUsernameAvailabilitySuccess(response)),\n        catchError(error =>\n          of(\n            new SnackErrorPush({ message: `Failed to check username availability. ${error.error}` }),\n            new CheckUsernameAvailabilityError(),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  RecoverPassword: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.RECOVER_PASSWORD),\n    map((action: RecoverPassword) => action.payload),\n    switchMap(payload => {\n      return this.authService.recoverPassword(payload).pipe(\n        switchMap(res => of(new RecoverPasswordSuccess(res))),\n        catchError(error => of(new RecoverPasswordFailure(error.error))),\n      );\n    }),\n  );\n\n  @Effect()\n  ResetPassword: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.RESET_PASSWORD),\n    map((action: ResetPassword) => action.payload),\n    switchMap(payload => {\n      return this.authService.resetPassword(payload).pipe(\n        switchMap(user => of(new LogInSuccess(user), new ResetPasswordSuccess(user))),\n        catchError(error => of(new ResetPasswordFailure(error.error))),\n      );\n    }),\n  );\n\n  @Effect()\n  UpgradeAccount: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.UPGRADE_ACCOUNT),\n    map((action: UpgradeAccount) => action.payload),\n    switchMap(payload => {\n      if (payload.plan_type === PlanType.FREE) {\n        payload = { plan_type: PlanType.FREE };\n      }\n      return this.authService.upgradeAccount(payload).pipe(\n        switchMap(res => {\n          return of(new UpgradeAccountSuccess(res), new AccountDetailsGet(), new GetInvoices(), new GetMailboxes());\n        }),\n        catchError(error =>\n          of(\n            new UpgradeAccountFailure(error.error),\n            new SnackErrorPush({ message: 'Failed to upgrade account, please try again.' }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  ChangePassword: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.CHANGE_PASSWORD),\n    map((action: ChangePassword) => action.payload),\n    switchMap(payload => {\n      return this.authService.changePassword(payload).pipe(\n        switchMap(user =>\n          of(new ChangePasswordSuccess(payload), new SnackPush({ message: 'Password changed successfully.' })),\n        ),\n        catchError((response: any) =>\n          of(\n            new SnackErrorPush({ message: `Failed to change password, ${response.error}` }),\n            new ChangePasswordFailed(response),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  DeleteAccount: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.DELETE_ACCOUNT),\n    map((action: DeleteAccount) => action.payload),\n    switchMap(payload => {\n      return this.authService.deleteAccount(payload).pipe(\n        switchMap(user =>\n          of(new DeleteAccountSuccess(), new SnackPush({ message: 'Account deleted successfully.' }), new Logout()),\n        ),\n        catchError(errorResponse =>\n          of(\n            new DeleteAccountFailure(errorResponse.error),\n            new SnackErrorPush({\n              message:\n                errorResponse.error && errorResponse.error.detail\n                  ? errorResponse.error.detail\n                  : 'Failed to delete account, please try again.',\n            }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  getCaptcha: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.GET_CAPTCHA),\n    map((action: GetCaptcha) => action.payload),\n    switchMap(payload => {\n      return this.authService.getCaptcha().pipe(\n        switchMap((response: any) => of(new GetCaptchaSuccess(response))),\n        catchError(errorResponse =>\n          of(\n            new SnackErrorPush({\n              message:\n                errorResponse.error && errorResponse.error.detail\n                  ? errorResponse.error.detail\n                  : 'Failed to load Captcha.',\n            }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  verifyCaptcha: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.VERIFY_CAPTCHA),\n    map((action: VerifyCaptcha) => action.payload),\n    switchMap(payload => {\n      return this.authService.verifyCaptcha(payload).pipe(\n        switchMap((response: any) => {\n          const events: any[] = [new VerifyCaptchaSuccess(response)];\n          if (response.status === false) {\n            events.push(new GetCaptcha());\n          }\n          return of(...events);\n        }),\n        catchError(errorResponse =>\n          of(\n            new SnackErrorPush({\n              message:\n                errorResponse.error && errorResponse.error.detail\n                  ? errorResponse.error.detail\n                  : 'Failed to verify Captcha.',\n            }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  get2FASecret: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.GET_2FA_SECRET),\n    map((action: Get2FASecret) => action.payload),\n    switchMap(payload => {\n      return this.authService.get2FASecret().pipe(\n        switchMap((response: any) => of(new Get2FASecretSuccess(response))),\n        catchError(errorResponse =>\n          of(\n            new SnackErrorPush({\n              message: `Failed to load secret, ${errorResponse.error}`,\n            }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  enable2FA: Observable<any> = this.actions.pipe(\n    ofType(AuthActionTypes.UPDATE_2FA),\n    map((action: Update2FA) => action.payload),\n    switchMap(payload => {\n      return this.authService.update2FA(payload.data).pipe(\n        switchMap((response: any) =>\n          of(\n            new Update2FASuccess(response),\n            new SettingsUpdateSuccess(payload.settings),\n            new SnackPush({\n              message: `2 Factor authentication ${payload.data.enable_2fa ? 'enabled' : 'disabled'} successfully.`,\n            }),\n          ),\n        ),\n        catchError(errorResponse =>\n          of(\n            new SnackErrorPush({\n              message: `Failed to ${payload.data.enable_2fa ? 'enable' : 'disable'} 2FA, ${\n                errorResponse.error\n              } Please try again.`,\n            }),\n          ),\n        ),\n      );\n    }),\n  );\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { of } from 'rxjs/internal/observable/of';\nimport { EMPTY } from 'rxjs/internal/observable/empty';\n\nimport {\n  BitcoinActionTypes,\n  CheckTransaction,\n  CheckTransactionSuccess,\n  CreateNewWallet,\n  CreateNewWalletSuccess,\n} from '../actions/bitcoin.action';\nimport { BitcoinService } from '../services/bitcoin.service';\n\n@Injectable()\nexport class BitcoinEffects {\n  constructor(private actions: Actions, private bitcoinService: BitcoinService) {}\n\n  @Effect()\n  createWalletAddress: Observable<any> = this.actions.pipe(\n    ofType(BitcoinActionTypes.CREATE_NEW_WALLET),\n    map((action: CreateNewWallet) => action.payload),\n    switchMap(payload => {\n      return this.bitcoinService.createNewWallet(payload).pipe(\n        switchMap(res => of(new CreateNewWalletSuccess(res))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  checkPendingTransaction: Observable<any> = this.actions.pipe(\n    ofType(BitcoinActionTypes.CHECK_TRANSACTION),\n    map((action: CheckTransaction) => action.payload),\n    switchMap(payload => {\n      return this.bitcoinService.checkTransaction(payload).pipe(\n        map(response => new CheckTransactionSuccess(response)),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n}\n","import { HttpEventType, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { Observable, Subscription } from 'rxjs';\nimport { catchError, finalize, map, mergeMap, switchMap } from 'rxjs/operators';\nimport { of } from 'rxjs/internal/observable/of';\nimport { EMPTY } from 'rxjs/internal/observable/empty';\n\nimport { MailService } from '../services';\nimport {\n  ComposeMailActionTypes,\n  CreateMail,\n  CreateMailSuccess,\n  DeleteAttachment,\n  DeleteAttachmentFailure,\n  DeleteAttachmentSuccess,\n  DeleteMailSuccess,\n  GetUnreadMailsCount,\n  GetUsersKeys,\n  GetUsersKeysSuccess,\n  SendMail,\n  SendMailFailure,\n  SendMailSuccess,\n  SnackErrorPush,\n  SnackPush,\n  UpdateCurrentFolder,\n  UpdateMailDetailChildren,\n  UploadAttachment,\n  UploadAttachmentFailure,\n  UploadAttachmentProgress,\n  UploadAttachmentRequest,\n  UploadAttachmentSuccess,\n} from '../actions';\nimport { Draft } from '../datatypes';\nimport { MailFolderType } from '../models';\n\n@Injectable()\nexport class ComposeMailEffects {\n  constructor(private actions: Actions, private mailService: MailService) {}\n\n  @Effect()\n  createMailEffect: Observable<any> = this.actions.pipe(\n    ofType(ComposeMailActionTypes.CREATE_MAIL),\n    map((action: CreateMail) => action.payload),\n    mergeMap(payload => {\n      return this.mailService.createMail(payload.draft).pipe(\n        switchMap(res =>\n          of(\n            new CreateMailSuccess({ draft: payload, response: res }),\n            new UpdateCurrentFolder(res),\n            new GetUnreadMailsCount(),\n          ),\n        ),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to save mail.' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  uploadAttachmentEffect: Observable<any> = this.actions.pipe(\n    ofType(ComposeMailActionTypes.UPLOAD_ATTACHMENT),\n    map((action: UploadAttachment) => action.payload),\n    mergeMap(payload => {\n      // TODO: replace custom observable with switchMap\n      return Observable.create(observer => {\n        const request: Subscription = this.mailService\n          .uploadFile(payload)\n          .pipe(finalize(() => observer.complete()))\n          .subscribe(\n            (event: any) => {\n              if (event.type === HttpEventType.UploadProgress) {\n                const progress = Math.round((100 * event.loaded) / event.total);\n                observer.next(new UploadAttachmentProgress({ ...payload, progress }));\n              } else if (event instanceof HttpResponse) {\n                observer.next(new UploadAttachmentSuccess({ data: payload, response: event.body }));\n              }\n            },\n            error => {\n              observer.next(new SnackErrorPush({ message: 'Failed to upload attachment.' }));\n              observer.next(new UploadAttachmentFailure(payload));\n            },\n          );\n        observer.next(new UploadAttachmentRequest({ ...payload, request }));\n      });\n    }),\n  );\n\n  @Effect()\n  deleteAttachmentEffect: Observable<any> = this.actions.pipe(\n    ofType(ComposeMailActionTypes.DELETE_ATTACHMENT),\n    map((action: DeleteAttachment) => action.payload),\n    mergeMap(payload => {\n      if (payload.id) {\n        return this.mailService.deleteAttachment(payload).pipe(\n          switchMap(res => of(new DeleteAttachmentSuccess(payload))),\n          catchError(error =>\n            of(new SnackErrorPush({ message: 'Failed to delete attachment.' }), new DeleteAttachmentFailure(payload)),\n          ),\n        );\n      }\n      return of(new DeleteAttachmentSuccess(payload));\n    }),\n  );\n\n  @Effect()\n  sendMailEffect: Observable<any> = this.actions.pipe(\n    ofType(ComposeMailActionTypes.SEND_MAIL),\n    map((action: SendMail) => action.payload),\n    mergeMap((payload: Draft) => {\n      let message;\n      if (payload.draft.dead_man_duration || payload.draft.delayed_delivery) {\n        if (payload.draft.delayed_delivery === 'CancelSend') {\n          payload.draft.delayed_delivery = null;\n          payload.draft.send = false;\n          payload.draft.folder = MailFolderType.DRAFT;\n          message = `Delay delivery send cancelled and message reverted to draft.`;\n        } else {\n          payload.draft.send = false;\n          payload.draft.folder = MailFolderType.OUTBOX;\n          message = `Mail scheduled`;\n        }\n      } else {\n        payload.draft.send = true;\n        payload.draft.folder = MailFolderType.SENT;\n        message = `Mail sent successfully`;\n      }\n      payload.draft.is_subject_encrypted = payload.draft.is_subject_encrypted && payload.draft.is_encrypted;\n      return this.mailService.createMail(payload.draft).pipe(\n        switchMap((res: any) => {\n          res.last_action_data = {\n            last_action: payload.draft.last_action,\n            last_action_parent_id: payload.draft.last_action_parent_id,\n          };\n          res.folder = MailFolderType.SENT;\n          const events: any[] = [\n            new SendMailSuccess(payload),\n            new UpdateCurrentFolder(res),\n            new UpdateMailDetailChildren(res),\n            new DeleteMailSuccess({ ids: `${res.id}`, isDraft: true, isMailDetailPage: payload.isMailDetailPage }),\n            new SnackPush({\n              message,\n            }),\n            new GetUnreadMailsCount(),\n          ];\n          return events;\n        }),\n        catchError(errorResponse =>\n          of(\n            new SnackErrorPush({\n              message: errorResponse.error || 'Failed to send mail.',\n              duration: 10000,\n            }),\n            new SendMailFailure(payload),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  getUsersKeysEffect: Observable<any> = this.actions.pipe(\n    ofType(ComposeMailActionTypes.GET_USERS_KEYS),\n    map((action: GetUsersKeys) => action.payload),\n    mergeMap((payload: any) => {\n      return this.mailService.getUsersPublicKeys(payload.emails).pipe(\n        switchMap(keys => of(new GetUsersKeysSuccess({ draftId: payload.draftId, data: keys }))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n}\n","import { HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { Observable } from 'rxjs';\nimport { EMPTY } from 'rxjs/internal/observable/empty';\nimport { of } from 'rxjs/internal/observable/of';\nimport { catchError, map, mergeMap, switchMap } from 'rxjs/operators';\n\nimport { OpenPgpService, UsersService, MailService } from '../services';\nimport {\n  Accounts,\n  ContactAddError,\n  ContactAddSuccess,\n  ContactDeleteSuccess,\n  ContactGetFailure,\n  ContactNotifySuccess,\n  ContactNotifyFailure,\n  ContactGetSuccess,\n  ContactImport,\n  ContactImportFailure,\n  ContactImportSuccess,\n  ContactsActionTypes,\n  ContactsGet,\n  GetEmailContacts,\n  GetEmailContactsSuccess,\n  SnackErrorPush,\n  SnackPush,\n  UpdateBatchContacts,\n  UpdateBatchContactsSuccess,\n  EmptyOnlyFolder,\n} from '../actions';\nimport { Contact } from '../datatypes';\n\n@Injectable()\nexport class ContactsEffects {\n  constructor(\n    private actions: Actions,\n    private openPgpService: OpenPgpService,\n    private userService: UsersService,\n    private mailService: MailService,\n  ) {}\n\n  @Effect()\n  Contact: Observable<any> = this.actions.pipe(\n    ofType(ContactsActionTypes.CONTACT_GET),\n    map((action: ContactsGet) => action.payload),\n    switchMap(payload => {\n      return this.userService.getContact(payload.limit, payload.offset, payload.q).pipe(\n        map(response => {\n          if (payload.isDecrypting) {\n            response.isDecrypting = true;\n            return new ContactGetSuccess(response);\n          }\n          let count = 0;\n          const contacts: Contact[] = response.results;\n          contacts.forEach(contact => {\n            if (contact.is_encrypted) {\n              contact.is_decryptionInProgress = true;\n              count += 1;\n              setTimeout(() => {\n                this.openPgpService.decryptContact(contact.encrypted_data, contact.id);\n              }, count * 300);\n            }\n          });\n\n          return new ContactGetSuccess(response);\n        }),\n        catchError(error => of(new ContactGetFailure())),\n      );\n    }),\n  );\n\n  @Effect()\n  ContactAdd: Observable<any> = this.actions.pipe(\n    ofType(ContactsActionTypes.CONTACT_ADD),\n    switchMap((action: Accounts) =>\n      this.userService.addContact(action.payload).pipe(\n        switchMap(contact => {\n          contact.isUpdating = action.payload.id;\n          if (contact.is_encrypted) {\n            setTimeout(() => {\n              this.openPgpService.decryptContact(contact.encrypted_data, contact.id);\n            }, 150);\n          }\n          return of(\n            new ContactAddSuccess(contact),\n            new SnackPush({ message: `Contact ${action.payload.id ? 'updated' : 'saved'} successfully.` }),\n          );\n        }),\n        catchError(error =>\n          of(\n            new ContactAddError(),\n            new SnackErrorPush({ message: `Failed to ${action.payload.id ? 'update' : 'save'} contact.` }),\n          ),\n        ),\n      ),\n    ),\n  );\n\n  @Effect()\n  ContactDelete: Observable<any> = this.actions.pipe(\n    ofType(ContactsActionTypes.CONTACT_DELETE),\n    map((action: Accounts) => action.payload),\n    switchMap(payload => {\n      return this.userService.deleteContact(payload).pipe(\n        switchMap(contact => {\n          return of(new ContactDeleteSuccess(payload), new SnackPush({ message: 'Contacts deleted successfully.' }));\n        }),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  ContactNotify: Observable<any> = this.actions.pipe(\n    ofType(ContactsActionTypes.CONTACT_NOTIFY),\n    map((action: Accounts) => action.payload),\n    switchMap(payload => {\n      return this.userService.notifyContact(payload).pipe(\n        switchMap(res => {\n          if (res && res.length === 0) {\n            return of(new SnackErrorPush({ message: 'Failed to notify' }), new ContactNotifyFailure({}));\n          }\n          return of(\n            new EmptyOnlyFolder({ folder: 'sent' }),\n            new ContactNotifySuccess(payload),\n            new SnackPush({ message: 'Notification emails have been sent successfully.' }),\n          );\n        }),\n        catchError(error => {\n          return of(\n            new SnackErrorPush({ message: error.error.msg ? error.error.msg : 'Failed to notify' }),\n            new ContactNotifyFailure(error.error),\n          );\n        }),\n      );\n    }),\n  );\n\n  @Effect()\n  ContactImport: Observable<any> = this.actions.pipe(\n    ofType(ContactsActionTypes.CONTACT_IMPORT),\n    map((action: ContactImport) => action.payload),\n    switchMap(payload => {\n      return this.userService.importContacts(payload).pipe(\n        mergeMap(event => {\n          if (event instanceof HttpResponse) {\n            return of(\n              new ContactImportSuccess(event.body),\n              new ContactsGet({ limit: 50, offset: 0 }),\n              new SnackPush({ message: 'Contacts imported successfully' }),\n            );\n          }\n          return EMPTY;\n        }),\n        catchError(error => {\n          return of(\n            new SnackErrorPush({ message: 'Failed to import contacts' }),\n            new ContactImportFailure(error.error),\n          );\n        }),\n      );\n    }),\n  );\n\n  @Effect()\n  getEmailsContactsEffect: Observable<any> = this.actions.pipe(\n    ofType(ContactsActionTypes.GET_EMAIL_CONTACTS),\n    map((action: GetEmailContacts) => action.payload),\n    switchMap(payload => {\n      return this.userService.getEmailContacts().pipe(\n        switchMap(res => of(new GetEmailContactsSuccess(res.results))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  updateBatchContacts: Observable<any> = this.actions.pipe(\n    ofType(ContactsActionTypes.CONTACT_BATCH_UPDATE),\n    map((action: UpdateBatchContacts) => action.payload),\n    switchMap(payload => {\n      return this.userService.updateBatchContacts(payload).pipe(\n        switchMap(res => of(new UpdateBatchContactsSuccess(payload))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { Observable } from 'rxjs';\nimport { catchError, map, tap, switchMap } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { of } from 'rxjs/internal/observable/of';\n\nimport { DonationService } from '../services/donation.service';\nimport { DonationActionTypes, MakeStripDonation, MakeStripeDonationSuccess } from '../actions/donate.actions';\nimport { SnackErrorPush } from '../actions/users.action';\nimport { NotificationService } from '../services/notification.service';\n\n@Injectable()\nexport class DonateEffects {\n  constructor(\n    private actions: Actions,\n    private donationService: DonationService,\n    private notificationService: NotificationService,\n    private router: Router,\n  ) {}\n\n  @Effect()\n  makeStripeDonation: Observable<any> = this.actions.pipe(\n    ofType(DonationActionTypes.MAKE_STRIPE_DONATION),\n    map((action: MakeStripDonation) => action.payload),\n    switchMap(payload => {\n      return this.donationService.makeStripeDonation(payload).pipe(\n        map(payment_success => new MakeStripeDonationSuccess(payment_success)),\n        catchError(errorResponse => of(new SnackErrorPush({ message: errorResponse.error.detail }))),\n      );\n    }),\n  );\n\n  @Effect({ dispatch: false })\n  makeStripeDonationSuccess: Observable<any> = this.actions.pipe(\n    ofType(DonationActionTypes.MAKE_STRIPE_DONATION_SUCCESS),\n    tap(response => {\n      this.notificationService.showSnackBar('Donated Successfully. Thank you for your donation.', 'CLOSE', {\n        duration: 10000,\n      });\n      this.router.navigateByUrl('/donate');\n    }),\n  );\n}\n","import { OrganizationEffects } from '../organization.store';\n\nimport { ComposeMailEffects } from './compose-mail.effects';\nimport { RouterEffects } from './router.effect';\nimport { AuthEffects } from './auth.effects';\nimport { MailEffects } from './mail.effects';\nimport { SecureMessageEffects } from './secure-message.effects';\nimport { UsersEffects } from './users.effects';\nimport { TimezoneEffects } from './timezone.effects';\nimport { BitcoinEffects } from './bitcoin.effects';\nimport { MailboxEffects } from './mailbox.effects';\nimport { DonateEffects } from './donate.effects';\nimport { ContactsEffects } from './contacts.effects';\n\nexport const effects: any[] = [\n  RouterEffects,\n  AuthEffects,\n  MailEffects,\n  UsersEffects,\n  TimezoneEffects,\n  BitcoinEffects,\n  MailboxEffects,\n  ComposeMailEffects,\n  SecureMessageEffects,\n  DonateEffects,\n  OrganizationEffects,\n  ContactsEffects,\n];\n\nexport * from './router.effect';\nexport * from './auth.effects';\nexport * from './mail.effects';\nexport * from './users.effects';\nexport * from './timezone.effects';\nexport * from './bitcoin.effects';\nexport * from './mailbox.effects';\nexport * from './compose-mail.effects';\nexport * from './secure-message.effects';\nexport * from './donate.effects';\nexport * from './contacts.effects';\nexport { OrganizationEffects } from '../organization.store';\n","import { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { Observable } from 'rxjs';\nimport { catchError, map, mergeMap, switchMap } from 'rxjs/operators';\nimport { EMPTY } from 'rxjs/internal/observable/empty';\nimport { of } from 'rxjs/internal/observable/of';\n\nimport { MailService } from '../services';\nimport {\n  BlackListGet,\n  DeleteFolder,\n  DeleteMail,\n  DeleteMailForAll,\n  DeleteMailForAllSuccess,\n  DeleteMailSuccess,\n  EmptyFolder,\n  EmptyFolderFailure,\n  EmptyFolderSuccess,\n  GetMailDetail,\n  GetMailDetailSuccess,\n  GetMails,\n  GetMailsSuccess,\n  GetUnreadMailsCount,\n  GetUnreadMailsCountSuccess,\n  GetCustomFolderMessageCount,\n  GetCustomFolderMessageCountSuccess,\n  MailActionTypes,\n  MoveMail,\n  MoveMailSuccess,\n  ReadMail,\n  ReadMailSuccess,\n  SnackErrorPush,\n  SnackPush,\n  StarMailSuccess,\n  UndoDeleteMail,\n  UndoDeleteMailSuccess,\n} from '../actions';\nimport { MailFolderType } from '../models';\n\n@Injectable()\nexport class MailEffects {\n  constructor(private actions: Actions, private mailService: MailService) {}\n\n  @Effect()\n  getMailsEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.GET_MAILS),\n    map((action: GetMails) => action.payload),\n    switchMap(payload => {\n      return this.mailService.getMessages(payload).pipe(\n        map(response => {\n          return new GetMailsSuccess({\n            ...payload,\n            is_not_first_page: !!response.previous,\n            mails: response.results,\n            total_mail_count: response.total_count,\n            is_from_socket: false,\n          });\n        }),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  getUnreadMailsCountEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.GET_UNREAD_MAILS_COUNT),\n    map((action: GetUnreadMailsCount) => action.payload),\n    mergeMap(payload => {\n      return this.mailService.getUnreadMailsCount().pipe(\n        map(response => {\n          return new GetUnreadMailsCountSuccess(response);\n        }),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  getCustomFolderMessageCountEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.GET_CUSTOMFOLDER_MESSAGE_COUNT),\n    map((action: GetCustomFolderMessageCount) => action.payload),\n    mergeMap(payload => {\n      return this.mailService.getCustomFolderMessageCount().pipe(\n        map(response => {\n          return new GetCustomFolderMessageCountSuccess(response);\n        }),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  moveMailEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.MOVE_MAIL),\n    map((action: MoveMail) => action.payload),\n    switchMap(payload => {\n      return this.mailService.moveMail(payload.ids, payload.folder, payload.sourceFolder, payload.withChildren).pipe(\n        switchMap(res => {\n          const updateFolderActions = [];\n\n          if (payload.shouldDeleteFolder) {\n            updateFolderActions.push(new DeleteFolder(payload.folderToDelete));\n          }\n\n          updateFolderActions.push(new MoveMailSuccess(payload));\n          if (!payload.shouldDeleteFolder) {\n            updateFolderActions.push(\n              new SnackPush({\n                message: `Mail moved to ${payload.folder}`,\n                ids: payload.ids,\n                folder: payload.folder,\n                sourceFolder: payload.sourceFolder,\n                mail: payload.mail,\n                allowUndo: payload.allowUndo,\n              }),\n            );\n          }\n          if (payload.folder === MailFolderType.SPAM) {\n            updateFolderActions.push(new BlackListGet());\n          }\n          return of(...updateFolderActions);\n        }),\n        catchError(error => of(new SnackErrorPush({ message: `Failed to move mail to ${payload.folder}.` }))),\n      );\n    }),\n  );\n\n  @Effect()\n  deleteMailEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.DELETE_MAIL),\n    map((action: DeleteMail) => action.payload),\n    switchMap(payload => {\n      return this.mailService.deleteMails(payload.ids, payload.parent_only).pipe(\n        switchMap(res => of(new DeleteMailSuccess(payload))),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to delete mail.' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  deleteMailForAllEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.DELETE_MAIL_FOR_ALL),\n    map((action: DeleteMailForAll) => action.payload),\n    switchMap(payload => {\n      return this.mailService.deleteMailForAll(payload.id).pipe(\n        switchMap(res =>\n          of(new DeleteMailForAllSuccess(payload), new SnackErrorPush({ message: 'Mail deleted successfully.' })),\n        ),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to delete mail.' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  readMailEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.READ_MAIL),\n    map((action: ReadMail) => action.payload),\n    switchMap(payload => {\n      return this.mailService.markAsRead(payload.ids, payload.read, payload.folder).pipe(\n        switchMap(res => of(new ReadMailSuccess(payload))),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to mark mail as read.' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  starMailEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.STAR_MAIL),\n    map((action: ReadMail) => action.payload),\n    mergeMap(payload => {\n      return this.mailService.markAsStarred(payload.ids, payload.starred, payload.folder).pipe(\n        switchMap(res => of(new StarMailSuccess(payload))),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to mark as starred.' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  getMailDetailEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.GET_MAIL_DETAIL),\n    map((action: GetMailDetail) => action.payload),\n    switchMap(payload => {\n      return this.mailService.getMessage(payload).pipe(switchMap(res => of(new GetMailDetailSuccess(res))));\n    }),\n  );\n\n  @Effect()\n  undoDeleteDraftMailEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.UNDO_DELETE_MAIL),\n    map((action: UndoDeleteMail) => action.payload),\n    switchMap(payload => {\n      return this.mailService.moveMail(payload.ids, payload.sourceFolder, payload.sourceFolder).pipe(\n        switchMap(res => of(new UndoDeleteMailSuccess(payload))),\n        catchError(error => of(new SnackErrorPush({ message: `Failed to move mail to ${payload.folder}.` }))),\n      );\n    }),\n  );\n\n  @Effect()\n  emptyTrashEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.EMPTY_FOLDER),\n    map((action: EmptyFolder) => action.payload),\n    switchMap(payload => {\n      return this.mailService.emptyFolder(payload).pipe(\n        switchMap(res =>\n          of(new EmptyFolderSuccess(payload), new SnackErrorPush({ message: `Mails deleted permanently.` })),\n        ),\n        catchError(error =>\n          of(\n            new SnackErrorPush({ message: `Failed to delete mails, please try again.` }),\n            new EmptyFolderFailure(error.error),\n          ),\n        ),\n      );\n    }),\n  );\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { Observable } from 'rxjs';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { EMPTY } from 'rxjs/internal/observable/empty';\nimport { of } from 'rxjs/internal/observable/of';\n\nimport { MailService } from '../services';\nimport {\n  CreateMailbox,\n  CreateMailboxFailure,\n  CreateMailboxSuccess,\n  DeleteMailbox,\n  DeleteMailboxSuccess,\n  GetDomains,\n  GetMailboxes,\n  GetMailboxesSuccess,\n  MailActionTypes,\n  MailboxSettingsUpdateFailure,\n  SetDefaultMailbox,\n  SetDefaultMailboxSuccess,\n  UpdateMailboxOrder,\n  UpdateMailboxOrderSuccess,\n} from '../actions';\nimport { Mailbox } from '../models';\nimport { MailboxSettingsUpdate, MailboxSettingsUpdateSuccess } from '../actions/mail.actions';\nimport { SnackErrorPush } from '../actions/users.action';\n\n@Injectable()\nexport class MailboxEffects {\n  constructor(private actions: Actions, private mailService: MailService) {}\n\n  @Effect()\n  getMailboxesEffect: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.GET_MAILBOXES),\n    map((action: GetMailboxes) => action.payload),\n    switchMap(payload => {\n      return this.mailService.getMailboxes(payload.limit, payload.offset).pipe(\n        switchMap(mails => of(new GetMailboxesSuccess(mails))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  mailboxSettingsUpdate: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.MAILBOX_SETTINGS_UPDATE),\n    map((action: MailboxSettingsUpdate) => action.payload),\n    switchMap((payload: any) => {\n      payload.inProgress = false;\n      return this.mailService.updateMailBoxSettings(payload).pipe(\n        switchMap(res => {\n          const actions: any[] = [new MailboxSettingsUpdateSuccess(res)];\n          if (payload.successMsg) {\n            actions.push(new SnackErrorPush({ message: payload.successMsg }));\n          }\n          return of(...actions);\n        }),\n        catchError(error =>\n          of(\n            new SnackErrorPush({ message: error.error ? error.error : 'Failed to update mailbox settings.' }),\n            new MailboxSettingsUpdateFailure(payload),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  createMailbox: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.CREATE_MAILBOX),\n    map((action: CreateMailbox) => action.payload),\n    switchMap((payload: any) => {\n      return this.mailService.createMailbox(payload).pipe(\n        switchMap(res => of(new CreateMailboxSuccess(res), new GetDomains())),\n        catchError(error =>\n          of(\n            new CreateMailboxFailure(error.error),\n            new SnackErrorPush({ message: 'Failed to create new email address.' }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  setDefaultMailbox: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.SET_DEFAULT_MAILBOX),\n    map((action: SetDefaultMailbox) => action.payload),\n    switchMap((payload: Mailbox) => {\n      return this.mailService.updateMailBoxSettings({ ...payload, is_default: true }).pipe(\n        switchMap(res => of(new SetDefaultMailboxSuccess(res))),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to set email address as default.' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  updateMailboxOrder: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.UPDATE_MAILBOX_ORDER),\n    map((action: UpdateMailboxOrder) => action.payload),\n    switchMap((payload: any) => {\n      return this.mailService.updateMailboxOrder(payload.data).pipe(\n        switchMap(res =>\n          of(\n            new SnackErrorPush({ message: 'Sort order saved successfully.' }),\n            new UpdateMailboxOrderSuccess({ mailboxes: payload.mailboxes }),\n          ),\n        ),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to update emails sort order.' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  deleteMailbox: Observable<any> = this.actions.pipe(\n    ofType(MailActionTypes.DELETE_MAILBOX),\n    map((action: DeleteMailbox) => action.payload),\n    switchMap((payload: Mailbox) => {\n      return this.mailService.deleteMailbox(payload.id).pipe(\n        switchMap(res =>\n          of(\n            new SnackErrorPush({ message: `Alias '${payload.email}' deleted successfully.` }),\n            new DeleteMailboxSuccess(payload),\n          ),\n        ),\n        catchError(error => of(new SnackErrorPush({ message: `Failed to delete alias. ${error.error}` }))),\n      );\n    }),\n  );\n}\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { Effect, Actions, ofType } from '@ngrx/effects';\nimport { tap, map } from 'rxjs/operators';\n\nimport * as RouterActions from '../actions';\n\n@Injectable()\nexport class RouterEffects {\n  constructor(private actions$: Actions, private router: Router, private location: Location) {}\n\n  @Effect({ dispatch: false })\n  navigate$ = this.actions$.pipe(\n    ofType(RouterActions.GO),\n    map((action: RouterActions.Go) => action.payload),\n    tap(({ path, query: queryParams, extras }) => {\n      this.router.navigate(path, { queryParams, ...extras });\n    }),\n  );\n\n  @Effect({ dispatch: false })\n  navigateBack$ = this.actions$.pipe(\n    ofType(RouterActions.BACK),\n    tap(() => this.location.back()),\n  );\n\n  @Effect({ dispatch: false })\n  navigateForward$ = this.actions$.pipe(\n    ofType(RouterActions.FORWARD),\n    tap(() => this.location.forward()),\n  );\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { Observable } from 'rxjs';\nimport { catchError, map, mergeMap, switchMap } from 'rxjs/operators';\nimport { of } from 'rxjs/internal/observable/of';\nimport { EMPTY } from 'rxjs/internal/observable/empty';\n\nimport {\n  GetMessage,\n  GetMessageFailure,\n  GetMessageSuccess,\n  GetSecureMessageUserKeys,\n  GetSecureMessageUserKeysSuccess,\n  SecureMessageActionTypes,\n  SendSecureMessageReply,\n  SendSecureMessageReplySuccess,\n  SnackErrorPush,\n  SnackPush,\n} from '../actions';\nimport { MailService } from '../services';\n\n@Injectable()\nexport class SecureMessageEffects {\n  constructor(private actions: Actions, private mailService: MailService) {}\n\n  @Effect()\n  getMessageEffect: Observable<any> = this.actions.pipe(\n    ofType(SecureMessageActionTypes.GET_MESSAGE),\n    map((action: GetMessage) => action.payload),\n    switchMap(payload => {\n      return this.mailService.getSecureMessage(payload.hash, payload.secret).pipe(\n        switchMap(res => of(new GetMessageSuccess(res))),\n        catchError(error => of(new GetMessageFailure({ error: error.error }))),\n      );\n    }),\n  );\n\n  @Effect()\n  sendReplyEffect: Observable<any> = this.actions.pipe(\n    ofType(SecureMessageActionTypes.SEND_SECURE_MESSAGE_REPLY),\n    map((action: SendSecureMessageReply) => action.payload),\n    switchMap(payload => {\n      return this.mailService.secureReply(payload.hash, payload.secret, payload.message).pipe(\n        switchMap(res => {\n          return of(\n            new SendSecureMessageReplySuccess({ data: payload, response: res }),\n            new SnackPush({\n              message: `Reply sent successfully`,\n            }),\n          );\n        }),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to send reply.' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  getUsersKeysEffect: Observable<any> = this.actions.pipe(\n    ofType(SecureMessageActionTypes.GET_SECURE_MESSAGE_USERS_KEYS),\n    map((action: GetSecureMessageUserKeys) => action.payload),\n    mergeMap((payload: any) => {\n      return this.mailService.getSecureMessageKeys(payload.hash, payload.secret).pipe(\n        switchMap(keys => of(new GetSecureMessageUserKeysSuccess(keys))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { Observable } from 'rxjs';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { EMPTY } from 'rxjs/internal/observable/empty';\n\nimport { TimezoneActionTypes, TimezoneGet, TimezoneGetSuccess } from '../actions/timezone.action';\nimport { TimezoneService } from '../services/timezone.service';\n\n@Injectable()\nexport class TimezoneEffects {\n  constructor(private actions: Actions, private timezoneService: TimezoneService) {}\n\n  @Effect()\n  getTimezones: Observable<any> = this.actions.pipe(\n    ofType(TimezoneActionTypes.TIMEZONE_GET),\n    map((action: TimezoneGet) => action.payload),\n    switchMap(payload => {\n      return this.timezoneService.getTimezones().pipe(\n        map(timezones => {\n          return new TimezoneGetSuccess(timezones);\n        }),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { Action } from '@ngrx/store';\nimport { Observable } from 'rxjs';\nimport { EMPTY } from 'rxjs/internal/observable/empty';\nimport { of } from 'rxjs/internal/observable/of';\nimport { catchError, map, switchMap, tap } from 'rxjs/operators';\nimport { MatSnackBarConfig } from '@angular/material/snack-bar';\n\nimport { MailService, SharedService, UsersService } from '../services';\nimport {\n  AccountDetailsGet,\n  AccountDetailsGetSuccess,\n  Accounts,\n  AccountsReadSuccess,\n  BlackListAdd,\n  BlackListAddError,\n  BlackListAddSuccess,\n  BlackListDelete,\n  BlackListDeleteSuccess,\n  BlackListGet,\n  BlackListsReadSuccess,\n  CreateDomain,\n  CreateDomainFailure,\n  CreateDomainSuccess,\n  CreateFilter,\n  CreateFilterFailure,\n  CreateFilterSuccess,\n  CreateFolder,\n  CreateFolderFailure,\n  CreateFolderSuccess,\n  DeleteDomain,\n  DeleteDomainFailure,\n  DeleteDomainSuccess,\n  DeleteFilter,\n  DeleteFilterFailure,\n  DeleteFilterSuccess,\n  DeleteFolder,\n  DeleteFolderSuccess,\n  GenerateInviteCode,\n  GenerateInviteCodeFailure,\n  GenerateInviteCodeSuccess,\n  GetDomains,\n  GetDomainsSuccess,\n  GetFilters,\n  GetFiltersSuccess,\n  GetInviteCodes,\n  GetInviteCodesSuccess,\n  GetInvoices,\n  GetInvoicesSuccess,\n  GetNotification,\n  GetNotificationSuccess,\n  GetUnreadMailsCount,\n  GetUpgradeAmount,\n  GetUpgradeAmountSuccess,\n  PaymentFailure,\n  ReadDomain,\n  ReadDomainFailure,\n  ReadDomainSuccess,\n  SaveAutoResponder,\n  SaveAutoResponderFailure,\n  SaveAutoResponderSuccess,\n  SendEmailForwardingCode,\n  SendEmailForwardingCodeFailure,\n  SendEmailForwardingCodeSuccess,\n  SettingsUpdate,\n  SettingsUpdateSuccess,\n  SnackErrorPush,\n  SnackErrorPushSuccess,\n  SnackPush,\n  SnackPushSuccess,\n  UpdateDomain,\n  UpdateDomainFailure,\n  UpdateDomainSuccess,\n  UpdateFilter,\n  UpdateFilterFailure,\n  UpdateFilterSuccess,\n  UpdateFolderOrder,\n  UpdateFolderOrderSuccess,\n  UsersActionTypes,\n  ValidatePromoCode,\n  ValidatePromoCodeSuccess,\n  VerifyDomain,\n  VerifyDomainFailure,\n  VerifyDomainSuccess,\n  VerifyEmailForwardingCode,\n  VerifyEmailForwardingCodeFailure,\n  VerifyEmailForwardingCodeSuccess,\n  WhiteListAdd,\n  WhiteListAddError,\n  WhiteListAddSuccess,\n  WhiteListDelete,\n  WhiteListDeleteSuccess,\n  WhiteListGet,\n  WhiteListsReadSuccess,\n  CardAdd,\n  CardAddError,\n  CardAddSuccess,\n  CardDelete,\n  CardDeleteSuccess,\n  CardGet,\n  CardReadSuccess,\n  CardMakePrimary,\n  CardMakePrimarySuccess,\n} from '../actions';\nimport { Settings } from '../datatypes';\nimport { NotificationService } from '../services/notification.service';\nimport { GetOrganizationUsers } from '../organization.store';\n\n@Injectable()\nexport class UsersEffects {\n  constructor(\n    private actions: Actions,\n    private userService: UsersService,\n    private notificationService: NotificationService,\n    private mailService: MailService,\n    private sharedService: SharedService,\n  ) {}\n\n  @Effect()\n  Accounts: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.ACCOUNTS),\n    map((action: Accounts) => action.payload),\n    switchMap(payload => {\n      return this.userService.getAccounts('34324').pipe(\n        map(user => {\n          return new AccountsReadSuccess(user);\n        }),\n      );\n    }),\n  );\n\n  @Effect()\n  AccountDetails: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.ACCOUNT_DETAILS_GET),\n    map((action: Accounts) => action.payload),\n    switchMap(payload => {\n      return this.userService.getAccountDetails().pipe(\n        map(user => {\n          return new AccountDetailsGetSuccess(user[0]);\n        }),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  WhiteLists: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.WHITELIST_GET),\n    map((action: WhiteListGet) => action.payload),\n    switchMap(payload => {\n      return this.userService.getWhiteList().pipe(\n        map(whiteList => {\n          return new WhiteListsReadSuccess(whiteList.results);\n        }),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  WhiteListAdd: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.WHITELIST_ADD),\n    map((action: WhiteListAdd) => action.payload),\n    switchMap(payload => {\n      return this.userService.addWhiteList(payload.email, payload.name).pipe(\n        switchMap(contact => {\n          contact.isUpdating = payload.id;\n          return of(\n            new WhiteListAddSuccess(contact),\n            new WhiteListGet(),\n            new BlackListGet(),\n            new SnackPush({ message: 'Email added to whitelist successfully.' }),\n          );\n        }),\n        catchError(error => of(new WhiteListAddError(error.error))),\n      );\n    }),\n  );\n\n  @Effect()\n  WhiteListDelete: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.WHITELIST_DELETE),\n    map((action: WhiteListDelete) => action.payload),\n    switchMap(payload => {\n      return this.userService.deleteWhiteList(payload).pipe(\n        switchMap(res => {\n          return of(\n            new WhiteListDeleteSuccess(payload),\n            new SnackPush({ message: 'Whitelist contact deleted successfully.' }),\n          );\n        }),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to delete whitelist contact' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  CardLists: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.CARD_GET),\n    map((action: CardGet) => action.payload),\n    switchMap(payload => {\n      return this.userService.getPaymentMethods().pipe(\n        map(cardList => {\n          return new CardReadSuccess(cardList);\n        }),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  CardAdd: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.CARD_ADD),\n    map((action: CardAdd) => action.payload),\n    switchMap(payload => {\n      return this.userService.addPaymentMethod(payload).pipe(\n        switchMap(card => {\n          return of(new CardAddSuccess(card), new SnackPush({ message: 'Payment method added successfully.' }));\n        }),\n        catchError(error => {\n          return of(new CardAddError(error.error), new SnackPush({ message: error.error.msg || '' }));\n        }),\n      );\n    }),\n  );\n\n  @Effect()\n  CardDelete: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.CARD_DELETE),\n    map((action: CardDelete) => action.payload),\n    switchMap(payload => {\n      return this.userService.deletePaymentMethod(payload).pipe(\n        switchMap(res => {\n          return of(new CardDeleteSuccess(payload), new SnackPush({ message: 'Payment method deleted successfully.' }));\n        }),\n        catchError(error => {\n          return of(new SnackPush({ message: error.error.msg || '' }));\n        }),\n      );\n    }),\n  );\n\n  @Effect()\n  CardMakePrimary: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.CARD_MAKE_PRIMARY),\n    map((action: CardMakePrimary) => action.payload),\n    switchMap(payload => {\n      return this.userService.makePaymentPrimary(payload).pipe(\n        switchMap(res => {\n          return of(\n            new CardMakePrimarySuccess(payload),\n            new SnackPush({ message: 'Primary card has been changed successfully.' }),\n          );\n        }),\n        catchError(error => {\n          return of(new SnackPush({ message: error.error.msg || '' }));\n        }),\n      );\n    }),\n  );\n\n  @Effect()\n  BlackLists: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.BLACKLIST_GET),\n    map((action: BlackListGet) => action.payload),\n    switchMap(payload => {\n      return this.userService.getBlackList().pipe(\n        map(blackList => {\n          return new BlackListsReadSuccess(blackList.results);\n        }),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  BlackListAdd: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.BLACKLIST_ADD),\n    map((action: BlackListAdd) => action.payload),\n    switchMap(payload => {\n      return this.userService.addBlackList(payload.email, payload.name).pipe(\n        switchMap(contact => {\n          contact.isUpdating = payload.id;\n          return of(new BlackListAddSuccess(contact), new BlackListGet());\n        }),\n        catchError(error => of(new BlackListAddError(error))),\n      );\n    }),\n  );\n\n  @Effect()\n  BlackListDelete: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.BLACKLIST_DELETE),\n    map((action: BlackListDelete) => action.payload),\n    switchMap(payload => {\n      return this.userService.deleteBlackList(payload).pipe(\n        switchMap(res => {\n          return of(\n            new BlackListDeleteSuccess(payload),\n            new SnackPush({ message: 'Blacklist contact deleted successfully.' }),\n          );\n        }),\n        catchError(error => of(new SnackErrorPush({ message: 'Failed to delete blacklist contact' }))),\n      );\n    }),\n  );\n\n  @Effect()\n  settingsUpdate: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.SETTINGS_UPDATE),\n    map((action: SettingsUpdate) => action.payload),\n    switchMap((payload: Settings) => {\n      return this.userService.updateSettings(payload).pipe(\n        switchMap(res => {\n          return of(new SettingsUpdateSuccess(payload));\n        }),\n        catchError(error => of(new SnackErrorPush({ message: `Failed to save changes, ${error.error}` }))),\n      );\n    }),\n  );\n\n  @Effect()\n  requestSnacks$: Observable<Action> = this.actions.pipe(\n    ofType(UsersActionTypes.SNACK_PUSH),\n    map((action: SnackPush) => {\n      if (action.payload) {\n        if (action.payload.message) {\n          if (action.payload.ids && action.payload.allowUndo) {\n            this.notificationService.showUndo(action.payload);\n          } else {\n            const config: MatSnackBarConfig = { duration: 5000 };\n            if (action.payload.duration) {\n              config.duration = action.payload.duration;\n            }\n            this.notificationService.showSnackBar(action.payload.message, 'CLOSE', config);\n          }\n        } else {\n          let message = 'An error has occured';\n          if (action.payload.type) {\n            message = `${action.payload.type} ${message}`;\n          }\n          this.notificationService.showSnackBar(message);\n        }\n      } else {\n        this.notificationService.showSnackBar('An error has occured');\n      }\n      return new SnackPushSuccess();\n    }),\n  );\n\n  @Effect()\n  requestErrorSnacks$: Observable<Action> = this.actions.pipe(\n    ofType(UsersActionTypes.SNACK_ERROR_PUSH),\n    map((snackPushAction: SnackErrorPush) => {\n      if (snackPushAction.payload && snackPushAction.payload.message) {\n        this.notificationService.showSnackBar(\n          snackPushAction.payload.message,\n          snackPushAction.payload.action || 'CLOSE',\n          { duration: snackPushAction.payload.duration || 5000 },\n        );\n      } else {\n        let message = 'An error has occured';\n        if (snackPushAction.payload && snackPushAction.payload.type) {\n          message = `${snackPushAction.payload.type} ${message}`;\n        }\n        this.notificationService.showSnackBar(message);\n      }\n      return new SnackErrorPushSuccess();\n    }),\n  );\n\n  @Effect()\n  createFolderEffect: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.CREATE_FOLDER),\n    map((action: CreateFolder) => action.payload),\n    switchMap(folder => {\n      return this.mailService.createFolder(folder).pipe(\n        switchMap(res => {\n          const actions: any[] = [\n            new CreateFolderSuccess(res),\n            new SnackErrorPush({\n              message: `'${folder.name}' folder ${folder.id ? 'updated' : 'created'} successfully.`,\n            }),\n          ];\n          if (folder.id) {\n            actions.push(new GetUnreadMailsCount(), new GetFilters());\n          }\n          return of(...actions);\n        }),\n        catchError(error =>\n          of(\n            new SnackErrorPush({ message: error.error ? error.error : 'Failed to create folder.' }),\n            new CreateFolderFailure(),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  deleteFolderEffect: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.DELETE_FOLDER),\n    map((action: DeleteFolder) => action.payload),\n    switchMap(folder => {\n      return this.mailService.deleteFolder(folder.id).pipe(\n        switchMap(res => {\n          return of(\n            new DeleteFolderSuccess(folder),\n            new SnackErrorPush({ message: `'${folder.name}' folder deleted successfully.` }),\n          );\n        }),\n        catchError(error =>\n          of(new SnackErrorPush({ message: error.error ? error.error : 'Failed to delete folder.' })),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  updateFoldersOrder: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.UPDATE_FOLDER_ORDER),\n    map((action: UpdateFolderOrder) => action.payload),\n    switchMap(payload => {\n      return this.mailService.updateFoldersOrder(payload.data).pipe(\n        switchMap(res => {\n          return of(\n            new UpdateFolderOrderSuccess({ folders: payload.folders }),\n            new SnackErrorPush({ message: 'Sort order saved successfully.' }),\n          );\n        }),\n        catchError(error =>\n          of(new SnackErrorPush({ message: error.error ? error.error : 'Failed to update folders sort order.' })),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  getFiltersEffect: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.GET_FILTERS),\n    map((action: GetFilters) => action.payload),\n    switchMap(payload => {\n      return this.userService.getFilters(payload).pipe(\n        switchMap(res => of(new GetFiltersSuccess(res.results))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  createFilterEffect: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.CREATE_FILTER),\n    map((action: CreateFilter) => action.payload),\n    switchMap(payload => {\n      return this.userService.createFilter(payload).pipe(\n        switchMap(res =>\n          of(\n            new CreateFilterSuccess(res),\n            new SnackErrorPush({ message: `The filter ${payload.name} has been added.` }),\n          ),\n        ),\n        catchError(errorResponse =>\n          of(\n            new CreateFilterFailure(errorResponse.error),\n            new SnackErrorPush({\n              message: errorResponse.error ? errorResponse.error : 'An error occurred, please try again.',\n            }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  updateFilterEffect: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.UPDATE_FILTER),\n    map((action: UpdateFilter) => action.payload),\n    switchMap(payload => {\n      return this.userService.createFilter(payload).pipe(\n        switchMap(res =>\n          of(\n            new UpdateFilterSuccess(res),\n            new SnackErrorPush({ message: `The filter ${payload.name} has been updated.` }),\n          ),\n        ),\n        catchError(errorResponse =>\n          of(\n            new UpdateFilterFailure(errorResponse.error),\n            new SnackErrorPush({\n              message: errorResponse.error ? errorResponse.error : 'An error occurred, please try again.',\n            }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  deleteFilterEffect: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.DELETE_FILTER),\n    map((action: DeleteFilter) => action.payload),\n    switchMap(filter => {\n      return this.userService.deleteFilter(filter.id).pipe(\n        switchMap(res =>\n          of(\n            new DeleteFilterSuccess(filter),\n            new SnackErrorPush({ message: `The filter ${filter.name} has been deleted.` }),\n          ),\n        ),\n        catchError(errorResponse =>\n          of(\n            new SnackErrorPush({ message: errorResponse.error ? errorResponse.error : 'Failed to delete filter.' }),\n            new DeleteFilterFailure(errorResponse.error),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  Domains: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.GET_DOMAINS),\n    map((action: GetDomains) => action.payload),\n    switchMap(payload => {\n      return this.userService.getDomains().pipe(\n        map(emailDomains => {\n          return new GetDomainsSuccess(emailDomains.results.sort((a, b) => a.id - b.id));\n        }),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  DomainCreate: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.CREATE_DOMAIN),\n    map((action: CreateDomain) => action.payload),\n    switchMap(payload => {\n      return this.userService.createDomain(payload).pipe(\n        switchMap(res => of(new CreateDomainSuccess(res))),\n        catchError(errorResponse => of(new CreateDomainFailure(errorResponse.error))),\n      );\n    }),\n  );\n\n  @Effect()\n  updateDomain: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.UPDATE_DOMAIN),\n    map((action: UpdateDomain) => action.payload),\n    switchMap(payload => {\n      return this.userService.updateDomain(payload).pipe(\n        switchMap(res => of(new UpdateDomainSuccess(res), new SnackPush({ message: `Domain updated successfully` }))),\n        catchError(errorResponse =>\n          of(\n            new UpdateDomainFailure(errorResponse.error),\n            new SnackPush({\n              message: errorResponse.error ? errorResponse.error : 'Failed to update domain, please try again.',\n            }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  DomainRead: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.READ_DOMAIN),\n    map((action: ReadDomain) => action.payload),\n    switchMap(payload => {\n      return this.userService.readDomain(payload).pipe(\n        switchMap(res => of(new ReadDomainSuccess(res))),\n        catchError(errorResponse => of(new ReadDomainFailure({ err: errorResponse.error }))),\n      );\n    }),\n  );\n\n  @Effect()\n  DomainDelete: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.DELETE_DOMAIN),\n    map((action: DeleteDomain) => action.payload),\n    switchMap(payload => {\n      return this.userService.deleteDomain(payload).pipe(\n        switchMap(res => of(new DeleteDomainSuccess(payload), new GetOrganizationUsers())),\n        catchError(errorResponse => of(new DeleteDomainFailure(errorResponse.error))),\n      );\n    }),\n  );\n\n  @Effect()\n  DomainVerify: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.VERIFY_DOMAIN),\n    map((action: VerifyDomain) => action.payload),\n    switchMap(payload => {\n      return this.userService.verifyDomain(payload.id).pipe(\n        switchMap(res => {\n          return of(\n            new VerifyDomainSuccess({\n              res,\n              step: payload.currentStep,\n              gotoNextStep: payload.gotoNextStep,\n              reverify: payload.reverify,\n            }),\n          );\n        }),\n        catchError(errorResponse =>\n          of(new VerifyDomainFailure({ err: errorResponse.error, step: payload.currentStep })),\n        ),\n      );\n    }),\n  );\n\n  @Effect({ dispatch: false })\n  paymentFailureEffect: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.PAYMENT_FAILURE),\n    map((action: PaymentFailure) => action.payload),\n    tap(payload => {\n      this.sharedService.showPaymentFailureDialog();\n    }),\n  );\n\n  @Effect()\n  SendEmailForwardingCode: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.SEND_EMAIL_FORWARDING_CODE),\n    map((action: SendEmailForwardingCode) => action.payload),\n    switchMap(payload => {\n      return this.userService.sendEmailForwardingCode(payload.email).pipe(\n        switchMap(res => of(new SendEmailForwardingCodeSuccess(res))),\n        catchError(errorResponse => of(new SendEmailForwardingCodeFailure(errorResponse.error))),\n      );\n    }),\n  );\n\n  @Effect()\n  VerifyEmailForwardingCode: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.VERIFY_EMAIL_FORWARDING_CODE),\n    map((action: VerifyEmailForwardingCode) => action.payload),\n    switchMap(payload => {\n      return this.userService.verifyEmailForwardingCode(payload.email, payload.code).pipe(\n        switchMap(res => {\n          return of(new AccountDetailsGet(), new VerifyEmailForwardingCodeSuccess(res));\n        }),\n        catchError(errorResponse => of(new VerifyEmailForwardingCodeFailure(errorResponse.error))),\n      );\n    }),\n  );\n\n  @Effect()\n  SaveAutoResponder: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.SAVE_AUTORESPONDER),\n    map((action: SaveAutoResponder) => action.payload),\n    switchMap(payload => {\n      return this.userService.saveAutoResponder(payload).pipe(\n        switchMap(res => {\n          return of(new SnackPush({ message: `Saved successfully` }), new SaveAutoResponderSuccess(res));\n        }),\n        catchError(errorResponse =>\n          of(\n            new SnackErrorPush({ message: 'Failed to save autoresponder. Please try again.' }),\n            new SaveAutoResponderFailure(errorResponse.error),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  getInvoicesEffect: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.GET_INVOICES),\n    map((action: GetInvoices) => action.payload),\n    switchMap(payload => {\n      return this.userService.getInvoices().pipe(\n        switchMap(res => of(new GetInvoicesSuccess(res.results))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  getUpgradeAmountEffect: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.GET_UPGRADE_AMOUNT),\n    map((action: GetUpgradeAmount) => action.payload),\n    switchMap(payload => {\n      return this.userService.getUpgradeAmount(payload).pipe(\n        switchMap(res => of(new GetUpgradeAmountSuccess(res))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  validatePromoCode: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.VALIDATE_PROMO_CODE),\n    map((action: ValidatePromoCode) => action.payload),\n    switchMap(payload => {\n      return this.userService.validatePromoCode(payload).pipe(\n        switchMap(res => of(new ValidatePromoCodeSuccess(res))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  getInviteCodes: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.INVITE_CODE_GET),\n    map((action: GetInviteCodes) => action.payload),\n    switchMap(payload => {\n      return this.userService.getInviteCodes().pipe(\n        switchMap(res => of(new GetInviteCodesSuccess(res))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n\n  @Effect()\n  generateInviteCode: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.INVITE_CODE_GENERATE),\n    map((action: GenerateInviteCode) => action.payload),\n    switchMap(payload => {\n      return this.userService.generateInviteCodes().pipe(\n        switchMap(res => of(new GenerateInviteCodeSuccess(res))),\n        catchError(errorResponse =>\n          of(\n            new SnackErrorPush({\n              message: errorResponse.error\n                ? errorResponse.error\n                : 'Failed generate invite code, try again or contact support.',\n            }),\n            new GenerateInviteCodeFailure(),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  GetNotificationsEffect: Observable<any> = this.actions.pipe(\n    ofType(UsersActionTypes.GET_NOTIFICATION),\n    map((action: GetNotification) => action.payload),\n    switchMap(payload => {\n      return this.userService.getUserNotifications().pipe(\n        switchMap(resp => of(new GetNotificationSuccess(resp))),\n        catchError(error => EMPTY),\n      );\n    }),\n  );\n}\n","export * from './actions';\nexport * from './effects';\nexport * from './reducers';\nexport * from './selectors';\nexport * from './websocket.store';\n","export interface Filter {\n  id?: number;\n  condition?: FilterCondition;\n  filter_text?: string;\n  folder?: string;\n  mark_as_read?: boolean;\n  mark_as_starred?: boolean;\n  move_to?: boolean;\n  name: string;\n  parameter?: FilterParameter;\n}\n\nexport enum FilterParameter {\n  RECIPIENT = 'recipient',\n  SENDER = 'sender',\n  SUBJECT = 'subject',\n}\n\nexport enum FilterCondition {\n  CONTAINS = 'contains',\n  STARTSWITH = 'startswith',\n}\n","export * from './filter.model';\nexport * from './mail.model';\nexport * from './users.model';\n","import { Subscription } from 'rxjs';\n\nimport { MailAction } from '../datatypes';\n\nexport interface Mail {\n  id?: number;\n  attachments?: Array<any>;\n  bcc_display?: Array<EmailDisplay>;\n  bcc?: Array<string>;\n  cc?: Array<string>;\n  checked?: boolean;\n  children_count?: number;\n  children?: Array<Mail>;\n  content: string;\n  content_plain?: string;\n  created_at?: string;\n  datetime?: string;\n  dead_man_duration?: string;\n  delayed_delivery?: string;\n  destruct_date?: string;\n  encryption?: EncryptionNonCTemplar;\n  folder?: string;\n  forward_attachments_of_message?: number;\n  from?: string;\n  has_attachments?: boolean;\n  has_children?: boolean;\n  incoming_headers?: string;\n  is_encrypted?: boolean;\n  is_html?: boolean;\n  is_protected?: boolean;\n  is_subject_encrypted?: boolean;\n  last_action_parent_id?: number;\n  last_action_thread?: MailAction;\n  last_action?: MailAction;\n  mailbox?: number;\n  marked?: boolean;\n  parent?: number;\n  read?: boolean;\n  receiver_display?: Array<EmailDisplay>;\n  receiver_list?: string;\n  receiver?: Array<string>;\n  reply_to?: Array<string>;\n  send?: boolean;\n  sender_display_name?: string;\n  sender_display?: EmailDisplay;\n  sender?: string;\n  sent_at?: string;\n  spam_reason?: string | [];\n  starred?: boolean;\n  subject?: string;\n  thread_count?: number;\n}\n\nexport class EncryptionNonCTemplar {\n  id?: number;\n\n  expires?: string;\n\n  expiry_hours = 120;\n\n  password_hint?: string;\n\n  password: string;\n\n  private_key?: string;\n\n  public_key?: string;\n\n  random_secret?: string;\n}\n\nexport interface Mailbox {\n  id?: number;\n  display_name?: string;\n  email: string;\n  fingerprint?: string;\n  folders: string[];\n  inProgress?: boolean;\n  is_active?: boolean;\n  is_default?: boolean;\n  is_enabled?: boolean;\n  messages: string[];\n  private_key: string;\n  public_key: string;\n  signature?: string;\n  sort_order: number;\n}\n\nexport interface Folder {\n  id?: number;\n  name: string;\n  color: string;\n  sort_order?: number;\n}\n\nexport enum MailFolderType {\n  ALL_EMAILS = 'allmails',\n  UNREAD = 'allunreadmails',\n  INBOX = 'inbox',\n  SENT = 'sent',\n  DRAFT = 'draft',\n  STARRED = 'starred',\n  ARCHIVE = 'archive',\n  SPAM = 'spam',\n  TRASH = 'trash',\n  OUTBOX = 'outbox',\n  SEARCH = 'search',\n}\n\nexport interface Attachment {\n  id?: number;\n  attachmentId?: number;\n  content_id?: string;\n  decryptedDocument?: File;\n  document: any;\n  draftId: number;\n  inProgress: boolean;\n  is_encrypted?: boolean;\n  is_forwarded?: boolean;\n  is_inline: boolean;\n  isRemoved?: boolean;\n  message: number;\n  name: string;\n  progress?: number;\n  request?: Subscription;\n  size: string;\n}\n\nexport interface EmailDisplay {\n  email: string;\n  name?: string;\n}\n","export class Membership {\n  id?: number;\n\n  name?: string;\n\n  price?: number;\n\n  users?: number;\n\n  storage?: number;\n\n  aliases?: number;\n\n  sending_limit?: number;\n\n  filters?: boolean;\n\n  autoresponders?: boolean;\n\n  catch_all?: boolean;\n}\n\nexport class User {\n  id?: number;\n\n  username?: string;\n\n  password?: string;\n\n  is_active?: boolean;\n\n  newsletter?: boolean;\n\n  membership?: Membership;\n\n  token?: string;\n\n  pubkey?: string;\n\n  privkey?: string;\n}\n\nexport class OrganizationUser {\n  user_id?: number;\n\n  username: string;\n\n  domain: string;\n\n  password?: string;\n\n  recovery_email?: string;\n\n  private_key?: string;\n\n  public_key?: string;\n\n  fingerprint?: string;\n\n  isEditing?: boolean;\n\n  unmodifiedUser?: OrganizationUser;\n\n  constructor(data: any = {}) {\n    this.user_id = data.user_id || data.id;\n    this.username = data.username;\n    this.domain = data.domain;\n    this.password = data.password;\n    this.recovery_email = data.recovery_email || data.recoveryEmail || '';\n    this.private_key = data.private_key;\n    this.public_key = data.public_key;\n    this.fingerprint = data.fingerprint;\n  }\n}\n\nexport interface Storage {\n  id: number;\n  type: string;\n  price: number;\n}\n\nexport interface Payment {\n  id: number;\n  annualDiscountRate?: number;\n  classId?: string;\n  monthlyDiscountRate?: number;\n  monthlyFee: any;\n  selected: boolean;\n  title: string;\n  totalAnnualFee: any;\n}\n\nexport interface UserMailbox {\n  id: number;\n  email?: string;\n}\n\nexport const StorageData: Storage[] = [\n  { id: 1, type: '5 Gb Storage', price: 2 },\n  { id: 2, type: '10 Gb Storage', price: 4 },\n  { id: 3, type: '15 Gb Storage', price: 8 },\n  { id: 4, type: '20 Gb Storage', price: 12 },\n  { id: 5, type: '25 Gb Storage', price: 16 },\n];\n\nexport const PaymentData: Payment[] = [\n  {\n    id: 1,\n    annualDiscountRate: 0.9,\n    classId: 'pay-monthly',\n    monthlyDiscountRate: 0.8,\n    monthlyFee: 0,\n    selected: true,\n    title: 'Pay Monthly',\n    totalAnnualFee: 0,\n  },\n  {\n    id: 2,\n    annualDiscountRate: 0.9,\n    classId: 'pay-monthly',\n    monthlyDiscountRate: 0.8,\n    monthlyFee: 0,\n    selected: false,\n    title: 'Pay Annually',\n    totalAnnualFee: 0,\n  },\n];\n","import { Action } from '@ngrx/store';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { of } from 'rxjs/internal/observable/of';\n\nimport { GetDomains, SnackErrorPush } from './actions';\nimport { OrganizationUser } from './models';\nimport { sortByString, UsersService } from './services';\n\nexport enum OrganizationActionTypes {\n  GET_ORGANIZATION_USERS = '[ORGANIZATION] GET USERS',\n  GET_ORGANIZATION_USERS_SUCCESS = '[ORGANIZATION] GET USERS SUCCESS',\n  GET_ORGANIZATION_USERS_FAILURE = '[ORGANIZATION] GET USERS FAILURE',\n  ADD_ORGANIZATION_USER = '[ORGANIZATION] ADD USER',\n  ADD_ORGANIZATION_USER_SUCCESS = '[ORGANIZATION] ADD USER SUCCESS',\n  ADD_ORGANIZATION_USER_FAILURE = '[ORGANIZATION] ADD USER FAILURE',\n  DELETE_ORGANIZATION_USER = '[ORGANIZATION] DELETE USER',\n  DELETE_ORGANIZATION_USER_SUCCESS = '[ORGANIZATION] DELETE USER SUCCESS',\n  DELETE_ORGANIZATION_USER_FAILURE = '[ORGANIZATION] DELETE USER FAILURE',\n  UPDATE_ORGANIZATION_USER = '[ORGANIZATION] UPDATE USER',\n  UPDATE_ORGANIZATION_USER_SUCCESS = '[ORGANIZATION] UPDATE USER SUCCESS',\n  UPDATE_ORGANIZATION_USER_FAILURE = '[ORGANIZATION] UPDATE USER FAILURE',\n}\n\nexport class GetOrganizationUsers implements Action {\n  readonly type = OrganizationActionTypes.GET_ORGANIZATION_USERS;\n\n  constructor(public payload: any = {}) {}\n}\n\nexport class GetOrganizationUsersSuccess implements Action {\n  readonly type = OrganizationActionTypes.GET_ORGANIZATION_USERS_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class GetOrganizationUsersFailure implements Action {\n  readonly type = OrganizationActionTypes.GET_ORGANIZATION_USERS_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class AddOrganizationUser implements Action {\n  readonly type = OrganizationActionTypes.ADD_ORGANIZATION_USER;\n\n  constructor(public payload: any) {}\n}\n\nexport class AddOrganizationUserSuccess implements Action {\n  readonly type = OrganizationActionTypes.ADD_ORGANIZATION_USER_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class AddOrganizationUserFailure implements Action {\n  readonly type = OrganizationActionTypes.ADD_ORGANIZATION_USER_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteOrganizationUser implements Action {\n  readonly type = OrganizationActionTypes.DELETE_ORGANIZATION_USER;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteOrganizationUserSuccess implements Action {\n  readonly type = OrganizationActionTypes.DELETE_ORGANIZATION_USER_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class DeleteOrganizationUserFailure implements Action {\n  readonly type = OrganizationActionTypes.DELETE_ORGANIZATION_USER_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateOrganizationUser implements Action {\n  readonly type = OrganizationActionTypes.UPDATE_ORGANIZATION_USER;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateOrganizationUserSuccess implements Action {\n  readonly type = OrganizationActionTypes.UPDATE_ORGANIZATION_USER_SUCCESS;\n\n  constructor(public payload: any) {}\n}\n\nexport class UpdateOrganizationUserFailure implements Action {\n  readonly type = OrganizationActionTypes.UPDATE_ORGANIZATION_USER_FAILURE;\n\n  constructor(public payload: any) {}\n}\n\nexport type OrganizationActionAll =\n  | GetOrganizationUsers\n  | GetOrganizationUsersSuccess\n  | GetOrganizationUsersFailure\n  | AddOrganizationUser\n  | AddOrganizationUserSuccess\n  | AddOrganizationUserFailure\n  | DeleteOrganizationUser\n  | DeleteOrganizationUserSuccess\n  | DeleteOrganizationUserFailure\n  | UpdateOrganizationUser\n  | UpdateOrganizationUserSuccess\n  | UpdateOrganizationUserFailure;\n\n@Injectable()\nexport class OrganizationEffects {\n  constructor(private actions: Actions, private userService: UsersService) {}\n\n  @Effect()\n  getOrganizationUsers: Observable<any> = this.actions.pipe(\n    ofType(OrganizationActionTypes.GET_ORGANIZATION_USERS),\n    map((action: GetOrganizationUsers) => action.payload),\n    switchMap(payload => {\n      return this.userService.getOrganizationUsers(payload.limit, payload.offset).pipe(\n        switchMap((response: any) => {\n          return of(new GetOrganizationUsersSuccess(response.results));\n        }),\n        catchError(response =>\n          of(\n            new GetOrganizationUsersFailure(response.error),\n            new SnackErrorPush({ message: 'Failed to load organization users.' }),\n          ),\n        ),\n      );\n    }),\n  );\n\n  @Effect()\n  addOrganizationUser: Observable<any> = this.actions.pipe(\n    ofType(OrganizationActionTypes.ADD_ORGANIZATION_USER),\n    map((action: AddOrganizationUser) => action.payload),\n    switchMap(payload => {\n      return this.userService.addOrganizationUser(payload).pipe(\n        switchMap((response: any) => {\n          return of(\n            new AddOrganizationUserSuccess({ ...payload, ...response }),\n            new SnackErrorPush({ message: `User '${payload.username}' added successfully.` }),\n            new GetDomains(),\n          );\n        }),\n        catchError(response => of(new AddOrganizationUserFailure(response.error))),\n      );\n    }),\n  );\n\n  @Effect()\n  deleteOrganizationUser: Observable<any> = this.actions.pipe(\n    ofType(OrganizationActionTypes.DELETE_ORGANIZATION_USER),\n    map((action: DeleteOrganizationUser) => action.payload),\n    switchMap(payload => {\n      return this.userService.deleteOrganizationUser(payload).pipe(\n        switchMap((response: any) => {\n          return of(\n            new DeleteOrganizationUserSuccess(payload),\n            new SnackErrorPush({ message: `User '${payload.username}' deleted successfully.` }),\n            new GetDomains(),\n          );\n        }),\n        catchError(response => of(new DeleteOrganizationUserFailure(response.error))),\n      );\n    }),\n  );\n\n  @Effect()\n  updateOrganizationUser: Observable<any> = this.actions.pipe(\n    ofType(OrganizationActionTypes.UPDATE_ORGANIZATION_USER),\n    map((action: UpdateOrganizationUser) => action.payload),\n    switchMap(payload => {\n      return this.userService.updateOrganizationUser(payload).pipe(\n        switchMap((response: any) => {\n          return of(\n            new UpdateOrganizationUserSuccess(payload),\n            new SnackErrorPush({ message: `Recovery email for user: '${payload.username}', updated successfully.` }),\n          );\n        }),\n        catchError(response =>\n          of(\n            new UpdateOrganizationUserFailure({ user: payload, error: response.error }),\n            new SnackErrorPush({ message: `Failed to update recovery email. ${response.error}` }),\n          ),\n        ),\n      );\n    }),\n  );\n}\n\nexport interface OrganizationState {\n  users: OrganizationUser[];\n  inProgress?: boolean;\n  isAddingUserInProgress?: boolean;\n  isDeleteInProgress?: boolean;\n  isError?: boolean;\n  error?: string;\n}\n\nexport function reducer(state: OrganizationState = { users: [] }, action: OrganizationActionAll) {\n  switch (action.type) {\n    case OrganizationActionTypes.GET_ORGANIZATION_USERS: {\n      return { ...state, inProgress: true };\n    }\n\n    case OrganizationActionTypes.GET_ORGANIZATION_USERS_SUCCESS: {\n      return {\n        ...state,\n        inProgress: false,\n        users: sortByString(action.payload, 'username'),\n      };\n    }\n\n    case OrganizationActionTypes.GET_ORGANIZATION_USERS_FAILURE: {\n      return { ...state, inProgress: false };\n    }\n\n    case OrganizationActionTypes.ADD_ORGANIZATION_USER: {\n      return { ...state, isAddingUserInProgress: true, isError: false };\n    }\n\n    case OrganizationActionTypes.ADD_ORGANIZATION_USER_SUCCESS: {\n      return {\n        ...state,\n        isAddingUserInProgress: false,\n        users: sortByString([...state.users, new OrganizationUser(action.payload)], 'username'),\n        isError: false,\n      };\n    }\n\n    case OrganizationActionTypes.ADD_ORGANIZATION_USER_FAILURE: {\n      return { ...state, isAddingUserInProgress: false, error: action.payload, isError: true };\n    }\n\n    case OrganizationActionTypes.DELETE_ORGANIZATION_USER: {\n      return { ...state, isDeleteInProgress: true };\n    }\n\n    case OrganizationActionTypes.DELETE_ORGANIZATION_USER_SUCCESS: {\n      return {\n        ...state,\n        isDeleteInProgress: false,\n        users: state.users.filter(user => user.username !== action.payload.username),\n      };\n    }\n\n    case OrganizationActionTypes.UPDATE_ORGANIZATION_USER: {\n      return { ...state, isAddingUserInProgress: true, isError: false };\n    }\n\n    case OrganizationActionTypes.UPDATE_ORGANIZATION_USER_SUCCESS: {\n      return {\n        ...state,\n        isAddingUserInProgress: false,\n        users: state.users.map(user => {\n          if (user.user_id === action.payload.user_id) {\n            user = action.payload;\n          }\n          return user;\n        }),\n        isError: false,\n      };\n    }\n\n    case OrganizationActionTypes.UPDATE_ORGANIZATION_USER_FAILURE: {\n      return {\n        ...state,\n        isAddingUserInProgress: false,\n        users: state.users.map(user => {\n          if (user.user_id === action.payload.user.user_id) {\n            user = action.payload.user.unmodifiedUser;\n          }\n          return user;\n        }),\n        error: action.payload.error,\n        isError: true,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","export const quotes = [\n  {\n    content: 'Veritas vos liberabit  The truth shall set you free.',\n    author: '- Templar Saying -',\n  },\n  {\n    content: 'You assist an evil system most by following its orders and decrees.',\n    author: '- Mahatma Gandhi -',\n  },\n  {\n    content: 'Safeguard the helpless',\n    author: \"- Templar's honor code -\",\n  },\n  {\n    content: 'Do no wrong.',\n    author: \"- Templar's honor code -\",\n  },\n  {\n    content: 'In a time of universal deceit, telling the truth is a revolutionary act.',\n    author: '- George Orwell -',\n  },\n  {\n    content: 'The essence of government is control, or the attempt to control.',\n    author: '- Benjamin Tucker -',\n  },\n  {\n    content: 'You are not what you were born, but what you have it in yourself to be.',\n    author: '- Godfrey of Ibelin -',\n  },\n  {\n    content: 'It is a kingdom of conscience, or nothing.',\n    author: '- Balian of Ibelin -',\n  },\n  {\n    content: 'But man is not made for defeat. A man can be destroyed but not defeated.',\n    author: '- Ernest Hemingway -',\n  },\n  {\n    content: 'All men having power ought to be distrusted to a certain degree.',\n    author: '- James Madison -',\n  },\n  {\n    content: 'Keep your face always toward the sunshine - and shadows will fall behind you.',\n    author: '- Walt Whitman -',\n  },\n  {\n    content: 'Honesty is the first chapter in the book of wisdom.',\n    author: '- Thomas Jefferson -',\n  },\n  {\n    content: 'The first casualty when war comes is truth.',\n    author: '- Hiram Johnson -',\n  },\n  {\n    content: 'None are more hopelessly enslaved than those who believe they are free.',\n    author: '- Johann Wolfgang von Goethe -',\n  },\n  {\n    content: 'The further a society drifts from truth, the more it will hate those who speak it.',\n    author: '- George Orwell -',\n  },\n  {\n    content:\n      'The disappearance of a sense of morality is the most far-reaching consequence of submission to a system of authority.',\n    author: '- Stanley Milgram -',\n  },\n  {\n    content: 'It is dangerous to be right when the government is wrong.',\n    author: '- Voltaire -',\n  },\n  {\n    content:\n      'There is no greater tyranny than that which is perpetrated under the shield of the law and in the name of justice.',\n    author: '- Charles-Louis de Secondat -',\n  },\n  {\n    content: 'All human beings have three lives: public, private, and secret.',\n    author: '- Gabriel Garca Mrquez -',\n  },\n  {\n    content: 'If liberty means anything at all, it means the right to tell people what they do not want to hear.',\n    author: '- George Orwell -',\n  },\n  {\n    content: 'No one likes to see a government folder with their name on it.',\n    author: '- Stephen King -',\n  },\n  {\n    content: 'You assist an evil system most by following its orders and decrees.',\n    author: '- Mahatma Gandhi -',\n  },\n  {\n    content:\n      'They who can give up essential liberty to obtain a little temporary safety deserve neither liberty nor safety.',\n    author: '- Benjamin Franklin -',\n  },\n  {\n    content:\n      'A people that elect corrupt politicians, imposters, thieves and traitors are not victims, but accomplices.',\n    author: '- George Orwell -',\n  },\n  {\n    content: 'In a time of universal deceit, telling the truth is a revolutionary act.',\n    author: '- George Orwell -',\n  },\n  {\n    content: 'The ultimate goal of the NSA is total population control.',\n    author: '- William Binney, Whistleblower -',\n  },\n  {\n    content:\n      'Encryption works. Properly implemented strong crypto systems are one of the few things that you can rely on.',\n    author: '- Edward Snowden -',\n  },\n  {\n    content: 'It is a kingdom of conscience, or nothing.',\n    author: '- Balian of Ibelin -',\n  },\n  {\n    content: 'One person can make a difference, and everyone should try.',\n    author: '- John F. Kennedy -',\n  },\n  {\n    content: 'Our lives begin to end the day we become silent about things that matter.',\n    author: '- Martin Luther King Jr. -',\n  },\n  {\n    content:\n      'Darkness cannot drive out darkness: only light can do that. Hate cannot drive out hate: only love can do that.',\n    author: '- Martin Luther King Jr. -',\n  },\n  {\n    content: 'Keep your face always toward the sunshine - and shadows will fall behind you.',\n    author: '- Walt Whitman -',\n  },\n  {\n    content: 'Conformity is the jailer of freedom and the enemy of growth.',\n    author: '- John F. Kennedy -',\n  },\n  {\n    content: 'Big Brother is Watching You.',\n    author: '- George Orwell -',\n  },\n  {\n    content: 'No one ever seizes power with the intention of relinquishing it.',\n    author: '- George Orwell -',\n  },\n  {\n    content: 'The further a society drifts from truth, the more it will hate those who speak it.',\n    author: '- George Orwell -',\n  },\n  {\n    content: 'Cryptography is the ultimate form of non-violent direct action.',\n    author: '- Julian Assange -',\n  },\n  {\n    content: 'It is dangerous to be right when the government is wrong.',\n    author: '- Voltaire -',\n  },\n  {\n    content:\n      'There is no greater tyranny than that which is perpetrated under the shield of the law and in the name of justice.',\n    author: '- Charles-Louis de Secondat, baron de La Brde et de Montesquieu -',\n  },\n  {\n    content: 'The rights of every man are diminished when the rights of one man are threatened.',\n    author: '- John F. Kennedy -',\n  },\n  {\n    content: 'Injustice anywhere is a threat to justice everywhere.',\n    author: '- Martin Luther King Jr. -',\n  },\n  {\n    content: 'One of the best ways to achieve justice is to expose injustice.',\n    author: '- Julian Assange -',\n  },\n  {\n    content: 'Under observation, we act less free, which means we effectively are less free.',\n    author: '- Edward Snowden -',\n  },\n  {\n    content: 'You have to start with the truth.',\n    author: '- Julian Assange -',\n  },\n  {\n    content: 'The law does not defend us; we defend the law.',\n    author: '- Edward Snowden -',\n  },\n  {\n    content: 'I prefer liberty with danger than peace with slavery.',\n    author: '- Jean-Jacques Rousseau -',\n  },\n  {\n    content: \"If we don't believe in freedom of expression for people we despise, we don't believe in it at all.\",\n    author: '- Noam Chomsky -',\n  },\n  {\n    content: 'Better to die fighting for freedom then be a prisoner all the days of your life.',\n    author: '- Bob Marley -',\n  },\n  {\n    content: 'We must find time to stop and thank the people who make a difference in our lives.',\n    author: '- John F. Kennedy -',\n  },\n  {\n    content:\n      'If you become a target, they will retroactively analyze every phone call, every email, every financial transaction, everything electronic that youve ever done.',\n    author: '- William Binney, Whistleblower -',\n  },\n  {\n    content: 'You are now under 24-hours per day surveillance.',\n    author: '- William Binney, Whistleblower -',\n  },\n  {\n    content: 'Your Government is profiling you.',\n    author: '- William Binney, Whistleblower -',\n  },\n  {\n    content: 'You could end up on a kill list without knowing.',\n    author: '- William Binney, Whistleblower -',\n  },\n  {\n    content: 'It is impossible to seal oneself off from injustice.',\n    author: '- Julian Assange -',\n  },\n  {\n    content: 'It is impossible to correct abuses unless we know that theyre going on.',\n    author: '- Julian Assange -',\n  },\n  {\n    content: 'The goal is justice, the method is transparency.',\n    author: '- Julian Assange -',\n  },\n  {\n    content:\n      \"All administrations, governments, officials lie and nothing they say is to be believed. That's a pretty good rule.\",\n    author: '- Daniel Ellsberg, Whistleblower -',\n  },\n  {\n    content:\n      'Power is a thing of perception. They don/t need to be able to kill you. They just need you to think they are able to kill you.',\n    author: '- Julian Assange -',\n  },\n  {\n    content: 'If wars can be started by lies, they can be stopped by truth.',\n    author: '- Julian Assange -',\n  },\n  {\n    content: 'Secrecy breeds incompetence because where there is failure, failure is kept secret.',\n    author: '- Julian Assange -',\n  },\n  {\n    content: 'If journalism is good, it is controversial, by its nature.',\n    author: '- Julian Assange -',\n  },\n  {\n    content: 'If liberty means anything at all, it means the right to tell people what they do not want to hear.',\n    author: '- George Orwell -',\n  },\n  {\n    content:\n      'The worlds entire scientific and cultural heritage, is being digitized and locked up by a handful of private corporations.',\n    author: '- Aaron Swartz, Reddit Co-Founder -',\n  },\n  {\n    content: 'There is no justice in following unjust laws.',\n    author: '- Aaron Swartz, Reddit Co-Founder -',\n  },\n  {\n    content: 'Its time to come into the light.',\n    author: '- Aaron Swartz, Reddit Co-Founder -',\n  },\n  {\n    content: 'The future depends on what we do in the present.',\n    author: '- Mahatma Gandhi -',\n  },\n  {\n    content: 'In a gentle way, you can shake the world.',\n    author: '- Mahatma Gandhi -',\n  },\n];\n","import { AuthActionAll, AuthActionTypes } from '../actions';\nimport { Auth2FA, AuthState } from '../datatypes';\nimport { REFFERAL_CODE_KEY } from '../../shared/config';\n\nexport const initialState: AuthState = {\n  isAuthenticated: false,\n  user: null,\n  errorMessage: null,\n  inProgress: false,\n  signupState: {\n    username: null,\n    password: null,\n    recaptcha: null,\n    currency: 'USD',\n  },\n  resetPasswordErrorMessage: null,\n  isRecoveryCodeSent: false,\n  captcha: {},\n  auth2FA: {},\n  saveDraftOnLogout: false,\n};\n\nexport function logoutReducer(reducerAction: any) {\n  return function (state, action) {\n    return reducerAction(action.type === AuthActionTypes.LOGOUT ? undefined : state, action);\n  };\n}\n\nexport function reducer(state = initialState, action: AuthActionAll): AuthState {\n  switch (action.type) {\n    case AuthActionTypes.LOGIN: {\n      return {\n        ...state,\n        errorMessage: null,\n        inProgress: true,\n      };\n    }\n    case AuthActionTypes.SAVE_DRAFT_ON_LOGOUT: {\n      return {\n        ...state,\n        saveDraftOnLogout: true,\n      };\n    }\n    case AuthActionTypes.LOGIN_SUCCESS: {\n      if (action.payload.token) {\n        localStorage.removeItem(REFFERAL_CODE_KEY);\n        return {\n          ...state,\n          isAuthenticated: true,\n          user: action.payload,\n          errorMessage: null,\n          inProgress: false,\n          auth2FA: { is_2fa_enabled: action.payload.is_2fa_enabled, show2FALogin: false },\n          anti_phishing_phrase: action.payload.is_2fa_enabled ? '' : action.payload.anti_phishing_phrase,\n        };\n      }\n      if (action.payload.is_2fa_enabled) {\n        return {\n          ...state,\n          inProgress: false,\n          errorMessage: null,\n          auth2FA: { is_2fa_enabled: true, show2FALogin: true },\n          anti_phishing_phrase: action.payload.anti_phishing_phrase,\n        };\n      }\n      return { ...state };\n    }\n    case AuthActionTypes.LOGIN_FAILURE: {\n      return {\n        ...state,\n        errorMessage: action.payload || 'Incorrect username or password.',\n        inProgress: false,\n      };\n    }\n    case AuthActionTypes.SET_AUTHENTICATED: {\n      if (state.isAuthenticated) {\n        return { ...state };\n      }\n      return {\n        ...state,\n        isAuthenticated: action.payload.isAuthenticated,\n      };\n    }\n    case AuthActionTypes.SIGNUP_SUCCESS: {\n      return {\n        ...state,\n        user: action.payload,\n        errorMessage: null,\n        inProgress: false,\n        signupState: { ...state.signupState, inProgress: false },\n        recovery_key: action.payload.recovery_key,\n      };\n    }\n    case AuthActionTypes.SIGNUP_FAILURE: {\n      const error = action.payload ? action.payload : 'Failed to signup, please try again.';\n\n      return {\n        ...state,\n        errorMessage: error,\n        inProgress: false,\n        signupState: { ...state.signupState, inProgress: false },\n      };\n    }\n    case AuthActionTypes.SIGNUP: {\n      return {\n        ...state,\n        inProgress: true,\n        signupState: { ...state.signupState, inProgress: true },\n      };\n    }\n    case AuthActionTypes.UPDATE_SIGNUP_DATA: {\n      return {\n        ...state,\n        signupState: { ...state.signupState, ...action.payload },\n      };\n    }\n    case AuthActionTypes.CHECK_USERNAME_AVAILABILITY: {\n      return {\n        ...state,\n        signupState: { ...state.signupState, inProgress: true },\n      };\n    }\n    case AuthActionTypes.CHECK_USERNAME_AVAILABILITY_SUCCESS: {\n      return {\n        ...state,\n        signupState: { ...state.signupState, usernameExists: action.payload.exists, inProgress: false },\n      };\n    }\n\n    case AuthActionTypes.CHECK_USERNAME_AVAILABILITY_ERROR: {\n      return {\n        ...state,\n        signupState: { ...state.signupState, usernameExists: null, inProgress: false },\n      };\n    }\n\n    case AuthActionTypes.RECOVER_PASSWORD: {\n      return {\n        ...state,\n        errorMessage: null,\n        inProgress: true,\n        resetPasswordErrorMessage: null,\n        isRecoveryCodeSent: false,\n      };\n    }\n\n    case AuthActionTypes.RECOVER_PASSWORD_SUCCESS: {\n      return {\n        ...state,\n        inProgress: false,\n        resetPasswordErrorMessage: null,\n        isRecoveryCodeSent: true,\n      };\n    }\n\n    case AuthActionTypes.RECOVER_PASSWORD_FAILURE: {\n      return {\n        ...state,\n        inProgress: false,\n        resetPasswordErrorMessage: action.payload || 'Failed to send recovery email, please try again.',\n        isRecoveryCodeSent: false,\n      };\n    }\n\n    case AuthActionTypes.RESET_PASSWORD: {\n      return {\n        ...state,\n        errorMessage: null,\n        inProgress: true,\n        isRecoveryCodeSent: true,\n        resetPasswordErrorMessage: null,\n      };\n    }\n\n    case AuthActionTypes.RESET_PASSWORD_SUCCESS: {\n      return {\n        ...state,\n        inProgress: false,\n        resetPasswordErrorMessage: null,\n      };\n    }\n\n    case AuthActionTypes.RESET_PASSWORD_FAILURE: {\n      return {\n        ...state,\n        inProgress: false,\n        resetPasswordErrorMessage: 'Failed to reset password, please try again.',\n      };\n    }\n    case AuthActionTypes.UPGRADE_ACCOUNT: {\n      return {\n        ...state,\n        errorMessage: null,\n        inProgress: true,\n      };\n    }\n    case AuthActionTypes.UPGRADE_ACCOUNT_SUCCESS: {\n      return {\n        ...state,\n        errorMessage: null,\n        inProgress: false,\n      };\n    }\n    case AuthActionTypes.UPGRADE_ACCOUNT_FAILURE: {\n      return {\n        ...state,\n        errorMessage: 'Failed to upgrade account. Please try again.',\n        inProgress: false,\n      };\n    }\n    case AuthActionTypes.DELETE_ACCOUNT: {\n      return {\n        ...state,\n        inProgress: true,\n      };\n    }\n    case AuthActionTypes.DELETE_ACCOUNT_SUCCESS:\n    case AuthActionTypes.DELETE_ACCOUNT_FAILURE: {\n      return {\n        ...state,\n        inProgress: false,\n      };\n    }\n    case AuthActionTypes.CLEAR_SIGNUP_STATE: {\n      return {\n        ...state,\n        signupState: initialState.signupState,\n      };\n    }\n    case AuthActionTypes.CLEAR_AUTH_ERROR_MESSAGE: {\n      return {\n        ...state,\n        errorMessage: null,\n      };\n    }\n    case AuthActionTypes.CHANGE_PASSPHRASE_SUCCESS: {\n      return {\n        ...state,\n        updatedPrivateKeys: action.payload,\n      };\n    }\n    case AuthActionTypes.CHANGE_PASSWORD: {\n      return {\n        ...state,\n        inProgress: true,\n        isChangePasswordError: false,\n      };\n    }\n    case AuthActionTypes.CHANGE_PASSWORD_SUCCESS: {\n      if (localStorage.getItem('user_key')) {\n        localStorage.setItem('user_key', btoa(action.payload.password));\n      }\n      return {\n        ...state,\n        inProgress: false,\n        isChangePasswordError: false,\n      };\n    }\n    case AuthActionTypes.CHANGE_PASSWORD_FAILED: {\n      return {\n        ...state,\n        inProgress: false,\n        isChangePasswordError: true,\n      };\n    }\n    case AuthActionTypes.GET_CAPTCHA: {\n      return {\n        ...state,\n        captcha: { ...state.captcha, inProgress: true },\n      };\n    }\n    case AuthActionTypes.GET_CAPTCHA_SUCCESS: {\n      return {\n        ...state,\n        captcha: { ...state.captcha, ...action.payload, inProgress: false },\n      };\n    }\n\n    case AuthActionTypes.VERIFY_CAPTCHA: {\n      return {\n        ...state,\n        captcha: { ...state.captcha, isInvalid: null, inProgress: true },\n      };\n    }\n    case AuthActionTypes.VERIFY_CAPTCHA_SUCCESS: {\n      return {\n        ...state,\n        captcha: {\n          ...state.captcha,\n          inProgress: false,\n          isInvalid: !action.payload.status,\n          verified: action.payload.status,\n          value: action.payload.status ? state.captcha.value : '',\n        },\n      };\n    }\n\n    case AuthActionTypes.GET_2FA_SECRET: {\n      return { ...state, auth2FA: { inProgress: true } };\n    }\n\n    case AuthActionTypes.GET_2FA_SECRET_SUCCESS: {\n      return { ...state, auth2FA: new Auth2FA({ ...action.payload, inProgress: false }) };\n    }\n\n    case AuthActionTypes.LOGOUT: {\n      return initialState;\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import { BitcoinState, TransactionStatus } from '../datatypes';\nimport { BitcoinActionAll, BitcoinActionTypes } from '../actions/bitcoin.action';\n\nexport const initialState: BitcoinState = {\n  bitcoinRequired: 0.0021,\n  newWalletAddress: null,\n  loaded: false,\n  checkTransactionResponse: { status: TransactionStatus.WAITING },\n};\n\nexport function reducer(state = initialState, action: BitcoinActionAll): BitcoinState {\n  switch (action.type) {\n    case BitcoinActionTypes.CREATE_NEW_WALLET: {\n      return {\n        ...state,\n        loaded: false,\n      };\n    }\n    case BitcoinActionTypes.CREATE_NEW_WALLET_SUCCESS: {\n      return {\n        ...state,\n        loaded: true,\n        newWalletAddress: action.payload.address,\n        bitcoinRequired: action.payload.amount,\n      };\n    }\n    case BitcoinActionTypes.CHECK_TRANSACTION_SUCCESS: {\n      return {\n        ...state,\n        checkTransactionResponse: action.payload,\n      };\n    }\n    case BitcoinActionTypes.CLEAR_WALLET: {\n      return {\n        ...initialState,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import { FilenamePipe } from '../../shared/pipes/filename.pipe';\nimport { ComposeMailActions, ComposeMailActionTypes } from '../actions';\nimport { ComposeMailState } from '../datatypes';\nimport { MailFolderType } from '../models';\n\nexport function reducer(state: ComposeMailState = { drafts: {} }, action: ComposeMailActions): ComposeMailState {\n  switch (action.type) {\n    case ComposeMailActionTypes.SEND_MAIL:\n    case ComposeMailActionTypes.CREATE_MAIL: {\n      state.drafts[action.payload.id] = {\n        ...state.drafts[action.payload.id],\n        isSaving: true,\n        inProgress: true,\n        shouldSend: false,\n        shouldSave: false,\n        isSent: false,\n      };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.CREATE_MAIL_SUCCESS: {\n      const oldDraft = state.drafts[action.payload.draft.id];\n      const draftMail = action.payload.response;\n      if (action.payload.draft.draft.forward_attachments_of_message) {\n        oldDraft.attachments = draftMail.attachments.map(attachment => {\n          attachment.progress = 100;\n          if (!attachment.name) {\n            attachment.name = FilenamePipe.tranformToFilename(attachment.document);\n          }\n          attachment.draftId = oldDraft.id;\n          attachment.attachmentId = performance.now() + Math.floor(Math.random() * 1000);\n          return attachment;\n        });\n      }\n      draftMail.is_html = oldDraft.draft.is_html;\n      state.drafts[action.payload.draft.id] = {\n        ...oldDraft,\n        inProgress: false,\n        isSent: false,\n        draft: draftMail,\n        isSaving: false,\n      };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.SEND_MAIL_SUCCESS: {\n      delete state.drafts[action.payload.id];\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.SEND_MAIL_FAILURE: {\n      state.drafts[action.payload.id] = {\n        ...state.drafts[action.payload.id],\n        draft: { ...state.drafts[action.payload.id].draft, send: false, folder: MailFolderType.DRAFT },\n        inProgress: false,\n        isSent: false,\n      };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.UPDATE_LOCAL_DRAFT: {\n      state.drafts[action.payload.id] = { ...state.drafts[action.payload.id], ...action.payload, inProgress: true };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.GET_USERS_KEYS: {\n      state.drafts[action.payload.draftId] = {\n        ...state.drafts[action.payload.draftId],\n        ...action.payload.draft,\n        inProgress: true,\n        getUserKeyInProgress: true,\n      };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.GET_USERS_KEYS_SUCCESS: {\n      state.drafts[action.payload.draftId] = {\n        ...state.drafts[action.payload.draftId],\n        getUserKeyInProgress: false,\n        usersKeys: action.payload.data,\n      };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.UPDATE_PGP_ENCRYPTED_CONTENT: {\n      if (action.payload.draftId) {\n        state.drafts[action.payload.draftId] = {\n          ...state.drafts[action.payload.draftId],\n          isPGPInProgress: action.payload.isPGPInProgress,\n          encryptedContent: action.payload.encryptedContent,\n        };\n      }\n      return {\n        ...state,\n        drafts: { ...state.drafts },\n      };\n    }\n\n    case ComposeMailActionTypes.UPDATE_PGP_SSH_KEYS: {\n      if (action.payload.draftId) {\n        state.drafts[action.payload.draftId] = {\n          ...state.drafts[action.payload.draftId],\n          isSshInProgress: action.payload.isSshInProgress,\n        };\n        if (action.payload.keys) {\n          state.drafts[action.payload.draftId].draft = {\n            ...state.drafts[action.payload.draftId].draft,\n            encryption: {\n              ...state.drafts[action.payload.draftId].draft.encryption,\n              private_key: action.payload.keys.private_key,\n              public_key: action.payload.keys.public_key,\n            },\n          };\n        }\n      }\n      return {\n        ...state,\n        drafts: { ...state.drafts },\n      };\n    }\n\n    case ComposeMailActionTypes.CLOSE_MAILBOX: {\n      if (action.payload && state.drafts[action.payload.id]) {\n        state.drafts[action.payload.id] = { ...state.drafts[action.payload.id], isClosed: true };\n        return { ...state, drafts: { ...state.drafts } };\n      }\n      return state;\n    }\n\n    case ComposeMailActionTypes.CLEAR_DRAFT: {\n      delete state.drafts[action.payload.id];\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.START_ATTACHMENT_ENCRYPTION: {\n      state.drafts[action.payload.draftId].attachments.forEach((attachment, index) => {\n        if (attachment.attachmentId === action.payload.attachmentId) {\n          state.drafts[action.payload.draftId].attachments[index] = {\n            ...state.drafts[action.payload.draftId].attachments[index],\n            inProgress: true,\n          };\n          state.drafts[action.payload.draftId] = {\n            ...state.drafts[action.payload.draftId],\n            isProcessingAttachments: true,\n          };\n        }\n      });\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.UPLOAD_ATTACHMENT: {\n      if (action.payload.id) {\n        state.drafts[action.payload.draftId].attachments.forEach((attachment, index) => {\n          if (attachment.attachmentId === action.payload.attachmentId) {\n            state.drafts[action.payload.draftId].attachments[index] = {\n              ...state.drafts[action.payload.draftId].attachments[index],\n              inProgress: true,\n            };\n            state.drafts[action.payload.draftId] = {\n              ...state.drafts[action.payload.draftId],\n              isProcessingAttachments: true,\n            };\n          }\n        });\n      } else {\n        state.drafts[action.payload.draftId].attachments = [\n          ...state.drafts[action.payload.draftId].attachments,\n          { ...action.payload, inProgress: true },\n        ];\n        state.drafts[action.payload.draftId] = {\n          ...state.drafts[action.payload.draftId],\n          isProcessingAttachments: true,\n        };\n      }\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.UPLOAD_ATTACHMENT_PROGRESS: {\n      state.drafts[action.payload.draftId].attachments.forEach((attachment, index) => {\n        if (attachment.attachmentId === action.payload.attachmentId) {\n          state.drafts[action.payload.draftId].attachments[index] = {\n            ...state.drafts[action.payload.draftId].attachments[index],\n            progress: action.payload.progress,\n          };\n        }\n      });\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.UPLOAD_ATTACHMENT_REQUEST: {\n      state.drafts[action.payload.draftId].attachments.forEach((attachment, index) => {\n        if (attachment.attachmentId === action.payload.attachmentId) {\n          state.drafts[action.payload.draftId].attachments[index] = {\n            ...state.drafts[action.payload.draftId].attachments[index],\n            request: action.payload.request,\n          };\n        }\n      });\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.UPLOAD_ATTACHMENT_SUCCESS: {\n      const { data } = action.payload;\n      state.drafts[data.draftId].attachments.forEach((attachment, index) => {\n        if (attachment.attachmentId === data.attachmentId) {\n          state.drafts[data.draftId].attachments[index] = {\n            ...state.drafts[data.draftId].attachments[index],\n            id: action.payload.response.id,\n            document: action.payload.response.document,\n            content_id: action.payload.response.content_id,\n            inProgress: false,\n            request: null,\n          };\n        }\n      });\n      const isProcessingAttachments = !!state.drafts[data.draftId].attachments.find(\n        attachment => attachment.inProgress,\n      );\n      state.drafts[data.draftId] = { ...state.drafts[data.draftId], isProcessingAttachments };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.UPLOAD_ATTACHMENT_FAILURE: {\n      state.drafts[action.payload.draftId].attachments = state.drafts[action.payload.draftId].attachments.filter(\n        attachment => attachment.attachmentId !== action.payload.attachmentId,\n      );\n      const isProcessingAttachments = !!state.drafts[action.payload.draftId].attachments.find(\n        attachment => attachment.inProgress,\n      );\n      state.drafts[action.payload.draftId] = { ...state.drafts[action.payload.draftId], isProcessingAttachments };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.DELETE_ATTACHMENT: {\n      state.drafts[action.payload.draftId].attachments.forEach((attachment, index) => {\n        if (attachment.attachmentId === action.payload.attachmentId) {\n          state.drafts[action.payload.draftId].attachments[index] = {\n            ...state.drafts[action.payload.draftId].attachments[index],\n            isRemoved: true,\n            inProgress: true,\n          };\n        }\n      });\n      state.drafts[action.payload.draftId] = { ...state.drafts[action.payload.draftId], isProcessingAttachments: true };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.DELETE_ATTACHMENT_SUCCESS: {\n      state.drafts[action.payload.draftId].attachments = state.drafts[action.payload.draftId].attachments.filter(\n        attachment => {\n          if (attachment.attachmentId === action.payload.attachmentId) {\n            if (!attachment.id) {\n              attachment.request.unsubscribe();\n            }\n            return false;\n          }\n          return true;\n        },\n      );\n      const isProcessingAttachments = !!state.drafts[action.payload.draftId].attachments.find(\n        attachment => attachment.inProgress,\n      );\n      state.drafts[action.payload.draftId] = { ...state.drafts[action.payload.draftId], isProcessingAttachments };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.DELETE_ATTACHMENT_FAILURE: {\n      state.drafts[action.payload.draftId].attachments.forEach((attachment, index) => {\n        if (attachment.attachmentId === action.payload.attachmentId) {\n          state.drafts[action.payload.draftId].attachments[index] = {\n            ...state.drafts[action.payload.draftId].attachments[index],\n            isRemoved: false,\n            inProgress: false,\n          };\n        }\n      });\n      const isProcessingAttachments = !!state.drafts[action.payload.draftId].attachments.find(\n        attachment => attachment.inProgress,\n      );\n      state.drafts[action.payload.draftId] = { ...state.drafts[action.payload.draftId], isProcessingAttachments };\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.NEW_DRAFT: {\n      state.drafts[action.payload.id] = action.payload;\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    case ComposeMailActionTypes.UPDATE_DRAFT_ATTACHMENT: {\n      state.drafts[action.payload.draftId].attachments.forEach((attachment, index) => {\n        if (attachment.attachmentId === action.payload.attachment.attachmentId) {\n          state.drafts[action.payload.draftId].attachments[index] = {\n            ...state.drafts[action.payload.draftId].attachments[index],\n            ...action.payload.attachment,\n          };\n        }\n      });\n      return { ...state, drafts: { ...state.drafts } };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import { ContactsState } from '../datatypes';\nimport { ContactsActionAll, ContactsActionTypes } from '../actions/contacts.action';\nimport { sortByString } from '../services';\n\nexport const initialState: ContactsState = {\n  contacts: [],\n  totalContacts: 0,\n  noOfDecryptedContacts: 0,\n  loaded: false,\n  contactsToDecrypt: [],\n};\n\nexport function reducer(state = initialState, action: ContactsActionAll): ContactsState {\n  switch (action.type) {\n    case ContactsActionTypes.CONTACT_GET: {\n      return { ...state, loaded: false, inProgress: true, contactsToDecrypt: [] };\n    }\n\n    case ContactsActionTypes.CONTACT_GET_SUCCESS: {\n      return {\n        ...state,\n        contacts: action.payload.results,\n        contactsToDecrypt: action.payload.isDecrypting ? action.payload.results : [],\n        totalContacts: action.payload.total_count,\n        loaded: true,\n        inProgress: false,\n      };\n    }\n\n    case ContactsActionTypes.CONTACT_GET_FAILURE: {\n      return {\n        ...state,\n        loaded: true,\n        inProgress: false,\n      };\n    }\n\n    case ContactsActionTypes.CLEAR_CONTACTS_TO_DECRYPT: {\n      return {\n        ...state,\n        contactsToDecrypt: [],\n        noOfDecryptedContacts: action.payload && action.payload.clearCount ? 0 : state.noOfDecryptedContacts,\n      };\n    }\n\n    case ContactsActionTypes.CONTACT_BATCH_UPDATE: {\n      return { ...state, noOfDecryptedContacts: state.noOfDecryptedContacts + action.payload.contact_list.length };\n    }\n\n    case ContactsActionTypes.CONTACT_NOTIFY:\n    case ContactsActionTypes.CONTACT_DELETE:\n    case ContactsActionTypes.CONTACT_ADD: {\n      return { ...state, inProgress: true, isError: false };\n    }\n    case ContactsActionTypes.CONTACT_NOTIFY_SUCCESS:\n    case ContactsActionTypes.CONTACT_NOTIFY_FAILURE: {\n      return { ...state, inProgress: false, isError: false };\n    }\n    case ContactsActionTypes.CONTACT_ADD_SUCCESS: {\n      if (action.payload.isUpdating) {\n        const contact = state.contacts.find(item => item.id === action.payload.id);\n        contact.note = action.payload.note;\n        contact.address = action.payload.address;\n        contact.phone = action.payload.phone;\n        contact.phone2 = action.payload.phone2;\n        contact.email = action.payload.email;\n        contact.name = action.payload.name;\n        contact.enabled_encryption = action.payload.enabled_encryption;\n        contact.public_key = action.payload.public_key;\n        return { ...state, inProgress: false, isError: false };\n      }\n      state.totalContacts += 1;\n\n      return {\n        ...state,\n        contacts: sortByString(state.contacts.concat([action.payload]), 'name'),\n        inProgress: false,\n        isError: false,\n      };\n    }\n    case ContactsActionTypes.CONTACT_ADD_ERROR: {\n      return { ...state, inProgress: false, isError: true };\n    }\n\n    case ContactsActionTypes.CONTACT_DELETE_SUCCESS: {\n      const ids = action.payload.split(',');\n      const contacts = state.contacts.filter(item => ids.includes(`${item.id}`));\n      contacts.forEach(contact => {\n        state.contacts.splice(state.contacts.indexOf(contact), 1);\n      });\n      state.totalContacts -= ids.length;\n      return { ...state, inProgress: false, isError: false };\n    }\n\n    case ContactsActionTypes.CONTACT_IMPORT: {\n      return { ...state, inProgress: true };\n    }\n\n    case ContactsActionTypes.CONTACT_IMPORT_SUCCESS: {\n      return { ...state, inProgress: false };\n    }\n\n    case ContactsActionTypes.CONTACT_IMPORT_FAILURE: {\n      return { ...state, inProgress: false };\n    }\n\n    case ContactsActionTypes.GET_EMAIL_CONTACTS: {\n      return { ...state, emailContacts: [] };\n    }\n\n    case ContactsActionTypes.GET_EMAIL_CONTACTS_SUCCESS: {\n      return { ...state, emailContacts: action.payload };\n    }\n\n    case ContactsActionTypes.CONTACT_DECRYPT_SUCCESS: {\n      const contacts = state.contacts.map(contact => {\n        if (contact.id === action.payload.id) {\n          contact = action.payload;\n          contact.isDecryptedFrontend = true;\n          contact.is_decryptionInProgress = false;\n        }\n        return contact;\n      });\n      return { ...state, contacts };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import { ActionReducerMap } from '@ngrx/store';\n\nimport { AppState } from '../datatypes';\nimport * as webSocket from '../websocket.store';\nimport * as organization from '../organization.store';\n\nimport * as auth from './auth.reducers';\nimport * as mail from './mail.reducers';\nimport * as mailboxes from './mailboxes.reducers';\nimport * as loading from './loading.reducers';\nimport * as keyboard from './keyboard.reducers';\nimport * as user from './users.reducers';\nimport * as timezone from './timezone.reducer';\nimport * as bitcoin from './bitcoin.reducers';\nimport * as composeMail from './compose-mail.reducers';\nimport * as search from './search.reducers';\nimport * as secureMessage from './secure-message.reducers';\nimport * as contacts from './contacts.reducers';\n\nexport const reducers: ActionReducerMap<AppState> = {\n  auth: auth.reducer,\n  mail: mail.reducer,\n  mailboxes: mailboxes.reducer,\n  loading: loading.reducer,\n  keyboard: keyboard.reducer,\n  user: user.reducer,\n  contacts: contacts.reducer,\n  timezone: timezone.reducer,\n  bitcoin: bitcoin.reducer,\n  composeMail: composeMail.reducer,\n  search: search.reducer,\n  secureMessage: secureMessage.reducer,\n  webSocket: webSocket.reducer,\n  organization: organization.reducer,\n};\n","import { KeyboardActionTypes, KeyboardActionAll } from '../actions';\nimport { KeyboardState } from '../datatypes';\n\nexport const initialState: KeyboardState = { keyboardFocused: false, keyPressed: { key: '' }, focusedInput: '' };\n\nexport function reducer(state = initialState, action: KeyboardActionAll): KeyboardState {\n  switch (action.type) {\n    case KeyboardActionTypes.KEYBOARD_FOCUSED: {\n      if (action.payload.keyboard === false) {\n        return { ...state, keyboardFocused: false };\n      }\n      return { ...state, keyboardFocused: !state.keyboardFocused };\n    }\n    case KeyboardActionTypes.KEYBOARD_FOCUSED_OUT: {\n      return initialState;\n    }\n    case KeyboardActionTypes.KEY_PRESSED: {\n      return { ...state, keyPressed: action.payload };\n    }\n    case KeyboardActionTypes.FOCUSED_INPUT: {\n      return { ...state, focusedInput: action.payload };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import { LoadingActionAll, LoadingActionTypes } from '../actions';\nimport { LoadingState } from '../datatypes';\n\nexport const initialState: LoadingState = {\n  RecentBlogLoading: false,\n  RelatedBlogLoading: false,\n  Loading: false,\n};\n\nexport function reducer(state = initialState, action: LoadingActionAll): LoadingState {\n  switch (action.type) {\n    case LoadingActionTypes.RECENT_LOADING: {\n      return { ...state, RecentBlogLoading: action.payload.loadingState };\n    }\n    case LoadingActionTypes.RELATED_LOADING: {\n      return { ...state, RelatedBlogLoading: action.payload.loadingState };\n    }\n    case LoadingActionTypes.FINAL_LOADING: {\n      return { ...state, Loading: action.payload.loadingState };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import { MailActions, MailActionTypes } from '../actions';\nimport { MailState, MailStateFolderInfo } from '../datatypes';\nimport { Attachment, EmailDisplay, Mail, MailFolderType } from '../models';\nimport { FilenamePipe } from '../../shared/pipes/filename.pipe';\n\nexport function reducer(\n  state: MailState = {\n    mails: [],\n    total_mail_count: 0,\n    info_by_folder: new Map(),\n    mailDetail: null,\n    folders: new Map(),\n    loaded: false,\n    decryptedContents: {},\n    unreadMailsCount: { inbox: 0 },\n    noUnreadCountChange: true,\n    canGetUnreadCount: true,\n    decryptedSubjects: {},\n    isMailsMoved: false,\n    customFolderMessageCount: [],\n    isComposerPopUp: false,\n  },\n  action: MailActions,\n): MailState {\n  switch (action.type) {\n    case MailActionTypes.GET_MAILS: {\n      const mails = state.folders.get(action.payload.folder);\n      return {\n        ...state,\n        loaded: !!(mails && !action.payload.forceReload),\n        inProgress: !!action.payload.inProgress,\n        currentFolder: action.payload.folder as MailFolderType,\n        mails: mails || [],\n        noUnreadCountChange: true,\n      };\n    }\n\n    case MailActionTypes.GET_MAILS_SUCCESS: {\n      let { mails } = action.payload;\n      const target_folder_mails = state.folders.get(action.payload.folder) || [];\n      const old_folder_info = state.info_by_folder.get(action.payload.folder);\n      const folder_info = new MailStateFolderInfo({\n        is_not_first_page: action.payload.is_not_first_page || false,\n        total_mail_count: action.payload.total_mail_count,\n        is_dirty: false,\n      });\n      state.info_by_folder.set(action.payload.folder, folder_info);\n\n      if (action.payload.is_from_socket) {\n        const mailIDs = mails.map(item => item.id);\n        mails = target_folder_mails.filter(item => !mailIDs.includes(item.id));\n        mails = [...action.payload.mails, ...mails];\n        if (action.payload.folder !== MailFolderType.SPAM) {\n          let unread_folder_mails = state.folders.get(MailFolderType.UNREAD) || [];\n          const unread_folder_info = state.info_by_folder.get(MailFolderType.UNREAD);\n          // prepare unread mails\n          if (\n            unread_folder_mails &&\n            unread_folder_mails.length > 0 &&\n            unread_folder_info &&\n            !unread_folder_info.is_not_first_page\n          ) {\n            unread_folder_mails = unread_folder_mails.filter(item => !mailIDs.includes(item.id));\n            unread_folder_mails = [...action.payload.mails, ...unread_folder_mails];\n            unread_folder_mails = unread_folder_mails.map((mail: Mail) => {\n              mail.receiver_list = mail.receiver_display.map((item: EmailDisplay) => item.name).join(', ');\n\n              mail.thread_count =\n                mail.children_count +\n                ((action.payload.folder !== MailFolderType.TRASH && mail.folder !== MailFolderType.TRASH) ||\n                (action.payload.folder === MailFolderType.TRASH && mail.folder === MailFolderType.TRASH)\n                  ? 1\n                  : 0);\n              return mail;\n            });\n            unread_folder_mails = unread_folder_mails.slice(0, action.payload.limit);\n            state.folders.set(MailFolderType.UNREAD, unread_folder_mails);\n            unread_folder_info.total_mail_count += mailIDs.length;\n            state.info_by_folder.set(MailFolderType.UNREAD, unread_folder_info);\n          }\n          // prepare all mails\n          let all_folder_mails = state.folders.get(MailFolderType.ALL_EMAILS) || [];\n          const all_folder_info = state.info_by_folder.get(MailFolderType.ALL_EMAILS);\n          if (\n            all_folder_mails &&\n            all_folder_mails.length > 0 &&\n            all_folder_info &&\n            !all_folder_info.is_not_first_page\n          ) {\n            all_folder_mails = all_folder_mails.filter(item => !mailIDs.includes(item.id));\n            all_folder_mails = [...action.payload.mails, ...all_folder_mails];\n            all_folder_mails = all_folder_mails.map((mail: Mail) => {\n              mail.receiver_list = mail.receiver_display.map((item: EmailDisplay) => item.name).join(', ');\n              mail.thread_count =\n                mail.children_count +\n                ((action.payload.folder !== MailFolderType.TRASH && mail.folder !== MailFolderType.TRASH) ||\n                (action.payload.folder === MailFolderType.TRASH && mail.folder === MailFolderType.TRASH)\n                  ? 1\n                  : 0);\n              return mail;\n            });\n            all_folder_mails = all_folder_mails.slice(0, action.payload.limit);\n            state.folders.set(MailFolderType.ALL_EMAILS, all_folder_mails);\n            all_folder_info.total_mail_count += mailIDs.length;\n            state.info_by_folder.set(MailFolderType.ALL_EMAILS, all_folder_info);\n          }\n        }\n      }\n      mails = mails.map((mail: Mail) => {\n        mail.receiver_list = mail.receiver_display.map((item: EmailDisplay) => item.name).join(', ');\n        mail.thread_count =\n          mail.children_count +\n          ((action.payload.folder !== MailFolderType.TRASH && mail.folder !== MailFolderType.TRASH) ||\n          (action.payload.folder === MailFolderType.TRASH && mail.folder === MailFolderType.TRASH)\n            ? 1\n            : 0);\n        return mail;\n      });\n      if (\n        state.currentFolder === action.payload.folder ||\n        (state.currentFolder !== action.payload.folder && target_folder_mails.length > 0)\n      ) {\n        if (!action.payload.is_from_socket || (old_folder_info && !old_folder_info.is_not_first_page)) {\n          if (action.payload.limit) {\n            mails = mails.slice(0, action.payload.limit);\n          }\n          state.folders.set(action.payload.folder, mails);\n        }\n      }\n      mails = state.folders.get(state.currentFolder);\n      state.total_mail_count = state.info_by_folder.get(state.currentFolder)\n        ? state.info_by_folder.get(state.currentFolder).total_mail_count\n        : 0;\n      mails = mails || [];\n      mails.forEach((mail: Mail) => {\n        if (mail.is_subject_encrypted && state.decryptedSubjects[mail.id]) {\n          mail.subject = state.decryptedSubjects[mail.id];\n          mail.is_subject_encrypted = false;\n        }\n      });\n      return {\n        ...state,\n        mails,\n        loaded: true,\n        inProgress: false,\n        noUnreadCountChange: true,\n      };\n    }\n\n    case MailActionTypes.STOP_GETTING_UNREAD_MAILS_COUNT: {\n      return {\n        ...state,\n        canGetUnreadCount: false,\n      };\n    }\n\n    case MailActionTypes.GET_UNREAD_MAILS_COUNT: {\n      return { ...state, noUnreadCountChange: false };\n    }\n    case MailActionTypes.GET_UNREAD_MAILS_COUNT_SUCCESS: {\n      if (action.payload.updateUnreadCount) {\n        const totalUnreadMailCount = getTotalUnreadCount({ ...state.unreadMailsCount, ...action.payload });\n        const unreadMailData = {\n          ...state.unreadMailsCount,\n          ...action.payload,\n          total_unread_count: totalUnreadMailCount,\n        };\n        return {\n          ...state,\n          unreadMailsCount: unreadMailData,\n          noUnreadCountChange: false,\n        };\n      }\n      return {\n        ...state,\n        unreadMailsCount: { ...action.payload, total_unread_count: getTotalUnreadCount(action.payload) },\n        noUnreadCountChange: false,\n      };\n    }\n    case MailActionTypes.GET_CUSTOMFOLDER_MESSAGE_COUNT_SUCCESS: {\n      return { ...state, customFolderMessageCount: action.payload };\n    }\n    case MailActionTypes.SET_IS_COMPOSER_POPUP: {\n      state.isComposerPopUp = action.payload;\n      return {\n        ...state,\n      };\n    }\n    case MailActionTypes.MOVE_MAIL: {\n      return { ...state, inProgress: true, noUnreadCountChange: true, isMailsMoved: false };\n    }\n\n    case MailActionTypes.MOVE_MAIL_SUCCESS: {\n      const listOfIDs = action.payload.ids.toString().split(',');\n      state.mails = state.mails.filter(mail => !listOfIDs.includes(mail.id.toString()));\n      if (action.payload.sourceFolder) {\n        const oldMails = state.folders.get(action.payload.sourceFolder) || [];\n        state.folders.set(\n          action.payload.sourceFolder,\n          oldMails.filter(mail => !listOfIDs.includes(mail.id.toString())),\n        );\n      }\n      let info_keys = [...state.info_by_folder.keys()];\n      info_keys = info_keys.filter(folder => folder !== MailFolderType.DRAFT && folder !== MailFolderType.OUTBOX);\n      info_keys.map(key => {\n        const folder_info = state.info_by_folder.get(key);\n        if (folder_info) {\n          folder_info.is_dirty = true;\n        }\n        state.info_by_folder.set(key, folder_info);\n      });\n      if (\n        state.mailDetail &&\n        state.mailDetail.children &&\n        state.mailDetail.children.some(child => listOfIDs.includes(child.id.toString()))\n      ) {\n        state.mailDetail.children.forEach((child, index) => {\n          if (listOfIDs.includes(child.id.toString())) {\n            state.mailDetail.children[index] = { ...state.mailDetail.children[index], folder: action.payload.folder };\n          }\n        });\n      }\n      if (state.mailDetail && listOfIDs.includes(state.mailDetail.id.toString())) {\n        state.mailDetail = { ...state.mailDetail, folder: action.payload.folder };\n      }\n      return { ...state, inProgress: false, noUnreadCountChange: true, isMailsMoved: true };\n    }\n\n    case MailActionTypes.UNDO_DELETE_MAIL_SUCCESS: {\n      let { mails } = state;\n      if (action.payload.sourceFolder === state.currentFolder) {\n        const undo_mails = Array.isArray(action.payload.mail) ? action.payload.mail : [action.payload.mail];\n\n        mails = sortByDueDate([...state.mails, ...undo_mails]);\n        state.folders.set(action.payload.sourceFolder, [...mails]);\n        const current_folder_info = state.info_by_folder.get(action.payload.sourceFolder);\n        current_folder_info.total_mail_count += undo_mails.length;\n        state.info_by_folder.set(action.payload.sourceFolder, current_folder_info);\n        state.total_mail_count = current_folder_info.total_mail_count;\n      }\n      let info_keys = [...state.info_by_folder.keys()];\n      info_keys = info_keys.filter(folder => folder !== MailFolderType.DRAFT && folder !== MailFolderType.OUTBOX);\n      info_keys.map(key => {\n        const folder_info = state.info_by_folder.get(key);\n        if (folder_info) {\n          folder_info.is_dirty = true;\n        }\n        state.info_by_folder.set(key, folder_info);\n      });\n      const listOfIDs = action.payload.ids.toString().split(',');\n      if (\n        state.mailDetail &&\n        state.mailDetail.children &&\n        state.mailDetail.children.some(child => listOfIDs.includes(child.id.toString()))\n      ) {\n        state.mailDetail.children.forEach((child, index) => {\n          if (listOfIDs.includes(child.id.toString())) {\n            state.mailDetail.children[index] = {\n              ...state.mailDetail.children[index],\n              folder: action.payload.sourceFolder,\n            };\n          }\n        });\n      }\n      if (state.mailDetail && listOfIDs.includes(state.mailDetail.id.toString())) {\n        state.mailDetail = { ...state.mailDetail, folder: action.payload.sourceFolder };\n      }\n      return {\n        ...state,\n        mails,\n        noUnreadCountChange: true,\n      };\n    }\n\n    case MailActionTypes.READ_MAIL_SUCCESS: {\n      const listOfIDs = action.payload.ids.split(',');\n      let target_folder_mails = state.folders.get(state.currentFolder) || [];\n      target_folder_mails = target_folder_mails.filter(mail => {\n        if (listOfIDs.includes(mail.id.toString())) {\n          mail.read = action.payload.read;\n          if (state.currentFolder === MailFolderType.UNREAD && action.payload.read) {\n            return false;\n          }\n        }\n        return true;\n      });\n      state.mails = target_folder_mails;\n      state.folders.set(state.currentFolder, target_folder_mails);\n      // Add or Remove from Unread folder, if not existed on Unread folder, just set empty Array\n      if (state.currentFolder !== MailFolderType.UNREAD) {\n        let unread_mails = state.folders.get(MailFolderType.UNREAD) || [];\n        if (unread_mails.length > 0) {\n          const new_unread_mails = target_folder_mails.filter(mail => {\n            return !mail.read && listOfIDs.includes(mail.id.toString());\n          });\n\n          unread_mails = unread_mails.filter(mail => {\n            return !listOfIDs.includes(mail.id.toString());\n          });\n          unread_mails = sortByDueDate([...new_unread_mails, ...unread_mails]);\n          state.folders.set(MailFolderType.UNREAD, unread_mails);\n        } else {\n          state.folders.set(MailFolderType.UNREAD, []);\n        }\n      } else {\n        let folders = [...state.folders.keys()];\n        folders = folders.filter(\n          folder =>\n            folder !== MailFolderType.SENT &&\n            folder !== MailFolderType.TRASH &&\n            folder !== MailFolderType.DRAFT &&\n            folder !== MailFolderType.OUTBOX,\n        );\n        folders.map(folder => {\n          const folder_content = state.folders.get(folder) || [];\n          if (folder_content.length > 0) {\n            let need_to_update = false;\n            folder_content.map(mail => {\n              if (listOfIDs.includes(mail.id.toString())) {\n                mail.read = action.payload.read;\n                need_to_update = true;\n              }\n            });\n            if (need_to_update) {\n              state.folders.set(folder, folder_content);\n            }\n          }\n        });\n      }\n      if (state.mailDetail && listOfIDs.includes(state.mailDetail.id.toString())) {\n        state.mailDetail = { ...state.mailDetail, read: action.payload.read };\n      }\n      return { ...state, inProgress: false, noUnreadCountChange: true };\n    }\n\n    case MailActionTypes.STAR_MAIL_SUCCESS: {\n      const listOfIDs = action.payload.ids.split(',');\n      const currentFolder = action.payload.folder || state.currentFolder;\n      let target_folder_mails = state.folders.get(currentFolder) || [];\n      target_folder_mails = target_folder_mails.filter((mail, currentIndex) => {\n        if (listOfIDs.includes(mail.id.toString())) {\n          mail.starred = action.payload.starred;\n          if (currentFolder === MailFolderType.STARRED) {\n            return mail.starred;\n          }\n        }\n        return true;\n      });\n      state.mails = target_folder_mails;\n      state.folders.set(currentFolder, target_folder_mails);\n      // Add or Remove from Starred folder, if not existed on Starred folder, just set empty Array\n      if (currentFolder !== MailFolderType.STARRED) {\n        let starred_mails = state.folders.get(MailFolderType.STARRED) || [];\n        if (starred_mails.length > 0) {\n          const new_starred = target_folder_mails.filter(mail => {\n            return mail.starred && listOfIDs.includes(mail.id.toString());\n          });\n\n          starred_mails = starred_mails.filter(mail => {\n            return !listOfIDs.includes(mail.id.toString());\n          });\n          starred_mails = sortByDueDate([...new_starred, ...starred_mails]);\n          state.folders.set(MailFolderType.STARRED, starred_mails);\n        } else {\n          state.folders.set(MailFolderType.STARRED, []);\n        }\n      } else {\n        const folders = [...state.folders.keys()];\n        folders.map(folder => {\n          const folder_content = state.folders.get(folder) || [];\n          if (folder_content.length > 0) {\n            let need_to_update = false;\n            folder_content.map(mail => {\n              if (listOfIDs.includes(mail.id.toString())) {\n                mail.starred = action.payload.starred;\n                need_to_update = true;\n              }\n            });\n            if (need_to_update) {\n              state.folders.set(folder, folder_content);\n            }\n          }\n        });\n      }\n      if (state.mailDetail && listOfIDs.includes(state.mailDetail.id.toString())) {\n        state.mailDetail = { ...state.mailDetail, starred: action.payload.starred };\n      }\n      return { ...state, inProgress: false, noUnreadCountChange: true };\n    }\n\n    case MailActionTypes.DELETE_MAIL_FOR_ALL_SUCCESS:\n    case MailActionTypes.DELETE_MAIL_SUCCESS: {\n      const folder_keys = [MailFolderType.DRAFT, MailFolderType.TRASH, MailFolderType.SPAM];\n      folder_keys.map(key => {\n        const folder_info = state.info_by_folder.get(key);\n        if (folder_info) {\n          folder_info.is_dirty = true;\n        }\n        state.info_by_folder.set(key, folder_info);\n      });\n      if (action.payload.isMailDetailPage) {\n        return state;\n      }\n      if ((state.currentFolder === MailFolderType.DRAFT && action.payload.isDraft) || !action.payload.isDraft) {\n        const listOfIDs = action.payload.ids.split(',');\n        state.mails = state.mails.filter(mail => !listOfIDs.includes(mail.id.toString()));\n        if (\n          state.mailDetail &&\n          state.mailDetail.children &&\n          state.mailDetail.children.some(child => listOfIDs.includes(child.id.toString()))\n        ) {\n          state.mailDetail.children = state.mailDetail.children.filter(\n            child => !listOfIDs.includes(child.id.toString()),\n          );\n        }\n      }\n      return { ...state, inProgress: false, noUnreadCountChange: true };\n    }\n\n    case MailActionTypes.GET_MAIL_DETAIL_SUCCESS: {\n      const mail: Mail = action.payload;\n      if (mail) {\n        if (mail.is_subject_encrypted && state.decryptedSubjects[mail.id]) {\n          mail.is_subject_encrypted = false;\n          mail.subject = state.decryptedSubjects[mail.id];\n        }\n        mail.attachments = transformFilename(mail.attachments);\n        if (mail.children && mail.children.length > 0) {\n          mail.children.forEach(item => {\n            item.attachments = transformFilename(item.attachments);\n          });\n        }\n      }\n      return {\n        ...state,\n        mailDetail: action.payload,\n        noUnreadCountChange: true,\n      };\n    }\n\n    case MailActionTypes.GET_MAIL_DETAIL: {\n      return {\n        ...state,\n        mailDetail: null,\n        noUnreadCountChange: true,\n      };\n    }\n\n    case MailActionTypes.CLEAR_MAILS_ON_CONVERSATION_MODE_CHANGE: {\n      return {\n        ...state,\n        mails: [],\n        total_mail_count: 0,\n        info_by_folder: new Map(),\n        mailDetail: null,\n        folders: new Map(),\n        loaded: false,\n        unreadMailsCount: { inbox: 0 },\n        noUnreadCountChange: true,\n        canGetUnreadCount: true,\n      };\n    }\n\n    case MailActionTypes.CLEAR_MAILS_ON_LOGOUT: {\n      return {\n        mails: [],\n        total_mail_count: 0,\n        info_by_folder: new Map(),\n        mailDetail: null,\n        folders: new Map(),\n        loaded: false,\n        decryptedContents: {},\n        unreadMailsCount: { inbox: 0 },\n        noUnreadCountChange: true,\n        canGetUnreadCount: true,\n        decryptedSubjects: {},\n        customFolderMessageCount: [],\n      };\n    }\n\n    case MailActionTypes.CLEAR_MAIL_DETAIL: {\n      return {\n        ...state,\n        mailDetail: null,\n        noUnreadCountChange: true,\n      };\n    }\n\n    case MailActionTypes.UPDATE_MAIL_DETAIL_CHILDREN: {\n      if (state.mailDetail) {\n        if (action.payload.last_action_data.last_action) {\n          if (state.mailDetail.id === action.payload.last_action_data.last_action_parent_id) {\n            state.mailDetail.last_action = action.payload.last_action_data.last_action;\n          } else {\n            state.mailDetail.children = state.mailDetail.children.map(mail => {\n              if (mail.id === action.payload.last_action_data.last_action_parent_id) {\n                mail.last_action = action.payload.last_action_data.last_action;\n              }\n              return mail;\n            });\n          }\n        }\n        if (action.payload.parent === state.mailDetail.id) {\n          state.mailDetail.children = state.mailDetail.children || [];\n          state.mailDetail.children = state.mailDetail.children.filter(child => !(child.id === action.payload.id));\n          state.mailDetail.children = [...state.mailDetail.children, action.payload];\n        }\n      }\n      return { ...state, noUnreadCountChange: true };\n    }\n\n    case MailActionTypes.SET_CURRENT_FOLDER: {\n      const mails = state.folders.get(action.payload);\n      const total_mail_count = state.info_by_folder.get(action.payload)\n        ? state.info_by_folder.get(action.payload).total_mail_count\n        : 0;\n      return {\n        ...state,\n        mails: mails || [],\n        total_mail_count,\n        currentFolder: action.payload,\n      };\n    }\n\n    case MailActionTypes.UPDATE_PGP_DECRYPTED_CONTENT: {\n      if (action.payload.isDecryptingAllSubjects) {\n        if (!action.payload.isPGPInProgress) {\n          state.mails = state.mails.map(mail => {\n            if (mail.id === action.payload.id) {\n              mail.subject = action.payload.decryptedContent.subject;\n              mail.is_subject_encrypted = false;\n            }\n            return mail;\n          });\n          state.decryptedSubjects[action.payload.id] = action.payload.decryptedContent.subject;\n        }\n        return { ...state };\n      }\n      if (!state.decryptedContents[action.payload.id]) {\n        state.decryptedContents[action.payload.id] = {\n          id: action.payload.id,\n          content: action.payload.decryptedContent.content,\n          content_plain: action.payload.decryptedContent.content_plain,\n          subject: action.payload.decryptedContent.subject,\n          incomingHeaders: action.payload.decryptedContent.incomingHeaders,\n          inProgress: action.payload.isPGPInProgress,\n        };\n      } else {\n        state.decryptedContents[action.payload.id] = {\n          ...state.decryptedContents[action.payload.id],\n          content: action.payload.decryptedContent.content,\n          content_plain: action.payload.decryptedContent.content_plain,\n          subject: action.payload.decryptedContent.subject,\n          inProgress: action.payload.isPGPInProgress,\n          incomingHeaders: action.payload.decryptedContent.incomingHeaders,\n        };\n      }\n      return { ...state, decryptedContents: { ...state.decryptedContents }, noUnreadCountChange: true };\n    }\n\n    case MailActionTypes.UPDATE_CURRENT_FOLDER: {\n      let newEntry = true;\n      let target_folder_mails = state.folders.get(action.payload.folder) || [];\n      target_folder_mails.map((mail, index) => {\n        if (mail.id === action.payload.id || mail.id === action.payload.parent) {\n          if (mail.id === action.payload.id) {\n            target_folder_mails[index] = action.payload;\n          } else {\n            target_folder_mails[index].children = target_folder_mails[index].children\n              ? [...target_folder_mails[index].children, action.payload]\n              : [action.payload];\n            target_folder_mails[index].has_children = true;\n          }\n          newEntry = false;\n        }\n      });\n      if (target_folder_mails.length > 0 || state.currentFolder === action.payload.folder) {\n        if (newEntry) {\n          const mail = action.payload;\n          mail.receiver_list = mail.receiver_display.map((item: EmailDisplay) => item.name).join(', ');\n          mail.thread_count =\n            mail.children_count +\n            (action.payload.folder !== MailFolderType.TRASH ||\n            (action.payload.folder === MailFolderType.TRASH && mail.folder === MailFolderType.TRASH)\n              ? 1\n              : 0);\n\n          target_folder_mails = [mail, ...target_folder_mails];\n          const old_folder_info = state.info_by_folder.get(action.payload.folder);\n          old_folder_info.total_mail_count += 1;\n          state.info_by_folder.set(action.payload.folder, old_folder_info);\n        }\n        state.folders.set(action.payload.folder, target_folder_mails);\n        if (state.currentFolder === action.payload.folder) {\n          state.mails = target_folder_mails;\n          const folder_info = state.info_by_folder.get(action.payload.folder);\n          state.total_mail_count = folder_info.total_mail_count;\n        }\n      }\n      if (action.payload.folder === MailFolderType.SENT) {\n        // Remove the draft mails from store, so that it would fetch again when needed to list\n        state.folders.set(MailFolderType.DRAFT, []);\n      }\n\n      return { ...state, mails: [...state.mails], noUnreadCountChange: true };\n    }\n\n    case MailActionTypes.EMPTY_FOLDER: {\n      return { ...state, inProgress: true, noUnreadCountChange: true };\n    }\n\n    case MailActionTypes.EMPTY_FOLDER_SUCCESS: {\n      state.folders.set(action.payload.folder, []);\n      return { ...state, mails: [], inProgress: false };\n    }\n\n    case MailActionTypes.EMPTY_FOLDER_FAILURE: {\n      return { ...state, inProgress: false };\n    }\n\n    case MailActionTypes.MOVE_TAB: {\n      return { ...state, currentSettingsTab: action.payload };\n    }\n\n    case MailActionTypes.EMPTY_ONLY_FOLDER: {\n      state.folders.set(action.payload.folder, []);\n      return { ...state, inProgress: false };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n\nfunction transformFilename(attachments: Attachment[]) {\n  if (attachments && attachments.length > 0) {\n    attachments = attachments.map(attachment => {\n      if (!attachment.name) {\n        attachment.name = FilenamePipe.tranformToFilename(attachment.document);\n      }\n      return attachment;\n    });\n  }\n  return attachments;\n}\n\nfunction sortByDueDate(sortArray): any[] {\n  return sortArray.sort((previous: any, next: any) => {\n    const next_updated = next.updated || null;\n    const previous_updated = previous.updated || null;\n    return <any>new Date(next_updated) - <any>new Date(previous_updated);\n  });\n}\n\nfunction getTotalUnreadCount(data): number {\n  if (data) {\n    let total_count = 0;\n    Object.keys(data).map(key => {\n      if (\n        key !== MailFolderType.SENT &&\n        key !== MailFolderType.TRASH &&\n        key !== MailFolderType.DRAFT &&\n        key !== MailFolderType.OUTBOX &&\n        key !== MailFolderType.SPAM &&\n        key !== 'total_unread_count' &&\n        key !== MailFolderType.STARRED &&\n        key !== 'updateUnreadCount' &&\n        key !== 'outbox_dead_man_counter' &&\n        key !== 'outbox_delayed_delivery_counter' &&\n        key !== 'outbox_self_destruct_counter'\n      ) {\n        if (!isNaN(data[`${key}`])) {\n          total_count += data[`${key}`];\n        }\n      }\n    });\n\n    return total_count;\n  }\n  return 0;\n}\n","import { MailActions, MailActionTypes } from '../actions';\nimport { MailBoxesState } from '../datatypes';\nimport { Mailbox } from '../models/mail.model';\n\nexport function reducer(\n  state: MailBoxesState = {\n    mailboxes: [],\n    currentMailbox: null,\n    decryptKeyInProgress: false,\n    encryptionInProgress: false,\n  },\n  action: MailActions,\n): MailBoxesState {\n  switch (action.type) {\n    case MailActionTypes.GET_MAILBOXES: {\n      return {\n        ...state,\n        inProgress: true,\n      };\n    }\n    case MailActionTypes.GET_MAILBOXES_SUCCESS: {\n      return {\n        ...state,\n        mailboxes: action.payload.map((item, index) => {\n          item.sort_order = item.sort_order ? item.sort_order : index + 1;\n          return item;\n        }),\n        inProgress: false,\n        currentMailbox: action.payload.find((item: Mailbox) => item.is_enabled),\n      };\n    }\n\n    case MailActionTypes.SET_DECRYPT_INPROGRESS: {\n      return {\n        ...state,\n        decryptKeyInProgress: action.payload,\n      };\n    }\n\n    case MailActionTypes.SET_DECRYPTED_KEY: {\n      return {\n        ...state,\n        decryptKeyInProgress: false,\n        decryptedKey: action.payload.decryptedKey,\n      };\n    }\n\n    case MailActionTypes.SET_CURRENT_MAILBOX: {\n      return {\n        ...state,\n        currentMailbox: action.payload,\n      };\n    }\n\n    case MailActionTypes.MAILBOX_SETTINGS_UPDATE_SUCCESS: {\n      const updatedCurrentMailBox: Mailbox = action.payload;\n      updatedCurrentMailBox.inProgress = false;\n      let { mailboxes } = state;\n\n      mailboxes = mailboxes.map(mailbox => {\n        if (mailbox.id === updatedCurrentMailBox.id) {\n          return { ...updatedCurrentMailBox };\n        }\n        return mailbox;\n      });\n\n      if (updatedCurrentMailBox.id === state.currentMailbox.id) {\n        state.currentMailbox = { ...updatedCurrentMailBox };\n      }\n\n      return {\n        ...state,\n        mailboxes,\n        inProgress: false,\n      };\n    }\n\n    case MailActionTypes.MAILBOX_SETTINGS_UPDATE_FAILURE: {\n      return {\n        ...state,\n        mailboxes: state.mailboxes.map(mailbox => {\n          if (mailbox.id === action.payload.id) {\n            mailbox.inProgress = false;\n          }\n          return mailbox;\n        }),\n      };\n    }\n\n    case MailActionTypes.CREATE_MAILBOX: {\n      return { ...state, inProgress: true };\n    }\n\n    case MailActionTypes.CREATE_MAILBOX_SUCCESS: {\n      state.mailboxes = [...state.mailboxes, action.payload];\n      return { ...state, inProgress: false };\n    }\n\n    case MailActionTypes.CREATE_MAILBOX_FAILURE: {\n      return { ...state, inProgress: false };\n    }\n\n    case MailActionTypes.SET_DEFAULT_MAILBOX_SUCCESS: {\n      const updatedCurrentMailBox: Mailbox = action.payload;\n      const previousDefaultMailBox = state.mailboxes.find(mailbox => !!mailbox.is_default);\n      let { mailboxes } = state;\n      mailboxes = mailboxes.map(mailbox => {\n        if (mailbox.id === updatedCurrentMailBox.id) {\n          return { ...updatedCurrentMailBox };\n        }\n        if (mailbox.id === previousDefaultMailBox.id) {\n          return { ...mailbox, is_default: false };\n        }\n        return mailbox;\n      });\n\n      if (updatedCurrentMailBox.id === state.currentMailbox.id) {\n        state.currentMailbox = { ...updatedCurrentMailBox };\n      } else if (previousDefaultMailBox.id === state.currentMailbox.id) {\n        state.currentMailbox = { ...state.currentMailbox, is_default: false };\n      }\n\n      return {\n        ...state,\n        mailboxes,\n      };\n    }\n\n    case MailActionTypes.UPDATE_MAILBOX_ORDER: {\n      return { ...state, isUpdatingOrder: true };\n    }\n\n    case MailActionTypes.UPDATE_MAILBOX_ORDER_SUCCESS: {\n      return {\n        ...state,\n        mailboxes: action.payload.mailboxes,\n        currentMailbox: action.payload.mailboxes[0],\n        isUpdatingOrder: false,\n      };\n    }\n\n    case MailActionTypes.DELETE_MAILBOX_SUCCESS: {\n      return { ...state, mailboxes: state.mailboxes.filter(mailbox => mailbox.id !== action.payload.id) };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import { SearchActionAll, SearchActionTypes } from '../actions/search.action';\n\nexport interface SearchState {\n  searchText: string;\n}\n\nexport const initialState: SearchState = { searchText: '' };\n\nexport function reducer(state = initialState, action: SearchActionAll): SearchState {\n  switch (action.type) {\n    case SearchActionTypes.CLEAR_SEARCH: {\n      return { ...state };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import { SecureMessageActions, SecureMessageActionTypes } from '../actions';\nimport { SecureMessageState } from '../datatypes';\n\nexport function reducer(\n  state: SecureMessageState = {\n    message: null,\n    inProgress: false,\n  },\n  action: SecureMessageActions,\n): SecureMessageState {\n  switch (action.type) {\n    case SecureMessageActionTypes.GET_MESSAGE_SUCCESS: {\n      return { ...state, message: action.payload, inProgress: false, errorMessage: null };\n    }\n    case SecureMessageActionTypes.GET_MESSAGE_FAILURE: {\n      return { ...state, message: null, inProgress: false, errorMessage: 'Unable to load message.' };\n    }\n    case SecureMessageActionTypes.UPDATE_SECURE_MESSAGE_KEY: {\n      return {\n        ...state,\n        decryptedKey: action.payload.decryptedKey,\n        isKeyDecryptionInProgress: action.payload.inProgress,\n        errorMessage: action.payload.error ? 'Unable to decrypt message. Please try again.' : null,\n      };\n    }\n    case SecureMessageActionTypes.UPDATE_SECURE_MESSAGE_CONTENT: {\n      return {\n        ...state,\n        decryptedContent: action.payload.decryptedContent,\n        isContentDecryptionInProgress: action.payload.inProgress,\n      };\n    }\n    case SecureMessageActionTypes.UPDATE_SECURE_MESSAGE_ENCRYPTED_CONTENT: {\n      return {\n        ...state,\n        isEncryptionInProgress: action.payload.inProgress,\n        encryptedContent: action.payload.encryptedContent,\n      };\n    }\n    case SecureMessageActionTypes.SEND_SECURE_MESSAGE_REPLY: {\n      return { ...state, inProgress: true, errorMessage: null };\n    }\n    case SecureMessageActionTypes.SEND_SECURE_MESSAGE_REPLY_SUCCESS: {\n      return { ...state, inProgress: false, errorMessage: null };\n    }\n    case SecureMessageActionTypes.SEND_SECURE_MESSAGE_REPLY_FAILURE: {\n      return { ...state, inProgress: false, errorMessage: 'Unable to send secure reply.' };\n    }\n    case SecureMessageActionTypes.GET_SECURE_MESSAGE_USERS_KEYS: {\n      return { ...state, inProgress: true, getUserKeyInProgress: true };\n    }\n    case SecureMessageActionTypes.GET_SECURE_MESSAGE_USERS_KEYS_SUCCESS: {\n      return { ...state, inProgress: false, getUserKeyInProgress: false, usersKeys: action.payload };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import { TimezonesState } from '../datatypes';\nimport { TimezoneActionAll, TimezoneActionTypes } from '../actions/timezone.action';\n\nexport function reducer(state = { timezones: [] }, action: TimezoneActionAll): TimezonesState {\n  switch (action.type) {\n    case TimezoneActionTypes.TIMEZONE_GET_SUCCESS: {\n      return {\n        ...state,\n        timezones: action.payload,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import { UsersActionAll, UsersActionTypes } from '../actions';\nimport { Domain, PromoCode, Settings, UserState } from '../datatypes';\n\nexport const initialState: UserState = {\n  username: null,\n  id: null,\n  isPrime: false,\n  whiteList: [],\n  blackList: [],\n  settings: new Settings(),\n  membership: {},\n  mailboxes: [],\n  payment_transaction: {},\n  customFolders: [],\n  filters: [],\n  customDomains: [],\n  currentCreationStep: 0,\n  invoices: [],\n  promoCode: new PromoCode(),\n  inviteCodes: [],\n  notifications: null,\n  cards: [],\n};\n\nexport function reducer(state = initialState, action: UsersActionAll): UserState {\n  switch (action.type) {\n    case UsersActionTypes.ACCOUNTS_READ_SUCCESS: {\n      return { ...state, id: action.payload.id, username: action.payload.username };\n    }\n    case UsersActionTypes.WHITELIST_READ_SUCCESS: {\n      return { ...state, whiteList: action.payload };\n    }\n\n    case UsersActionTypes.CARD_READ_SUCCESS: {\n      const cardsPayload = action.payload.cards;\n      const cards = [];\n      cardsPayload.forEach(card => {\n        cards.push(card);\n      });\n      return {\n        ...state,\n        cards,\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.CARD_ADD_SUCCESS: {\n      return {\n        ...state,\n        cards: [...state.cards, action.payload],\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.CARD_ADD_ERROR: {\n      return {\n        ...state,\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.CARD_DELETE_SUCCESS: {\n      let { cards } = state;\n      cards = cards.filter(card => action.payload !== card.id);\n      return {\n        ...state,\n        cards,\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.CARD_MAKE_PRIMARY_SUCCESS: {\n      const { cards } = state;\n      cards.forEach(card => (card.is_primary = action.payload === card.id));\n      return {\n        ...state,\n        cards,\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.CARD_ADD:\n    case UsersActionTypes.CARD_DELETE:\n    case UsersActionTypes.CARD_MAKE_PRIMARY: {\n      return {\n        ...state,\n        inProgress: true,\n      };\n    }\n\n    case UsersActionTypes.WHITELIST_ADD:\n    case UsersActionTypes.BLACKLIST_ADD:\n    case UsersActionTypes.WHITELIST_DELETE:\n    case UsersActionTypes.BLACKLIST_DELETE: {\n      return { ...state, inProgress: true, isError: false, error: '' };\n    }\n\n    case UsersActionTypes.WHITELIST_ADD_SUCCESS: {\n      if (!state.whiteList) {\n        state.whiteList = [];\n      }\n      return {\n        ...state,\n        whiteList: state.whiteList.concat(action.payload),\n        inProgress: false,\n        isError: false,\n        error: '',\n      };\n    }\n\n    case UsersActionTypes.BLACKLIST_ADD_SUCCESS: {\n      if (!state.blackList) {\n        state.blackList = [];\n      }\n      return {\n        ...state,\n        blackList: state.blackList.concat(action.payload),\n        inProgress: false,\n        isError: false,\n      };\n    }\n\n    case UsersActionTypes.WHITELIST_DELETE_SUCCESS: {\n      state.whiteList.splice(state.whiteList.indexOf(state.whiteList.find(item => item.id === action.payload)), 1);\n      return {\n        ...state,\n        inProgress: false,\n        isError: false,\n        error: '',\n      };\n    }\n\n    case UsersActionTypes.BLACKLIST_DELETE_SUCCESS: {\n      state.blackList.splice(state.blackList.indexOf(state.blackList.find(item => item.id === action.payload)), 1);\n      return {\n        ...state,\n        inProgress: false,\n        isError: false,\n        error: '',\n      };\n    }\n\n    case UsersActionTypes.WHITELIST_ADD_ERROR:\n    case UsersActionTypes.BLACKLIST_ADD_ERROR: {\n      return {\n        ...state,\n        inProgress: false,\n        isError: true,\n        error: action.payload.non_field_errors ? action.payload.non_field_errors[0] : '',\n      };\n    }\n\n    case UsersActionTypes.BLACKLIST_READ_SUCCESS: {\n      return { ...state, blackList: action.payload };\n    }\n\n    case UsersActionTypes.ACCOUNT_DETAILS_GET: {\n      return { ...state, isLoaded: false };\n    }\n    case UsersActionTypes.ACCOUNT_DETAILS_GET_SUCCESS: {\n      return {\n        ...state,\n        id: action.payload.id,\n        username: action.payload.username,\n        isPrime: action.payload.is_prime,\n        joinedDate: action.payload.joined_date,\n        settings: action.payload.settings,\n        mailboxes: action.payload.mailboxes.map((item, index) => {\n          item.sort_order = item.sort_order || index + 1;\n          return item;\n        }),\n        payment_transaction: action.payload.payment_transaction ? action.payload.payment_transaction : {},\n        customFolders: action.payload.custom_folders.map((item, index) => {\n          item.sort_order = item.sort_order || index + 1;\n          return item;\n        }),\n        autoresponder: action.payload.autoresponder,\n        isLoaded: true,\n        has_notification: action.payload.has_notification,\n      };\n    }\n\n    case UsersActionTypes.SETTINGS_UPDATE_SUCCESS: {\n      return {\n        ...state,\n        settings: action.payload,\n      };\n    }\n\n    case UsersActionTypes.SETTINGS_UPDATE_USED_STORAGE: {\n      return {\n        ...state,\n        settings: { ...state.settings, ...action.payload },\n      };\n    }\n\n    case UsersActionTypes.MEMBERSHIP_UPDATE: {\n      return { ...state, membership: action.payload };\n    }\n\n    case UsersActionTypes.CREATE_FOLDER: {\n      return {\n        ...state,\n        inProgress: true,\n      };\n    }\n\n    case UsersActionTypes.CREATE_FOLDER_SUCCESS: {\n      let index = -1;\n      action.payload.sort_order = action.payload.sort_order || state.customDomains.length;\n      state.customFolders.forEach((folder, i) => {\n        if (folder.id === action.payload.id) {\n          index = i;\n        }\n      });\n      if (index > -1) {\n        state.customFolders[index] = action.payload;\n      } else {\n        state.customFolders = [...state.customFolders, action.payload];\n      }\n      return {\n        ...state,\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.CREATE_FOLDER_FAILURE: {\n      return {\n        ...state,\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.DELETE_FOLDER: {\n      return {\n        ...state,\n        inProgress: true,\n      };\n    }\n\n    case UsersActionTypes.DELETE_FOLDER_SUCCESS: {\n      state.customFolders = state.customFolders.filter(folder => folder.id !== action.payload.id);\n      return {\n        ...state,\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.UPDATE_FOLDER_ORDER: {\n      return {\n        ...state,\n        inProgress: true,\n      };\n    }\n\n    case UsersActionTypes.UPDATE_FOLDER_ORDER_SUCCESS: {\n      return {\n        ...state,\n        inProgress: false,\n        customFolders: action.payload.folders,\n      };\n    }\n\n    case UsersActionTypes.GET_FILTERS_SUCCESS: {\n      return { ...state, filters: action.payload };\n    }\n\n    case UsersActionTypes.CREATE_FILTER:\n    case UsersActionTypes.UPDATE_FILTER:\n    case UsersActionTypes.DELETE_FILTER: {\n      return { ...state, inProgress: true, filtersError: null };\n    }\n\n    case UsersActionTypes.CREATE_FILTER_SUCCESS: {\n      state.filters = [...state.filters, action.payload];\n      return { ...state, inProgress: false, filtersError: null };\n    }\n\n    case UsersActionTypes.UPDATE_FILTER_SUCCESS: {\n      state.filters = state.filters.map(filter => {\n        if (filter.id === action.payload.id) {\n          return { ...action.payload };\n        }\n        return filter;\n      });\n      return { ...state, inProgress: false, filtersError: null };\n    }\n\n    case UsersActionTypes.DELETE_FILTER_SUCCESS: {\n      state.filters = state.filters.filter(filter => filter.id !== action.payload.id);\n      return { ...state, inProgress: false, filtersError: null };\n    }\n\n    case UsersActionTypes.CREATE_FILTER_FAILURE:\n    case UsersActionTypes.UPDATE_FILTER_FAILURE:\n    case UsersActionTypes.DELETE_FILTER_FAILURE: {\n      const error = Object.keys(action.payload)\n        .map(key => `${key}: ${action.payload[key]}`)\n        .join(', ');\n      return { ...state, inProgress: false, filtersError: error };\n    }\n\n    case UsersActionTypes.GET_DOMAINS: {\n      return {\n        ...state,\n        inProgress: true,\n        isError: false,\n        customDomainsLoaded: false,\n        newCustomDomainError: null,\n      };\n    }\n    case UsersActionTypes.GET_DOMAINS_SUCCESS: {\n      return {\n        ...state,\n        customDomains: action.payload,\n        customDomainsLoaded: true,\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.READ_DOMAIN:\n    case UsersActionTypes.DELETE_DOMAIN:\n    case UsersActionTypes.VERIFY_DOMAIN: {\n      return {\n        ...state,\n        inProgress: true,\n        isError: false,\n        error: '',\n        newCustomDomainError: null,\n        currentCreationStep: action.payload.currentStep,\n      };\n    }\n\n    case UsersActionTypes.CREATE_DOMAIN: {\n      return {\n        ...state,\n        inProgress: true,\n        isError: false,\n        error: '',\n        newCustomDomainError: null,\n        currentCreationStep: 0,\n      };\n    }\n\n    case UsersActionTypes.UPDATE_DOMAIN: {\n      return {\n        ...state,\n        inProgress: true,\n      };\n    }\n\n    case UsersActionTypes.UPDATE_DOMAIN_SUCCESS:\n    case UsersActionTypes.UPDATE_DOMAIN_FAILURE: {\n      return {\n        ...state,\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.READ_DOMAIN_SUCCESS: {\n      return {\n        ...state,\n        inProgress: false,\n        isError: false,\n        newCustomDomain: action.payload,\n      };\n    }\n\n    case UsersActionTypes.VERIFY_DOMAIN_SUCCESS: {\n      const domain: Domain = action.payload.res;\n      let isError = false;\n      let { step } = action.payload;\n      if (domain.is_domain_verified) {\n        if (action.payload.gotoNextStep) {\n          step++;\n        }\n      } else {\n        isError = true;\n      }\n      return {\n        ...state,\n        customDomains: action.payload.reverify\n          ? state.customDomains.map(item => {\n              if (item.id === domain.id) {\n                return domain;\n              }\n              return item;\n            })\n          : state.customDomains,\n        isError,\n        inProgress: false,\n        newCustomDomain: action.payload.res,\n        currentCreationStep: step,\n      };\n    }\n\n    case UsersActionTypes.CREATE_DOMAIN_SUCCESS: {\n      state.customDomains = [...state.customDomains, action.payload];\n      return {\n        ...state,\n        inProgress: false,\n        isError: false,\n        newCustomDomain: action.payload,\n        currentCreationStep: 1,\n      };\n    }\n\n    case UsersActionTypes.CREATE_DOMAIN_FAILURE: {\n      return {\n        ...state,\n        inProgress: false,\n        isError: true,\n        newCustomDomainError: action.payload,\n        currentCreationStep: 0,\n      };\n    }\n\n    case UsersActionTypes.READ_DOMAIN_FAILURE:\n    case UsersActionTypes.VERIFY_DOMAIN_FAILURE: {\n      return {\n        ...state,\n        inProgress: false,\n        isError: true,\n        error: Object.keys(action.payload.err)\n          .map(key => `${key}: ${action.payload.err[key]}`)\n          .join(', '),\n        currentCreationStep: action.payload.step,\n      };\n    }\n\n    case UsersActionTypes.DELETE_DOMAIN_SUCCESS: {\n      state.customDomains = state.customDomains.filter(domain => domain.id !== action.payload);\n      return {\n        ...state,\n        inProgress: false,\n      };\n    }\n\n    case UsersActionTypes.DELETE_DOMAIN_FAILURE: {\n      return {\n        ...state,\n        inProgress: false,\n        isError: true,\n        error: action.payload.detail,\n      };\n    }\n\n    case UsersActionTypes.SEND_EMAIL_FORWARDING_CODE: {\n      return { ...state, inProgress: true, emailForwardingErrorMessage: null, isForwardingVerificationCodeSent: false };\n    }\n\n    case UsersActionTypes.SEND_EMAIL_FORWARDING_CODE_SUCCESS: {\n      return { ...state, inProgress: false, emailForwardingErrorMessage: null, isForwardingVerificationCodeSent: true };\n    }\n\n    case UsersActionTypes.SEND_EMAIL_FORWARDING_CODE_FAILURE:\n    case UsersActionTypes.VERIFY_EMAIL_FORWARDING_CODE_FAILURE: {\n      return { ...state, inProgress: false, emailForwardingErrorMessage: action.payload };\n    }\n\n    case UsersActionTypes.VERIFY_EMAIL_FORWARDING_CODE: {\n      return { ...state, inProgress: true, emailForwardingErrorMessage: null, isForwardingVerificationCodeSent: true };\n    }\n\n    case UsersActionTypes.VERIFY_EMAIL_FORWARDING_CODE_SUCCESS: {\n      return { ...state, inProgress: false, emailForwardingErrorMessage: null };\n    }\n\n    case UsersActionTypes.SAVE_AUTORESPONDER: {\n      return { ...state, inProgress: true, autoresponder: action.payload, autoResponderErrorMessage: null };\n    }\n\n    case UsersActionTypes.SAVE_AUTORESPONDER_SUCCESS: {\n      return { ...state, inProgress: false, autoresponder: action.payload, autoResponderErrorMessage: null };\n    }\n\n    case UsersActionTypes.SAVE_AUTORESPONDER_FAILURE: {\n      state.autoresponder.autoresponder_active = false;\n      return { ...state, inProgress: false, autoResponderErrorMessage: action.payload };\n    }\n\n    case UsersActionTypes.GET_INVOICES: {\n      return { ...state, invoices: [], isInvoiceLoaded: false };\n    }\n\n    case UsersActionTypes.GET_INVOICES_SUCCESS: {\n      return { ...state, invoices: action.payload, isInvoiceLoaded: true };\n    }\n\n    case UsersActionTypes.GET_UPGRADE_AMOUNT: {\n      return { ...state, upgradeAmount: null };\n    }\n\n    case UsersActionTypes.GET_UPGRADE_AMOUNT_SUCCESS: {\n      return { ...state, upgradeAmount: action.payload.prorated_price / 100 };\n    }\n\n    case UsersActionTypes.VALIDATE_PROMO_CODE: {\n      return { ...state, promoCode: { ...state.promoCode, new_amount: null, is_valid: null, inProgress: true } };\n    }\n\n    case UsersActionTypes.VALIDATE_PROMO_CODE_SUCCESS: {\n      const promoCode: PromoCode = { ...state.promoCode, ...action.payload, inProgress: false };\n      promoCode.new_amount /= 100;\n      promoCode.discount_amount /= 100;\n      return { ...state, promoCode };\n    }\n\n    case UsersActionTypes.CLEAR_PROMO_CODE: {\n      return { ...state, promoCode: new PromoCode() };\n    }\n\n    case UsersActionTypes.INVITE_CODE_GET: {\n      return { ...state, inProgress: true };\n    }\n\n    case UsersActionTypes.INVITE_CODE_GET_SUCCESS: {\n      return { ...state, inProgress: false, inviteCodes: action.payload };\n    }\n\n    case UsersActionTypes.INVITE_CODE_GENERATE: {\n      return { ...state, inProgress: true };\n    }\n\n    case UsersActionTypes.INVITE_CODE_GENERATE_SUCCESS: {\n      return { ...state, inProgress: false, inviteCodes: [...state.inviteCodes, action.payload] };\n    }\n\n    case UsersActionTypes.INVITE_CODE_GENERATE_FAILURE: {\n      return { ...state, inProgress: false };\n    }\n\n    case UsersActionTypes.GET_NOTIFICATION_SUCCESS: {\n      return { ...state, notifications: action.payload };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import { ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport * as fromRouter from '@ngrx/router-store';\nimport { Injectable } from '@angular/core';\n\nimport { RouterStateUrl } from '../datatypes';\n\n@Injectable()\nexport class CustomSerializer implements fromRouter.RouterStateSerializer<RouterStateUrl> {\n  serialize(routerState: RouterStateSnapshot): RouterStateUrl {\n    const { url } = routerState;\n    const { queryParams } = routerState.root;\n\n    let state: ActivatedRouteSnapshot = routerState.root;\n    while (state.firstChild) {\n      state = state.firstChild;\n    }\n    const { params } = state;\n\n    return { url, queryParams, params, state };\n  }\n}\n","import { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\nimport { Injectable } from '@angular/core';\n\nimport { UsersService } from './users.service';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  constructor(private usersService: UsersService, private router: Router) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    if (this.usersService.getUserKey()) {\n      if (state.url === '/signin') {\n        this.router.navigateByUrl('/mail');\n      }\n      return true;\n    }\n    if (state.url === '/signin') {\n      return true;\n    }\n    if (state.url.includes('/mail/')) {\n      localStorage.setItem('nextPage', state.url);\n    }\n    this.router.navigateByUrl('/signin');\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { apiUrl } from '../../shared/config';\n\n@Injectable()\nexport class BitcoinService {\n  constructor(private http: HttpClient) {}\n\n  createNewWallet(data: any) {\n    return this.http.post<any>(`${apiUrl}btc-wallet/create/`, data);\n  }\n\n  checkTransaction(data: any) {\n    return this.http.get(\n      `${apiUrl}btc-wallet/check/?address=${data.from_address}${\n        data.promo_code ? `&promo_code=${data.promo_code}` : ''\n      }`,\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\n\nexport interface Breakpoint {\n  min?: number;\n  max?: number;\n}\n\nexport interface BreakpointConfig {\n  [name: string]: Breakpoint;\n}\n\nexport const defaultBreakpoints: BreakpointConfig = {\n  xs: { max: 768 },\n  sm: { min: 768, max: 992 },\n  md: { min: 992, max: 1200 },\n  lg: { min: 1200 },\n};\n\n@Injectable()\nexport class BreakpointsService {\n  private breakpoints: BreakpointConfig = defaultBreakpoints;\n\n  public getBreakpoint(): string {\n    const currentSize: number = window.innerWidth;\n    const keys = Object.keys(this.breakpoints);\n    for (const key of keys) {\n      const value = this.breakpoints[key];\n      const min = value.min || 0;\n      const max = value.max || Number.MAX_SAFE_INTEGER;\n\n      if (currentSize >= min && currentSize < max) {\n        return key;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * @Description Returns true if the current layout is `sm`(small)\n   * @returns {boolean}\n   */\n  public isSM() {\n    return this.getBreakpoint() === 'sm';\n  }\n\n  /**\n   * @Description Returns true if the current layout is `xs`(extra small)\n   * @returns {boolean}\n   */\n  public isXS() {\n    return this.getBreakpoint() === 'xs';\n  }\n\n  /**\n   * @Description Returns true if the current layout is `md`(medium)\n   * @returns {boolean}\n   */\n  public isMD() {\n    return this.getBreakpoint() === 'md';\n  }\n\n  /**\n   * @Description Returns true if the current layout is `lg`(large)\n   * @returns {boolean}\n   */\n  public isLG() {\n    return this.getBreakpoint() === 'lg';\n  }\n}\n","import { ComponentFactoryResolver, ComponentRef, Injectable, ViewContainerRef } from '@angular/core';\nimport { HttpResponse } from '@angular/common/http';\nimport { finalize, take } from 'rxjs/operators';\nimport { forkJoin, Observable } from 'rxjs';\nimport { Store } from '@ngrx/store';\n\nimport { ComposeMailDialogComponent } from '../../mail/mail-sidebar/compose-mail-dialog/compose-mail-dialog.component';\nimport { AppState, ComposeMailState, Draft, DraftState, SecureContent, UserState } from '../datatypes';\nimport { ClearDraft, CreateMail, SendMail, SnackPush } from '../actions';\n\nimport { MailService } from './mail.service';\nimport { OpenPgpService } from './openpgp.service';\n\n@Injectable()\nexport class ComposeMailService {\n  private drafts: DraftState;\n\n  private composeMailContainer: ViewContainerRef;\n\n  private componentRefList: Array<ComponentRef<ComposeMailDialogComponent>> = [];\n\n  private userState: UserState;\n\n  minimizedWidth = 192;\n\n  originWidth = 640;\n\n  windowWidth: number;\n\n  maxComposeCount = 5;\n\n  composesWidth: number;\n\n  countCommonCompose: number;\n\n  constructor(\n    private store: Store<AppState>,\n    private openPgpService: OpenPgpService,\n    private mailService: MailService,\n    private componentFactoryResolver: ComponentFactoryResolver,\n  ) {\n    this.store\n      .select((state: AppState) => state.composeMail)\n      .subscribe((response: ComposeMailState) => {\n        Object.keys(response.drafts).forEach(key => {\n          const draftMail: Draft = response.drafts[key];\n          if (draftMail.draft) {\n            if (\n              draftMail.shouldSave &&\n              this.drafts[key] &&\n              this.drafts[key].isPGPInProgress &&\n              !draftMail.isPGPInProgress\n            ) {\n              this.setEncryptedContent(draftMail);\n              this.store.dispatch(new CreateMail({ ...draftMail }));\n            } else if (draftMail.shouldSend && this.drafts[key]) {\n              if (\n                (this.drafts[key].isPGPInProgress &&\n                  !draftMail.isPGPInProgress &&\n                  !draftMail.isProcessingAttachments) ||\n                (this.drafts[key].isProcessingAttachments &&\n                  !draftMail.isProcessingAttachments &&\n                  !draftMail.isPGPInProgress)\n              ) {\n                this.setEncryptedContent(draftMail);\n                if (!draftMail.isSshInProgress) {\n                  if (!draftMail.isSaving) {\n                    this.store.dispatch(new SendMail({ ...draftMail }));\n                  } else {\n                    this.store.dispatch(\n                      new SnackPush({\n                        message: 'Failed to send email, please try again. Email has been saved in draft.',\n                      }),\n                    );\n                  }\n                }\n              } else if (this.drafts[key].isSshInProgress && !draftMail.isSshInProgress) {\n                if (!draftMail.getUserKeyInProgress) {\n                  let keys = [];\n                  if (draftMail.usersKeys) {\n                    keys = draftMail.usersKeys.keys.filter(item => item.is_enabled).map(item => item.public_key);\n                  }\n                  keys.push(draftMail.draft.encryption.public_key);\n                  draftMail.attachments.forEach(attachment => {\n                    this.openPgpService.encryptAttachment(\n                      draftMail.draft.mailbox,\n                      attachment,\n                      keys,\n                    );\n                  });\n                  this.openPgpService.encrypt(\n                    draftMail.draft.mailbox,\n                    draftMail.id,\n                    new SecureContent(draftMail.draft),\n                    keys,\n                  );\n                }\n              } else if (this.drafts[key].getUserKeyInProgress && !draftMail.getUserKeyInProgress) {\n                if (!draftMail.isSshInProgress) {\n                  let publicKeys = [];\n                  let hasSshEncryption = false;\n\n                  if (draftMail.draft.encryption && draftMail.draft.encryption.public_key) {\n                    hasSshEncryption = true;\n                    publicKeys.push(draftMail.draft.encryption.public_key);\n                  }\n                  if (draftMail.usersKeys.encrypt || hasSshEncryption) {\n                    draftMail.draft.is_encrypted = true;\n                    publicKeys = [\n                      ...publicKeys,\n                      ...draftMail.usersKeys.keys.filter(item => item.is_enabled).map(item => item.public_key),\n                    ];\n                  }\n\n                  if (publicKeys.length > 0 && this.userState.settings.is_attachments_encrypted) {\n                    draftMail.attachments.forEach(attachment => {\n                      this.openPgpService.encryptAttachment(\n                        draftMail.draft.mailbox,\n                        attachment,\n                        publicKeys,\n                      );\n                    });\n                    this.openPgpService.encrypt(\n                      draftMail.draft.mailbox,\n                      draftMail.id,\n                      new SecureContent(draftMail.draft),\n                      publicKeys,\n                    );\n                  } else if (!draftMail.isSaving) {\n                    const encryptedAttachments = draftMail.attachments.filter(attachment => !!attachment.is_encrypted);\n                    if (encryptedAttachments.length > 0) {\n                      forkJoin(\n                        ...encryptedAttachments.map(attachment => {\n                          attachment.is_encrypted = false;\n                          attachment.document = attachment.decryptedDocument;\n                          return Observable.create(observer => {\n                            this.mailService\n                              .uploadFile(attachment)\n                              .pipe(finalize(() => observer.complete()))\n                              .subscribe(\n                                event => {\n                                  if (event instanceof HttpResponse) {\n                                    observer.next(event.body);\n                                  }\n                                },\n                                error => observer.error(error),\n                              );\n                          });\n                        }),\n                      )\n                        .pipe(take(1))\n                        .subscribe(\n                          responses => {\n                            if (publicKeys.length === 0) {\n                              this.store.dispatch(new SendMail({ ...draftMail }));\n                            } else {\n                              this.openPgpService.encrypt(\n                                draftMail.draft.mailbox,\n                                draftMail.id,\n                                new SecureContent(draftMail.draft),\n                                publicKeys,\n                              );\n                            }\n                          },\n                          error =>\n                            this.store.dispatch(\n                              new SnackPush({\n                                message: 'Failed to send email, please try again. Email has been saved in draft.',\n                              }),\n                            ),\n                        );\n                    } else if (publicKeys.length === 0) {\n                      this.store.dispatch(new SendMail({ ...draftMail }));\n                    } else {\n                      this.openPgpService.encrypt(\n                        draftMail.draft.mailbox,\n                        draftMail.id,\n                        new SecureContent(draftMail.draft),\n                        publicKeys,\n                      );\n                    }\n                  } else {\n                    this.store.dispatch(\n                      new SnackPush({\n                        message: 'Failed to send email, please try again. Email has been saved in draft.',\n                      }),\n                    );\n                  }\n                }\n              }\n            }\n          }\n          if (draftMail.isClosed && !draftMail.shouldSend && !draftMail.shouldSave && !draftMail.inProgress) {\n            this.store.dispatch(new ClearDraft(draftMail));\n          }\n        });\n\n        this.drafts = { ...response.drafts };\n      });\n\n    this.store\n      .select((state: AppState) => state.user)\n      .subscribe((user: UserState) => {\n        this.userState = user;\n      });\n  }\n\n  private setEncryptedContent(draftMail: Draft) {\n    draftMail.draft.content = draftMail.encryptedContent.content;\n    if (this.userState.settings && this.userState.settings.is_subject_encrypted) {\n      draftMail.draft.subject = draftMail.encryptedContent.subject;\n    }\n    if (draftMail.draft.encryption && draftMail.draft.encryption.public_key) {\n      draftMail.draft.is_subject_encrypted = this.userState.settings.is_subject_encrypted;\n      draftMail.draft.is_encrypted = true;\n    }\n  }\n\n  initComposeMailContainer(container: ViewContainerRef) {\n    this.composeMailContainer = container;\n    this.componentRefList = [];\n  }\n\n  getWindowWidth(width: any = {}) {\n    // get current window's width\n    this.windowWidth = width > 768 && width < 999 ? width - 68 : width;\n    if (this.windowWidth > this.originWidth) {\n      this.countCommonCompose =\n        Math.trunc((this.windowWidth - this.originWidth) / this.minimizedWidth) + 1 > this.maxComposeCount\n          ? this.maxComposeCount\n          : Math.trunc((this.windowWidth - this.originWidth) / this.minimizedWidth) + 1;\n    } else {\n      this.countCommonCompose = 0;\n    }\n    let composesWidth = 0;\n    if (this.componentRefList.length > 0) {\n      for (let i = this.componentRefList.length - 1; i > -1; i--) {\n        composesWidth += this.componentRefList[i].instance.isMinimized ? this.minimizedWidth : this.originWidth;\n        if (composesWidth > this.windowWidth) {\n          if (!this.componentRefList[i].instance.isMinimized) {\n            this.componentRefList[i].instance.isComposeVisible = true;\n            this.componentRefList[i + 1].instance.isComposeVisible = false;\n          } else {\n            this.componentRefList[i].instance.isComposeVisible = false;\n          }\n          break;\n        } else {\n          this.componentRefList[i].instance.isComposeVisible = true;\n        }\n      }\n    }\n  }\n\n  getComposesWidth() {\n    // get entire width of opened Compose windows\n    let temporaryWidth = 0;\n    this.componentRefList.forEach(componentReference => {\n      if (componentReference.instance.isComposeVisible) {\n        temporaryWidth += componentReference.instance.isMinimized ? this.minimizedWidth : this.originWidth;\n      }\n    });\n    this.composesWidth = temporaryWidth;\n  }\n\n  openComposeMailDialog(inputData: any = {}) {\n    if (this.userState && this.componentRefList.length < this.maxComposeCount) {\n      this.componentRefList.forEach(componentReference => {\n        componentReference.instance.isMinimized = true;\n      });\n\n      if (inputData.draft) {\n        const oldComponentReference = this.componentRefList.find(componentReference => {\n          return (\n            componentReference.instance.composeMail.draftMail &&\n            componentReference.instance.composeMail.draftMail.id === inputData.draft.id\n          );\n        });\n        if (oldComponentReference) {\n          oldComponentReference.instance.isMinimized = false;\n          return;\n        }\n      }\n      const factory = this.componentFactoryResolver.resolveComponentFactory(ComposeMailDialogComponent);\n      const newComponentReference: ComponentRef<ComposeMailDialogComponent> = this.composeMailContainer.createComponent(\n        factory,\n      );\n      this.componentRefList.push(newComponentReference);\n      Object.keys(inputData).forEach(key => {\n        newComponentReference.instance[key] = inputData[key];\n      });\n      newComponentReference.instance.isComposeVisible = true;\n      newComponentReference.instance.isMinimized = false;\n      this.getComposesWidth();\n      if (this.windowWidth < this.composesWidth) {\n        for (const i in this.componentRefList) {\n          if (this.componentRefList[i].instance.isComposeVisible) {\n            this.componentRefList[i].instance.isComposeVisible = false;\n            break;\n          }\n        }\n      }\n      newComponentReference.instance.hide.subscribe(event => {\n        const index = this.componentRefList.indexOf(newComponentReference);\n        this.destroyComponent(newComponentReference, index);\n      });\n      newComponentReference.instance.minimize.subscribe(isMinimized => {\n        if (!isMinimized) {\n          // when Compose window is maximized\n          this.componentRefList.forEach(componentReference => {\n            componentReference.instance.isMinimized = true;\n            componentReference.instance.isFullScreen = false;\n            componentReference.instance.isComposeVisible = true;\n          });\n          newComponentReference.instance.isMinimized = false;\n          if (this.windowWidth < this.minimizedWidth * (this.componentRefList.length - 1) + this.originWidth) {\n            let temporaryCount = 0;\n            for (let i = 0; i < this.componentRefList.length; i++) {\n              if (temporaryCount === this.componentRefList.length - this.countCommonCompose) {\n                break;\n              }\n              if (this.componentRefList[i].instance.isMinimized) {\n                temporaryCount += 1;\n                this.componentRefList[i].instance.isComposeVisible = false;\n              }\n            }\n          }\n        } else {\n          // when Compose window is minimized\n          this.componentRefList.forEach(componentReference => {\n            componentReference.instance.isMinimized = true;\n            componentReference.instance.isComposeVisible = false;\n          });\n          let count = Math.trunc(this.windowWidth / this.minimizedWidth);\n          if (this.componentRefList.length < count) {\n            count = this.componentRefList.length;\n          }\n          for (let i = this.componentRefList.length - 1; i >= this.componentRefList.length - count; i--) {\n            this.componentRefList[i].instance.isComposeVisible = true;\n          }\n        }\n      });\n      newComponentReference.instance.fullScreen.subscribe(isFullScreen => {\n        if (isFullScreen) {\n          this.componentRefList.forEach(componentReference => {\n            componentReference.instance.isFullScreen = false;\n            componentReference.instance.isMinimized = true;\n          });\n          newComponentReference.instance.isFullScreen = true;\n        }\n      });\n    } else {\n      // display error message when user open more than 5 composer\n      this.store.dispatch(new SnackPush({ message: 'Maximum composer reached.', duration: 5000 }));\n    }\n  }\n\n  destroyAllComposeMailDialogs(): void {\n    this.componentRefList.forEach(componentReference => {\n      componentReference.destroy();\n    });\n    this.componentRefList = [];\n  }\n\n  private destroyComponent(newComponentReference: ComponentRef<ComposeMailDialogComponent>, index: number) {\n    newComponentReference.destroy();\n    this.componentRefList.splice(index, 1);\n    this.getComposesWidth();\n    let countNewCompose = (this.windowWidth - this.composesWidth) / this.minimizedWidth;\n    for (let i = this.componentRefList.length; i > 0; i--) {\n      if (!this.componentRefList[i - 1].instance.isComposeVisible && countNewCompose >= 1) {\n        countNewCompose -= 1;\n        this.componentRefList[i - 1].instance.isComposeVisible = true;\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { NgbDateStruct, NgbTimeStruct } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport * as moment from 'moment-timezone';\n\nimport { AppState, UserState } from '../datatypes';\n\n@Injectable()\nexport class DateTimeUtilService {\n  readonly ISO8601_DATETIME_FORMAT = 'YYYY-MM-DDTHH:mm:ss.SSSZ';\n\n  readonly preDefinedFormats = {\n    short: 'M/D/YY, h:mm A',\n    medium: 'MMM D, YYYY, h:mm:ss A',\n    long: 'MMMM D, YYYY, h:mm:ss A Z',\n    full: 'dddd, MMMM D, YYYY, h:mm:ss A Z',\n    shortDate: 'M/D/YY',\n    mediumDate: 'MMM D, YYYY',\n    longDate: 'MMMM D, YYYY',\n    fullDate: 'dddd, MMMM D, YYYY',\n    shortTime: 'h:mm A',\n    mediumTime: 'h:mm:ss A',\n    longTime: 'h:mm:ss A Z',\n    fullTime: 'h:mm:ss A Z',\n  };\n\n  private timezone: string;\n\n  constructor(private store: Store<AppState>) {\n    this.store\n      .select(state => state.user)\n      .subscribe((user: UserState) => {\n        if (user.settings && user.settings.timezone !== this.timezone) {\n          this.timezone = user.settings.timezone;\n          if (this.timezone) {\n            moment.tz.setDefault(this.timezone);\n          } else {\n            moment.tz.setDefault(); // set user's local timezone as default\n          }\n        }\n      });\n  }\n\n  createDateTimeStrFromNgbDateTimeStruct(date: NgbDateStruct, time: NgbTimeStruct): string {\n    return moment([date.year, date.month - 1, date.day, time.hour, time.minute, time.second])\n      .utc()\n      .format(this.ISO8601_DATETIME_FORMAT);\n  }\n\n  createDateTimeFromNgbDateTimeStruct(date: NgbDateStruct, time: NgbTimeStruct): moment.Moment {\n    return moment([date.year, date.month - 1, date.day, time.hour, time.minute, time.second]).utc();\n  }\n\n  getNgbDateTimeStructsFromDateTimeStr(dateTimeString: string): { date: NgbDateStruct; time: NgbTimeStruct } {\n    const datetime = moment(dateTimeString);\n    if (datetime) {\n      return {\n        date: {\n          year: datetime.year(),\n          month: datetime.month(),\n          day: datetime.date(),\n        },\n        time: {\n          hour: datetime.hour(),\n          minute: datetime.minute(),\n          second: datetime.second(),\n        },\n      };\n    }\n    return { date: null, time: null };\n  }\n\n  getNgbDateStructFromDateStr(dateString: string, format: string): NgbDateStruct {\n    const datetime = moment(dateString, format);\n    if (datetime) {\n      return { year: datetime.year(), month: datetime.month() + 1, day: datetime.date() };\n    }\n    return null;\n  }\n\n  getNgbTimeStructFromTimeStr(timeString: string, format: string): NgbTimeStruct {\n    const datetime = moment(timeString, format);\n    if (datetime) {\n      return { hour: datetime.hour(), minute: datetime.minute(), second: datetime.second() };\n    }\n    return null;\n  }\n\n  createDateStrFromNgbDateStruct(date: NgbDateStruct, format: string): string {\n    return moment({ year: date.year, month: date.month - 1, day: date.day }).format(format);\n  }\n\n  createTimeStrFromNgbTimeStruct(time: NgbTimeStruct, format: string): string {\n    return moment({ hour: time.hour, minute: time.minute, second: time.second }).format(format);\n  }\n\n  isDateTimeInPast(dateTimeString: string): boolean {\n    return moment().diff(moment(dateTimeString)) >= 0;\n  }\n\n  isBefore(start: string, end: string, format?: string): boolean {\n    return moment(start, format).isBefore(moment(end, format));\n  }\n\n  getDiffFromCurrentDateTime(dateTimeString: string, unit?: any): number {\n    return moment(dateTimeString).diff(moment(), unit);\n  }\n\n  getDiffToCurrentDateTime(dateTimeString: string, unit?: any): number {\n    return moment().diff(moment(dateTimeString), unit);\n  }\n\n  formatDateTimeStr(dateTimeString: string, format: string, timezone?: string): string {\n    if (this.preDefinedFormats[format]) {\n      format = this.preDefinedFormats[format];\n    }\n    if (timezone) {\n      return moment(dateTimeString, timezone).format(format);\n    }\n    return moment(dateTimeString).format(format); // using the default timezone set in moment\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nimport { apiUrl } from '../../shared/config';\n\n@Injectable()\nexport class DonationService {\n  constructor(private http: HttpClient) {}\n\n  /**\n   * @description\n   * Endpoint for accepting Stripe Donations\n   *\n   * @param data - stripe_token (required) | amount (required)\n   */\n  makeStripeDonation(data: any): Observable<any> {\n    return this.http.post<any>(`${apiUrl}donate/stripe/`, data);\n  }\n}\n","export * from './auth.guard';\nexport * from './mail.service';\nexport * from './openpgp.service';\nexport * from './users.service';\nexport * from './token.interceptor';\nexport * from './shared.service';\nexport * from './bitcoin.service';\nexport * from './donation.service';\n","import { Injectable } from '@angular/core';\nimport { Store } from '@ngrx/store';\n\nimport { SettingsUpdate } from '../actions';\nimport { AppState } from '../datatypes';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MailSettingsService {\n  constructor(private store: Store<AppState>) {}\n\n  updateSettings(settings: any, key?: string, value?: any) {\n    if (key) {\n      if (settings[key] !== value) {\n        settings[key] = value;\n        this.store.dispatch(new SettingsUpdate(settings));\n      }\n    } else {\n      this.store.dispatch(new SettingsUpdate(settings));\n    }\n  }\n}\n","import { HttpClient, HttpEvent, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { apiUrl } from '../../shared/config';\nimport { Attachment, Folder, Mail, Mailbox } from '../models';\nimport { MailFolderType } from '../models/mail.model';\n\n@Injectable()\nexport class MailService {\n  constructor(private http: HttpClient) {}\n\n  getMessages(payload: {\n    limit: number;\n    offset: number;\n    folder: MailFolderType;\n    read: null;\n    seconds?: number;\n    searchText?: string;\n  }): Observable<any> {\n    payload.limit = payload.limit ? payload.limit : 20;\n    if (payload.searchText && payload.folder === MailFolderType.SEARCH) {\n      return this.searchMessages(payload);\n    }\n    let url = `${apiUrl}emails/messages/?limit=${payload.limit}&offset=${payload.offset}`;\n    if (!payload.folder) {\n      payload.folder = MailFolderType.INBOX;\n    }\n    if (payload.folder === MailFolderType.STARRED) {\n      url = `${url}&starred=true`;\n    } else {\n      url = `${url}&folder=${payload.folder}`;\n    }\n    if (payload.read === false || payload.read === true) {\n      url = `${url}&read=${payload.read}`;\n    }\n    if (payload.seconds) {\n      url = `${url}&seconds=${payload.seconds}`;\n    }\n    return this.http.get<Mail[]>(url);\n  }\n\n  searchMessages(payload: any): Observable<any> {\n    const url = `${apiUrl}search/messages/?q=${payload.searchText}&limit=${payload.limit}&offset=${payload.offset}`;\n    return this.http.get<Mail[]>(url);\n  }\n\n  getMessage(payload: { messageId: number; folder: string }): Observable<Mail> {\n    const url = `${apiUrl}emails/messages/?id__in=${payload.messageId}&folder=${payload.folder}`;\n    return this.http.get<Mail>(url).pipe(\n      map(data => {\n        return data['results'] ? data['results'][0] : null;\n      }),\n    );\n  }\n\n  getUnreadMailsCount(): Observable<any> {\n    return this.http.get<Mail>(`${apiUrl}emails/unread/`);\n  }\n\n  getCustomFolderMessageCount(): Observable<any> {\n    return this.http.get<Mail>(`${apiUrl}emails/customfolder-message-count/`);\n  }\n\n  getMailboxes(limit = 50, offset = 0): Observable<any> {\n    const url = `${apiUrl}emails/mailboxes/?limit=${limit}&offset=${offset}`;\n    return this.http.get<any>(url).pipe(\n      map(data => {\n        const newData = data.results.map(mailbox => {\n          mailbox.customFolders = mailbox.custom_folders;\n          return mailbox;\n        });\n        return newData;\n      }),\n    );\n  }\n\n  getUsersPublicKeys(emails: Array<string>): Observable<any> {\n    const body = { emails };\n    return this.http.post<any>(`${apiUrl}emails/keys/`, body);\n  }\n\n  getSecureMessage(hash: string, secret: string): Observable<any> {\n    const url = `${apiUrl}emails/secure-message/${hash}/${secret}/`;\n    return this.http.get<any>(url);\n  }\n\n  getSecureMessageKeys(hash: string, secret: string): Observable<any> {\n    const url = `${apiUrl}emails/secure-message/${hash}/${secret}/keys/`;\n    return this.http.get<any>(url);\n  }\n\n  createFolder(folder: Folder): Observable<any> {\n    if (folder.id) {\n      return this.http.patch<any>(`${apiUrl}emails/custom-folder/${folder.id}/`, folder);\n    }\n    return this.http.post<any>(`${apiUrl}emails/custom-folder/`, folder);\n  }\n\n  updateFoldersOrder(data: any) {\n    return this.http.post<any>(`${apiUrl}emails/folder-order/`, data);\n  }\n\n  createMail(data: any): Observable<any[]> {\n    let url = `${apiUrl}emails/messages/`;\n    if (data.id) {\n      url = `${url + data.id}/`;\n      return this.http.patch<any>(url, data);\n    }\n    return this.http.post<any>(url, data);\n  }\n\n  secureReply(hash: string, secret: string, data: any): Observable<any> {\n    const url = `${apiUrl}emails/secure-message/${hash}/${secret}/reply/`;\n    return this.http.post<any>(url, data);\n  }\n\n  markAsRead(ids: string, isMailRead: boolean, folder: string): Observable<any[]> {\n    if (ids === 'all') {\n      return this.http.patch<any>(`${apiUrl}emails/messages/?folder=${folder}`, { read: isMailRead });\n    }\n    return this.http.patch<any>(`${apiUrl}emails/messages/?id__in=${ids}`, { read: isMailRead });\n  }\n\n  markAsStarred(ids: string, isMailStarred: boolean, folder: string): Observable<any[]> {\n    if (ids === 'all') {\n      return this.http.patch<any>(`${apiUrl}emails/messages/?folder=${folder}`, { starred: isMailStarred });\n    }\n    return this.http.patch<any>(`${apiUrl}emails/messages/?id__in=${ids}`, { starred: isMailStarred });\n  }\n\n  moveMail(\n    ids: string,\n    folder: string,\n    sourceFolder: string,\n    withChildren = true,\n    fromTrash = false,\n  ): Observable<any[]> {\n    if (ids === 'all') {\n      return this.http.patch<any>(`${apiUrl}emails/messages/?folder=${sourceFolder}`, {\n        folder,\n        with_children: withChildren,\n        from_trash: fromTrash,\n      });\n    }\n    return this.http.patch<any>(`${apiUrl}emails/messages/?id__in=${ids}`, {\n      folder,\n      with_children: withChildren,\n      from_trash: fromTrash,\n    });\n  }\n\n  deleteMails(ids: string, parent_only = false): Observable<any[]> {\n    return this.http.delete<any>(`${apiUrl}emails/messages/?id__in=${ids}&parent_only=${parent_only ? 1 : 0}`);\n  }\n\n  deleteMailForAll(id: string): Observable<any[]> {\n    return this.http.post<any>(`${apiUrl}emails/delete-message/${id}/`, {});\n  }\n\n  deleteFolder(id: string): Observable<any[]> {\n    return this.http.delete<any>(`${apiUrl}emails/custom-folder/${id}/`);\n  }\n\n  uploadFile(attachment: Attachment): Observable<HttpEvent<any>> {\n    const formData = new FormData();\n    formData.append('document', attachment.document);\n    formData.append('message', attachment.message.toString());\n    formData.append('is_inline', attachment.is_inline.toString());\n    formData.append('is_encrypted', attachment.is_encrypted.toString());\n    formData.append('file_type', attachment.document.type.toString());\n\n    let request;\n    if (attachment.id) {\n      request = new HttpRequest('PATCH', `${apiUrl}emails/attachments/update/${attachment.id}/`, formData, {\n        reportProgress: true,\n      });\n    } else {\n      request = new HttpRequest('POST', `${apiUrl}emails/attachments/create/`, formData, {\n        reportProgress: true,\n      });\n    }\n\n    return this.http.request(request);\n  }\n\n  deleteAttachment(attachment: Attachment): Observable<any> {\n    return this.http.delete<any>(`${apiUrl}emails/attachments/${attachment.id}/`);\n  }\n\n  getAttachment(attachment: Attachment): Observable<any> {\n    return this.http.get(`${apiUrl}emails/attachments/${attachment.id}/`);\n  }\n\n  getSecureMessageAttachment(attachment: Attachment, hash: string, randomSecret: string): Observable<any> {\n    return this.http.get(`${apiUrl}emails/secure-message/${hash}/${randomSecret}/attachment/${attachment.id}/`);\n  }\n\n  updateMailBoxSettings(data: Mailbox) {\n    return this.http.patch<any>(`${apiUrl}emails/mailboxes/${data.id}/`, data);\n  }\n\n  createMailbox(data: any) {\n    return this.http.post<any>(`${apiUrl}emails/mailboxes/`, data);\n  }\n\n  updateMailboxOrder(data: any) {\n    return this.http.post<any>(`${apiUrl}emails/mailbox-order/`, data);\n  }\n\n  deleteMailbox(id: number) {\n    return this.http.delete<any>(`${apiUrl}emails/mailboxes/${id}/`);\n  }\n\n  emptyFolder(data: any) {\n    return this.http.post<any>(`${apiUrl}emails/empty-folder/`, data);\n  }\n\n  private handleError<T>(operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n      // TODO: send the error to remote logging infrastructure\n      console.error(error); // log to console instead\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { Store } from '@ngrx/store';\n\nimport { AppState } from '../datatypes';\nimport { UndoDeleteMail } from '../actions';\n\n@Injectable()\nexport class NotificationService {\n  constructor(private snackBar: MatSnackBar, private store: Store<AppState>) {}\n\n  showSnackBar(message: string, action = 'CLOSE', config: MatSnackBarConfig = { duration: 5000 }) {\n    this.snackBar.open(message, action, config);\n  }\n\n  showUndo(payload: any) {\n    if (payload.sourceFolder) {\n      const snackBarReference = this.snackBar.open(payload.message, 'Undo', { duration: 5000 });\n\n      snackBarReference.onAction().subscribe(() => {\n        this.store.dispatch(new UndoDeleteMail(payload));\n      });\n    } else {\n      this.showSnackBar(payload.message);\n    }\n  }\n}\n","import { Store } from '@ngrx/store';\nimport { Observable, Subject } from 'rxjs';\nimport { Injectable } from '@angular/core';\n\nimport { PRIMARY_DOMAIN } from '../../shared/config';\nimport {\n  ChangePassphraseSuccess,\n  ClearContactsToDecrypt,\n  ContactAdd,\n  ContactDecryptSuccess,\n  ContactsGet,\n  GetMailboxesSuccess,\n  Logout,\n  SetDecryptedKey,\n  SetDecryptInProgress,\n  StartAttachmentEncryption,\n  UpdateBatchContacts,\n  UpdatePGPDecryptedContent,\n  UpdatePGPEncryptedContent,\n  UpdatePGPSshKeys,\n  UpdateSecureMessageContent,\n  UpdateSecureMessageEncryptedContent,\n  UpdateSecureMessageKey,\n  UploadAttachment,\n} from '../actions';\nimport {\n  AppState,\n  AuthState,\n  Contact,\n  ContactsState,\n  MailBoxesState,\n  SecureContent,\n  Settings,\n  UserState,\n} from '../datatypes';\nimport { Attachment, Mailbox } from '../models';\n\nimport { UsersService } from './users.service';\n\n@Injectable()\nexport class OpenPgpService {\n  encrypted: any;\n\n  options: any;\n\n  private contactsState: ContactsState;\n\n  private decryptedPrivKeys: any;\n\n  private decryptInProgress: boolean;\n\n  private isAuthenticated: boolean;\n\n  private mailboxes: Mailbox[];\n\n  private pgpWorker: Worker;\n\n  private primaryMailbox: Mailbox;\n\n  private privkeys: any;\n\n  private pubkeys: any;\n\n  private pubkeysArray: Array<string> = [];\n\n  private subjects: any = {};\n\n  private userKeys: any;\n\n  private userSettings: Settings;\n\n  constructor(private store: Store<AppState>, private usersService: UsersService) {\n    this.pgpWorker = new Worker('assets/static/pgp-worker.js');\n    this.listenWorkerPostMessages();\n\n    this.store\n      .select(state => state.mailboxes)\n      .subscribe((mailBoxesState: MailBoxesState) => {\n        if (mailBoxesState.mailboxes.length > 0) {\n          this.mailboxes = mailBoxesState.mailboxes;\n          this.privkeys = this.privkeys || {};\n          this.pubkeys = this.pubkeys || {};\n          let hasNewPrivateKey = false;\n          mailBoxesState.mailboxes.forEach(mailbox => {\n            if (!this.privkeys[mailbox.id]) {\n              this.privkeys[mailbox.id] = mailbox.private_key;\n              hasNewPrivateKey = true;\n            }\n            if (!this.pubkeys[mailbox.id]) {\n              this.pubkeys[mailbox.id] = mailbox.public_key;\n              this.pubkeysArray.push(mailbox.public_key);\n            }\n            if (mailbox.is_default && !this.primaryMailbox) {\n              this.primaryMailbox = mailbox;\n            }\n          });\n          if (hasNewPrivateKey) {\n            this.decryptPrivateKeys();\n          }\n        }\n        this.decryptInProgress = mailBoxesState.decryptKeyInProgress;\n      });\n\n    this.store\n      .select((state: AppState) => state.auth)\n      .subscribe((authState: AuthState) => {\n        if (this.isAuthenticated && !authState.isAuthenticated) {\n          this.clearData();\n        }\n        this.isAuthenticated = authState.isAuthenticated;\n      });\n    this.store\n      .select((state: AppState) => state.user)\n      .subscribe((userState: UserState) => {\n        this.userSettings = userState.settings;\n      });\n  }\n\n  decryptPrivateKeys(privKeys?: any, password?: string) {\n    const userKey = password ? btoa(password) : this.usersService.getUserKey();\n    if (!userKey) {\n      this.store.dispatch(new Logout());\n      return;\n    }\n    this.privkeys = privKeys || this.privkeys;\n    this.store.dispatch(new SetDecryptInProgress(true));\n\n    this.pgpWorker.postMessage({\n      decryptPrivateKeys: true,\n      privkeys: Object.keys(this.privkeys).map(key => ({ mailboxId: key, privkey: this.privkeys[key] })),\n      user_key: atob(userKey),\n    });\n  }\n\n  listenWorkerPostMessages() {\n    this.pgpWorker.onmessage = (event: MessageEvent) => {\n      // Generate Keys\n      if (event.data.generateKeys) {\n        if (event.data.forEmail) {\n          this.store.dispatch(\n            new UpdatePGPSshKeys({\n              isSshInProgress: false,\n              keys: event.data.keys,\n              draftId: event.data.callerId,\n            }),\n          );\n        } else {\n          this.userKeys = event.data.keys;\n        }\n      } else if (event.data.decryptPrivateKeys) {\n        this.decryptedPrivKeys = event.data.keys;\n        this.store.dispatch(new SetDecryptedKey({ decryptedKey: this.decryptedPrivKeys }));\n      } else if (event.data.decrypted) {\n        this.store.dispatch(\n          new UpdatePGPDecryptedContent({\n            id: event.data.callerId,\n            isPGPInProgress: false,\n            decryptedContent: event.data.decryptedContent,\n            isDecryptingAllSubjects: event.data.isDecryptingAllSubjects,\n          }),\n        );\n      } else if (event.data.decryptSecureMessageKey) {\n        this.store.dispatch(\n          new UpdateSecureMessageKey({\n            decryptedKey: event.data.decryptedKey,\n            inProgress: false,\n            error: event.data.error,\n          }),\n        );\n      } else if (event.data.decryptSecureMessageContent) {\n        this.store.dispatch(\n          new UpdateSecureMessageContent({ decryptedContent: event.data.mailData, inProgress: false }),\n        );\n      } else if (event.data.changePassphrase) {\n        event.data.keys.forEach(item => {\n          item.public_key = item.public_key ? item.public_key : this.pubkeys[item.mailbox_id];\n        });\n        this.store.dispatch(new ChangePassphraseSuccess(event.data.keys));\n      } else if (event.data.encrypted) {\n        this.store.dispatch(\n          new UpdatePGPEncryptedContent({\n            isPGPInProgress: false,\n            encryptedContent: event.data.encryptedContent,\n            draftId: event.data.callerId,\n          }),\n        );\n      } else if (event.data.encryptedAttachment) {\n        const oldDocument = event.data.attachment.decryptedDocument;\n        const newDocument = new File([event.data.encryptedContent], oldDocument.name, {\n          type: oldDocument.type,\n          lastModified: oldDocument.lastModified,\n        });\n        const attachment: Attachment = { ...event.data.attachment, document: newDocument, is_encrypted: true };\n        this.store.dispatch(new UploadAttachment({ ...attachment }));\n      } else if (event.data.decryptedAttachment || event.data.decryptedSecureMessageAttachment) {\n        const array = event.data.decryptedContent;\n        const newDocument = new File(\n          [array.buffer.slice(array.byteOffset, array.byteLength + array.byteOffset)],\n          event.data.fileInfo.attachment.name,\n          { type: event.data.fileInfo.type },\n        );\n        const newAttachment: Attachment = { ...event.data.fileInfo.attachment, decryptedDocument: newDocument };\n        this.subjects[event.data.subjectId].next(newAttachment);\n        this.subjects[event.data.subjectId].complete();\n        delete this.subjects[event.data.subjectId];\n      } else if (event.data.encryptSecureMessageReply) {\n        this.store.dispatch(\n          new UpdateSecureMessageEncryptedContent({\n            inProgress: false,\n            encryptedContent: event.data.encryptedContent,\n          }),\n        );\n      } else if (event.data.encryptJson) {\n        if (event.data.isAddContact) {\n          this.store.dispatch(\n            new ContactAdd({\n              id: event.data.id,\n              encrypted_data: event.data.encryptedContent,\n              is_encrypted: true,\n            }),\n          );\n        }\n      } else if (event.data.decryptJson) {\n        if (event.data.isContact) {\n          this.store.dispatch(new ContactDecryptSuccess({ ...JSON.parse(event.data.content), id: event.data.id }));\n        } else if (event.data.isContactsArray) {\n          const totalDecryptedContacts = this.contactsState.noOfDecryptedContacts + event.data.contacts.length;\n          this.store.dispatch(new UpdateBatchContacts({ contact_list: event.data.contacts }));\n          if (this.contactsState.totalContacts > totalDecryptedContacts) {\n            this.store.dispatch(\n              new ContactsGet({\n                limit: 20,\n                offset: totalDecryptedContacts,\n                isDecrypting: true,\n              }),\n            );\n          }\n        }\n      }\n    };\n  }\n\n  encrypt(mailboxId, draftId, mailData: SecureContent, publicKeys: any[] = []) {\n    this.store.dispatch(new UpdatePGPEncryptedContent({ isPGPInProgress: true, encryptedContent: {}, draftId }));\n\n    publicKeys.push(this.pubkeys[mailboxId]);\n    if (this.userSettings && !this.userSettings.is_subject_encrypted) {\n      mailData.subject = null;\n    }\n    this.pgpWorker.postMessage({ mailData, publicKeys, encrypt: true, callerId: draftId });\n  }\n\n  encryptContact(contact: Contact, isAddContact = true) {\n    contact.is_encrypted = true;\n    const content = JSON.stringify(contact);\n    this.pgpWorker.postMessage({\n      content,\n      isAddContact,\n      email: contact.email,\n      publicKeys: this.pubkeysArray,\n      encryptJson: true,\n      id: contact.id,\n    });\n  }\n\n  decryptContact(content: string, id: number) {\n    if (this.decryptedPrivKeys) {\n      this.pgpWorker.postMessage({\n        id,\n        content,\n        mailboxId: this.primaryMailbox.id,\n        decryptJson: true,\n        isContact: true,\n      });\n    } else {\n      setTimeout(() => {\n        this.decryptContact(content, id);\n      }, 1000);\n    }\n  }\n\n  encryptAttachment(mailboxId,  attachment: Attachment, publicKeys: any[] = []) {\n    this.store.dispatch(new StartAttachmentEncryption({ ...attachment }));\n    publicKeys.push(this.pubkeys[mailboxId]);\n    const reader = new FileReader();\n    reader.addEventListener('load', (event: any) => {\n      const buffer = event.target.result;\n      const uint8Array = new Uint8Array(buffer);\n      this.pgpWorker.postMessage({ fileData: uint8Array, publicKeys, encryptAttachment: true, attachment });\n    });\n    reader.readAsArrayBuffer(attachment.decryptedDocument);\n  }\n\n  decryptAttachment(mailboxId, fileData: string, fileInfo: any): Observable<Attachment> {\n    const subject = new Subject<any>();\n    const subjectId = performance.now();\n    this.subjects[subjectId] = subject;\n    this.pgpWorker.postMessage({ mailboxId, fileData, decryptAttachment: true, fileInfo, subjectId });\n    return subject.asObservable();\n  }\n\n  encryptSecureMessageContent(content, publicKeys: any[]) {\n    this.store.dispatch(new UpdateSecureMessageEncryptedContent({ inProgress: true, encryptedContent: null }));\n\n    this.pgpWorker.postMessage({ content, publicKeys, encryptSecureMessageReply: true });\n  }\n\n  decrypt(mailboxId, mailId, mailData: SecureContent, isDecryptingAllSubjects = false) {\n    if (this.decryptedPrivKeys) {\n      if (!mailData.isSubjectEncrypted) {\n        mailData.subject = null;\n      }\n      this.store.dispatch(\n        new UpdatePGPDecryptedContent({\n          isDecryptingAllSubjects,\n          id: mailId,\n          isPGPInProgress: true,\n          decryptedContent: {},\n        }),\n      );\n      this.pgpWorker.postMessage({ mailboxId, mailData, isDecryptingAllSubjects, decrypt: true, callerId: mailId });\n    } else {\n      setTimeout(() => {\n        this.decrypt(mailboxId, mailId, mailData);\n      }, 1000);\n    }\n  }\n\n  decryptSecureMessagePrivKey(privKey: string, password: string) {\n    this.pgpWorker.postMessage({ decryptSecureMessageKey: true, privKey, password });\n    this.store.dispatch(new UpdateSecureMessageKey({ decryptedKey: null, inProgress: true }));\n  }\n\n  decryptSecureMessageContent(decryptedKey: any, mailData: SecureContent) {\n    if (!mailData.isSubjectEncrypted) {\n      mailData.subject = null;\n    }\n    this.pgpWorker.postMessage({ decryptSecureMessageContent: true, decryptedKey, mailData });\n    this.store.dispatch(new UpdateSecureMessageContent({ decryptedContent: null, inProgress: true }));\n  }\n\n  decryptSecureMessageAttachment(decryptedKey: any, uint8Array: Uint8Array, fileInfo: any): Observable<Attachment> {\n    const subject = new Subject<any>();\n    const subjectId = performance.now();\n    this.subjects[subjectId] = subject;\n    this.pgpWorker.postMessage({\n      decryptedKey,\n      fileData: uint8Array,\n      decryptSecureMessageAttachment: true,\n      fileInfo,\n      subjectId,\n    });\n    return subject.asObservable();\n  }\n\n  clearData(publicKeys?: any) {\n    this.decryptedPrivKeys = null;\n    this.pubkeys = null;\n    this.privkeys = null;\n    this.userKeys = null;\n    this.primaryMailbox = null;\n    this.store.dispatch(new SetDecryptedKey({ decryptedKey: null }));\n    this.pgpWorker.postMessage({ clear: true });\n\n    if (publicKeys) {\n      this.mailboxes.forEach(item => {\n        item.public_key = publicKeys[item.id];\n      });\n      this.store.dispatch(new GetMailboxesSuccess(this.mailboxes));\n    }\n  }\n\n  generateUserKeys(username: string, password: string, domain: string = PRIMARY_DOMAIN) {\n    if (username.split('@').length > 1) {\n      domain = username.split('@')[1];\n      username = username.split('@')[0];\n    }\n    this.userKeys = null;\n    const options = {\n      userIds: [{ name: `${username}_${domain}`, email: `${username}@${domain}` }],\n      numBits: 4096,\n      passphrase: password,\n    };\n    this.pgpWorker.postMessage({ options, generateKeys: true });\n  }\n\n  generateEmailSshKeys(password: string, draftId: number) {\n    this.store.dispatch(new UpdatePGPSshKeys({ isSshInProgress: true, sshKeys: null, draftId }));\n    const options = {\n      userIds: [{ name: `${draftId}` }],\n      numBits: 4096,\n      passphrase: password,\n    };\n    this.pgpWorker.postMessage({ options, generateKeys: true, forEmail: true, callerId: draftId });\n  }\n\n  getUserKeys() {\n    return this.userKeys;\n  }\n\n  waitForPGPKeys(self: any, callbackFn: string) {\n    setTimeout(() => {\n      if (this.getUserKeys()) {\n        self[callbackFn]();\n        return;\n      }\n      this.waitForPGPKeys(self, callbackFn);\n    }, 500);\n  }\n\n  changePassphrase(passphrase: string, deleteData: boolean, username: string) {\n    this.pgpWorker.postMessage({ passphrase, deleteData, username, mailboxes: this.mailboxes, changePassphrase: true });\n  }\n\n  revertChangedPassphrase(passphrase: string, deleteData: boolean) {\n    if (!deleteData) {\n      this.pgpWorker.postMessage({ passphrase, revertPassphrase: true });\n    }\n  }\n\n  decryptAllContacts() {\n    if (!this.contactsState) {\n      this.store\n        .select(state => state.contacts)\n        .subscribe((contactsState: ContactsState) => {\n          this.contactsState = contactsState;\n          if (contactsState.contactsToDecrypt.length > 0) {\n            this.store.dispatch(new ClearContactsToDecrypt());\n            const contacts = this.contactsState.contacts.filter(contact => contact.is_encrypted);\n            this.pgpWorker.postMessage({\n              contacts,\n              mailboxId: this.primaryMailbox.id,\n              decryptJson: true,\n              isContactsArray: true,\n            });\n          }\n        });\n    }\n  }\n}\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport Quill from 'quill';\n\nimport { CreateFolderComponent } from '../../mail/dialogs/create-folder/create-folder.component';\nimport { PaymentFailureNoticeComponent } from '../../mail/dialogs/payment-failure-notice/payment-failure-notice.component';\nimport { Folder } from '../models';\nimport { PlanType, PricingPlan } from '../datatypes';\n\nimport { NotificationService } from './notification.service';\n\n// image format for retrieving custom attributes\n\nconst BaseImageFormat = Quill.import('formats/image');\nconst ImageFormatAttributesList = ['alt', 'height', 'width', 'style'];\n\nexport class ImageFormat extends BaseImageFormat {\n  static formats(domNode) {\n    return ImageFormatAttributesList.reduce(function (formats, attribute) {\n      if (domNode.hasAttribute(attribute)) {\n        formats[attribute] = domNode.getAttribute(attribute);\n      }\n      return formats;\n    }, {});\n  }\n\n  format(name, value) {\n    const self: any = this;\n    if (ImageFormatAttributesList.includes(name)) {\n      if (value) {\n        self.domNode.setAttribute(name, value);\n      } else {\n        self.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n}\n\n@Injectable()\nexport class SharedService {\n  static PRICING_PLANS: any;\n\n  static PRICING_PLANS_ARRAY: Array<PricingPlan> = [];\n\n  static isQuillEditorOpen: boolean;\n\n  isReady: EventEmitter<boolean> = new EventEmitter();\n\n  hideFooter: EventEmitter<boolean> = new EventEmitter();\n\n  hideHeader: EventEmitter<boolean> = new EventEmitter();\n\n  hideEntireFooter: EventEmitter<boolean> = new EventEmitter();\n\n  keyPressed: EventEmitter<any> = new EventEmitter();\n\n  isMail: EventEmitter<boolean> = new EventEmitter();\n\n  isExternalPage: EventEmitter<boolean> = new EventEmitter();\n\n  private paymentFailureModalRef: NgbModalRef;\n\n  //\n  constructor(\n    private http: HttpClient,\n    private modalService: NgbModal,\n    private notificationService: NotificationService,\n  ) {}\n\n  sortByDate(data: any[], sortField: string): any[] {\n    return data.sort((a: any, b: any) => new Date(b[sortField]).getTime() - new Date(a[sortField]).getTime());\n  }\n\n  /**\n   * @description\n   * Prime Users - Can create as many folders as they want\n   * Free Users - Only allow a maximum of 5 folders per account\n   */\n  openCreateFolderDialog(isPrime, customFolders: Folder[], callback: { self: any; method: string } = null) {\n    if (isPrime) {\n      this.openModal(callback);\n    } else if (customFolders === null || customFolders.length < 5) {\n      this.openModal(callback);\n    } else {\n      this.notificationService.showSnackBar('Free users can only create a maximum of 5 folders.');\n    }\n  }\n\n  private openModal(callback: { self: any; method: string } = null) {\n    const modal: NgbModalRef = this.modalService.open(CreateFolderComponent, {\n      centered: true,\n      windowClass: 'modal-sm mailbox-modal create-folder-modal',\n    });\n    (<CreateFolderComponent>modal.componentInstance).callback = callback;\n  }\n\n  loadPricingPlans() {\n    if (SharedService.PRICING_PLANS) {\n      return;\n    }\n    this.http.get('./assets/static/pricing-plans.json').subscribe((data: any) => {\n      SharedService.PRICING_PLANS = data;\n      SharedService.PRICING_PLANS_ARRAY = [];\n      Object.keys(data).forEach(key => {\n        if (key !== PlanType.PARAGON) {\n          data[key].name = key;\n          SharedService.PRICING_PLANS_ARRAY.push(data[key]);\n        }\n      });\n    });\n  }\n\n  showPaymentFailureDialog() {\n    if (!this.paymentFailureModalRef) {\n      this.paymentFailureModalRef = this.modalService.open(PaymentFailureNoticeComponent, {\n        centered: true,\n        windowClass: 'modal-sm',\n        backdrop: 'static',\n        keyboard: false,\n      });\n      this.paymentFailureModalRef.result.then(() => (this.paymentFailureModalRef = null));\n    }\n  }\n\n  copyToClipboard(value: string) {\n    const selBox = document.createElement('textarea');\n    selBox.style.position = 'fixed';\n    selBox.style.left = '0';\n    selBox.style.top = '0';\n    selBox.style.opacity = '0';\n    selBox.value = value;\n    document.body.append(selBox);\n    selBox.focus();\n    selBox.select();\n    document.execCommand('copy');\n    selBox.remove();\n    this.notificationService.showSnackBar('Copied to clipboard successfully.');\n  }\n\n  base64ToUint8Array(base64Data: string): Uint8Array {\n    const decodedData: any = atob(base64Data);\n    const { length } = decodedData;\n    const uint8Array = new Uint8Array(length);\n    for (let i = 0; i < length; i++) {\n      uint8Array[i] = decodedData.charCodeAt(i);\n    }\n    return uint8Array;\n  }\n\n  downloadFile(file: File) {\n    const a = document.createElement('a');\n    a.style.display = 'none';\n    const url = window.URL.createObjectURL(file);\n    a.href = url;\n    a.download = file.name;\n    document.body.append(a);\n    a.click();\n    window.URL.revokeObjectURL(url);\n    a.remove();\n  }\n}\n\nexport function sortByString(data: any[], field: string) {\n  return data.sort((a, b) => {\n    if (a[field] < b[field]) {\n      return -1;\n    }\n    if (a[field] > b[field]) {\n      return 1;\n    }\n    return 0;\n  });\n}\n\nexport function isComposeEditorOpen(): boolean {\n  return (\n    SharedService.isQuillEditorOpen ||\n    document.querySelectorAll('app-compose-mail-dialog').length > 0 ||\n    document.querySelectorAll('app-compose-mail').length > 0 ||\n    document.querySelectorAll('ngb-modal-window').length > 0\n  );\n}\n\nexport const LOADING_IMAGE =\n  'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyBpZD0ibWFzdGVyLWFydGJvYXJkIiB2aWV3Qm94PSIwIDAgMTA2MS40MzE1MTg1NTQ2ODc1IDkxNi42MjI2ODA2NjQwNjI1IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeD0iMHB4IiB5PSIwcHgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0MDAgOTgwOyIgd2lkdGg9IjEwNjEuNDMxNTE4NTU0Njg3NXB4IiBoZWlnaHQ9IjkxNi42MjI2ODA2NjQwNjI1cHgiPjxyZWN0IGlkPSJlZS1iYWNrZ3JvdW5kIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTA2MS40MzE1MTg1NTQ2ODc1IiBoZWlnaHQ9IjkxNi42MjI2ODA2NjQwNjI1IiBzdHlsZT0iZmlsbDogd2hpdGU7IGZpbGwtb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7Ii8+PGRlZnM+PHN0eWxlIGlkPSJlZS1nb29nbGUtZm9udHMiPkBpbXBvcnQgdXJsKGh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1BbnRvbjo0MDB8Um9ib3RvK1NsYWI6MTAwLDMwMCw0MDAsNzAwKTs8L3N0eWxlPjxwYXRoIGlkPSJ0ZXh0LXBhdGgtMCIgZD0iTSA3NzguODQ2NDk2NTgyMDMxMiAyMTMuNDYxMjI3NDE2OTkyMiBBIDEwMCAxOCAwIDAgMSA5ODguMzUzMzkzNTU0Njg3NSAyMTMuNDYxMjI3NDE2OTkyMiBBIDEwMCAxOCAwIDAgMSA3NzguODQ2NDk2NTgyMDMxMiAyMTMuNDYxMjI3NDE2OTkyMiBaIiBzdHlsZT0iZmlsbDogbm9uZTsgc3Ryb2tlOiByZWQ7IHN0cm9rZS13aWR0aDogMjsiLz48cGF0aCBpZD0idGV4dC1wYXRoLTEiIGQ9Ik0gNjY0LjU0NjQ0Nzc1MzkwNjIgMzcuOTYxMjI3NDE2OTkyMTkgQSAxMDAgMTkgMCAwIDEgODc2LjU4MTIzNzc5Mjk2ODggMzcuOTYxMjI3NDE2OTkyMTkgQSAxMDAgMTkgMCAwIDEgNjY0LjU0NjQ0Nzc1MzkwNjIgMzcuOTYxMjI3NDE2OTkyMTkiIHN0eWxlPSJmaWxsOiBub25lOyBzdHJva2U6IHJlZDsgc3Ryb2tlLXdpZHRoOiAyOyIvPjxwYXRoIGlkPSJ0ZXh0LXBhdGgtMiIgZD0iTSA3NjUuMzY1MDUxMjY5NTMxMiAyMTEuNzA4NTExMzUyNTM5MDYgQSAxMDAgMTcgMCAwIDEgOTkxLjUwMTc3MDAxOTUzMTIgMjExLjcwODUxMTM1MjUzOTA2IEEgMTAwIDE3IDAgMCAxIDc2NS4zNjUwNTEyNjk1MzEyIDIxMS43MDg1MTEzNTI1MzkwNiIgc3R5bGU9ImZpbGw6IG5vbmU7IHN0cm9rZTogcmVkOyBzdHJva2Utd2lkdGg6IDI7Ii8+PHBhdGggaWQ9InBhdGgtMSIgZD0iTSA3NjUuMzY1MDUxMjY5NTMxMiAyMTEuNzA4NTExMzUyNTM5MDYgQSAxMDAgMTcgMCAwIDEgOTkxLjUwMTc3MDAxOTUzMTIgMjExLjcwODUxMTM1MjUzOTA2IEEgMTAwIDE3IDAgMCAxIDc2NS4zNjUwNTEyNjk1MzEyIDIxMS43MDg1MTEzNTI1MzkwNiIgc3R5bGU9ImZpbGw6IG5vbmU7IHN0cm9rZTogcmVkOyBzdHJva2Utd2lkdGg6IDI7Ii8+PC9kZWZzPgoKCjxwYXRoIGQ9Ik0gODgwLjM4NzAyMzkyNTc4MTIgMjM5LjkwNjA2Njg5NDUzMTI1IiBzdHlsZT0iZmlsbDogcmdiKDYzLCA2MSwgNjEpOyBmaWxsLW9wYWNpdHk6IDE7IHN0cm9rZTogcmdiKDAsIDAsIDApOyBzdHJva2Utb3BhY2l0eTogMTsgc3Ryb2tlLXdpZHRoOiAwOyBwYWludC1vcmRlcjogZmlsbDsiIHRyYW5zZm9ybT0ibWF0cml4KDEsIDAsIDAsIDEsIDMuMzM1NjQ5MjUxOTM3ODY2LCAtMjYuNjg1MTk1OTIyODUxNTYyKSIvPjxwYXRoIGQ9Ik0gODY0LjE0NDc3NTM5MDYyNSAyMjkuNDg2NTExMjMwNDY4NzUiIHN0eWxlPSJmaWxsOiByZ2IoNjMsIDYxLCA2MSk7IGZpbGwtb3BhY2l0eTogMTsgc3Ryb2tlOiByZ2IoMCwgMCwgMCk7IHN0cm9rZS1vcGFjaXR5OiAxOyBzdHJva2Utd2lkdGg6IDA7IHBhaW50LW9yZGVyOiBmaWxsOyIgdHJhbnNmb3JtPSJtYXRyaXgoMSwgMCwgMCwgMSwgMy4zMzU2NDkyNTE5Mzc4NjYsIC0yNi42ODUxOTU5MjI4NTE1NjIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMjUuNzg5NDc0NDg3MzA0Njg4LCAwLCAwLCAyNS43ODk0NzQ0ODczMDQ2ODgsIDQwLjMzNTYyMjU0OTA1NzAxLCAtMjYuNjg1MTk1OTIyODUxNTYyKSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjE3MTAzODY0MjUyNTY3MjksIDAsIDAsIDAuMTcxMDM4NjQyNTI1NjcyOSwgMTUuMTMyOTUzMjA1MjkzNjYsIDE2LjI5NzAyMTkzMTY1NDg1KSI+CiAgICAgICAgPHBhdGggZmlsbD0iI0ZGRiIgZD0iTTUwLjU4OSA5LjA1N2wuMDg0LjA1Mi4wODQuMDU0LjA2OS4wNy4wNjMuMDg0LjA0OC4wODQuMDM2LjEuMDIxLjA5LjAwNi4xMDYtLjAwNi4xLS4xODMgMS4yNDktLjE2Ljk5OC0uMDI2LjEzOS0uMTUzLjg1LS4xOTkuOTkzLS4yMS45OS0uMjI4Ljk3Ny0uMjQ1Ljk4NC0uMjY4Ljk3Ny0uMjcuOTY5LS4zLjk2Mi0uMzA2Ljk2My0uMzI3Ljk1Ni0uMzM2Ljk0OC0uMzY2Ljk0LS4zNy45MzYtLjM5LjkzNS0uMzk5LjkyNy0uNDE3LjkxNC0uNDQuOTE0LS40NDguODk2LS40NjIuOTAyLS40OC44ODQtNy44MzgtNi42MTZMMzQgMjIuNTQ5IDQ5Ljg1NyA5LjE2M2wuMTUyLS4wOTcuMDktLjAzNi4wOTYtLjAyLjEtLjAxaC4wOTlsLjA5Ni4wMjR6TTQxIDM0LjM2M2wtMS4wOSAxLjU3Ny0uNTc0Ljc4Ny0uNTg4Ljc3NS0uNi43NzItLjYwOC43NDktLjYyOC43NTUtLjYzNC43My0uNjQ4LjcyNi0uNjYuNzEtLjY2NS43MDUtLjY4OC42OS0uNjk1LjY3OC0uNzAyLjY3LS43MTIuNjU1LS43MjkuNjQzLS43MzEuNjMtLjc1Mi42MTUtLjc1NC42MDEtLjc2Ni41OTZMMjcgNDloLS4wMDVsLTEuNTE1LTEuMTQ4LS43NTQtLjU5OS0uNzUtLjYxNy0uNzMtLjYzLS43My0uNjQ0LS43MTQtLjY1NS0uNzA4LS42NjMtLjY5NC0uNjg0LS42OC0uNjktLjY3NC0uNy0uNjYzLS43MS0uNjQ1LS43MjUtLjYzNC0uNzM3LS42MjgtLjc0Ni0uNjA4LS43Ni0uNi0uNzYzLS41ODgtLjc4Mi0uNTc0LS43ODYtLjU2LS43OTMtLjU0Ny0uODA1IDguODA3LTcuNTc4TDIzLjg4MyAyNWwxLjM5NyAxLjIwNC4xNjEuMTIzLjE2Ni4xMTUuMTcyLjEwNS4xODEuMDgzLjE4Ny4wNzMuMTk1LjA1Ni4xOTIuMDQuMi4wMzYuMjY3LjAxMi4xOTYtLjAxMi4yLS4wMjMuMTk4LS4wMzMuMTktLjA1NS4xOTItLjA2OC4xOC0uMDgyLjE3Mi0uMDk3LjE3NS0uMTA5LjIxMy0uMTY0TDMwLjExNCAyNWwyLjA3NyAxLjc4NXoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNNi4zNDIgOS4xOTNMMjUgMjUuMDEzbC0yLjU1NyAyLjE2OEwxMy4yMTggMzVsLS43MDYtMS4zMTItLjU0NC0xLjA2My0uNTE2LTEuMDctLjUxMS0xLjA4LS40ODUtMS4wOUw5Ljk4IDI4LjNsLS40NTItMS4xMDUtLjQzNS0xLjExMi0uNDEtMS4xMTMtLjM5NS0xLjEzLS4zODUtMS4xMy0uMzUzLTEuMTM0LS4zNDYtMS4xMzgtLjMyMi0xLjE0OC0uMzAzLTEuMTUxLS4yOC0xLjE2Ni0uMjcxLTEuMTYzLS4yMzctMS4xNjItLjIzLTEuMTctLjEyMy0uNzE2LS4wODEtLjQ2NC0uMTkxLTEuMThMNSA5Ljk0di0uMjE3bC4wMjgtLjExOC4wMzItLjExNC4wNTctLjEuMDYzLS4xLjA4NS0uMDgyLjA5OS0uMDc1LjA5OS0uMDU3LjEwNi0uMDQyLjExMy0uMDI1TDUuNzk4IDloLjEyNGwuMTE3LjAyOS4xMDUuMDM5LjEwNi4wNnpNNDUgOC4yMzdMMjcuNTAzIDIzIDEwIDguMjM3bC45NjItLjM1Ny44NDItLjI5Ljg0LS4yNzkuODUzLS4yNjEuODU2LS4yNDQuODUyLS4yMzUuODYyLS4yMTIuODY3LS4yLjg2Ny0uMTg2Ljg3Mi0uMTY5Ljg3Ni0uMTU0Ljg3My0uMTM2Ljg4MS0uMTIyLjg4Mi0uMTAyLjg4MS0uMDg3Ljg4OC0uMDc1Ljg4Ny0uMDU1Ljg4Ny0uMDM4Ljg4Mi0uMDMuODkzLS4wMDUgMS4wMjMuMDE1Ljg4Ny4wMjYuODg4LjA0Ljg4Ny4wNjEuODgxLjA3Ni44ODIuMDg3Ljg4MS4xMDcuODgyLjEyMi44NzguMTQyLjg3My4xNTcuODcuMTY2Ljg2Ny4xODYuODY3LjIuODYyLjIyNi44NTIuMjMuODU2LjI1Ljg0Ny4yNi44NC4yOC44NDIuMjk1eiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNFNzRDM0MiIGQ9Ik0xOC41OTYgMjQuNjg0bDEuOTgtMS42NzJMNi4xMzQgMTAuODFsLS4wNzEtLjA1LS4wODItLjA0Ni0uMDgyLS4wMy0uMDktLjAyMmgtLjA5NmwtLjA5LjAwOC0uMDg3LjAyLS4wODMuMDMyLS4wNzYuMDQ0LS4wNzcuMDU4LS4wNjUuMDYzLS4wNS4wNzctLjA0My4wNzctLjAyNS4wODgtLjAyMi4wOTF2LjE2OGwuMTI5LjkwNy4xNDcuOTEuMDYzLjM1OC4wOTYuNTUzLjE3OC45MDIuMTgzLjg5Ni4yMS44OTcuMjE2Ljg5OS4yMzUuODg4LjI1Ljg4Ni4yNjcuODc3LjI3My44NzQuMjk4Ljg3Mi4zMDYuODcyLjMxNy44NTguMzM3Ljg1OC4zNS44NTIuMzY5LjgzNy4zNzQuODQxLjM5Ni44MzMuNC44MjUuNDIuODIuNTQ3IDEuMDEyIDcuMTQtNi4wMzF6TTM5LjgwNCAzNi42bDEuMDM5LTEuNDc3LTguMzk1LTcuMDk4LTEuOTgtMS42NzItMS4zMyAxLjEyOC0uMjAzLjE1NC0uMTY3LjEwMS0uMTY0LjA5MS0uMTcyLjA3Ny0uMTgzLjA2NC0uMTguMDUyLS4xOS4wMy0uMTkuMDIyLS4xODYuMDExLS4yNTUtLjAxMS0uMTkxLS4wMzMtLjE4My0uMDM5LS4xODYtLjA1Mi0uMTc4LS4wNjktLjE3Mi0uMDc3LS4xNjQtLjA5OS0uMTU4LS4xMDctLjE1NC0uMTE1LTEuMzMtMS4xMjgtMS45OCAxLjY3Mi04LjM5MiA3LjA5OC41MjIuNzU0LjUzMy43NDIuNTQ3LjczNy41Ni43MzEuNTcyLjcxNS41OC43MTMuNTk4LjY5OC42MDQuNjkuNjE1LjY4LjYzMi42NjUuNjQyLjY1NS42NDguNjQ2LjY2MS42NC42NzUuNjIyLjY4MS42MTQuNjk0LjYwMi42OTcuNTkxLjcxNC41NzguNzE5LjU2IDEuNDQzIDEuMDc2aC4wMDZsLjczOC0uNTM3LjczLS41NTguNzE4LS41NjQuNzE3LS41NzQuNjk3LS41OTEuNjk0LS42MDMuNjc4LS42MTMuNjctLjYyNy42NjItLjYzNS42NTUtLjY0Ny42MzUtLjY2LjYyOC0uNjY1LjYxOC0uNjguNjA0LS42ODQuNTk5LS43MDcuNTgtLjcwMS41Ny0uNzIzLjU2MS0uNzI2LjU0Ny0uNzM3ek0yNy41MDMgMjIuMTczTDQ0LjA1MiA4LjE5bC0uNzg3LS4yOTUtLjc5Ni0uMjgtLjc5NS0uMjY0LS44MDEtLjI0OC0uODEtLjIzNi0uODA2LS4yMTgtLjgxNC0uMjE0LS44Mi0uMTktLjgyLS4xNzYtLjgyMy0uMTU3LS44MjYtLjE0OC0uODMxLS4xMzUtLjgzNC0uMTE1LS44MzMtLjEwMi0uODM0LS4wODItLjgzNC0uMDcyLS44MzktLjA1OC0uODQtLjAzOC0uODM5LS4wMjUtLjk2Ny0uMDE0LS44NDUuMDA2LS44MzQuMDI3LS44NC4wMzYtLjgzOC4wNTItLjg0LjA3Mi0uODMzLjA4Mi0uODM0LjA5Ny0uODM0LjExNS0uODI1LjEzLS44MjkuMTQ1LS44MjUuMTYtLjgyLjE3Ni0uODIuMTktLjgxNS4yLS44MDYuMjIzLS44MS4yMy0uODA2LjI0OC0uNzk1LjI2NC0uNzk2LjI3NS0uOTEuMzM5IDE2LjU1NSAxMy45ODN6TTQ5LjkxIDExLjI5N2wtLjAwNS0uMDk2LS4wMi0uMDgzLS4wMzItLjA5LS4wNDQtLjA3OC0uMDU3LS4wNzYtLjA2My0uMDY0LS4wNzctLjA1LS4wNzYtLjA0Ni0uMDktLjAzLS4wODgtLjAyMmgtLjA5bC0uMDkuMDA4LS4wODguMDItLjA4Mi4wMzItLjE0LjA4OC0xNC40NDQgMTIuMjAyIDEuOTggMS42NzIgNy4xNCA2LjAzLjQzNy0uODA1LjQyLS44MjIuNDA4LS44MTcuNDAyLS44MzMuMzgtLjgzNC4zNjMtLjg0NC4zNTYtLjg1Mi4zMzYtLjg1My4zMzQtLjg1OC4zMDYtLjg2My4yOTgtLjg3Mi4yNzktLjg3Ny4yNzMtLjg3OC4yNDYtLjg4Mi4yNDMtLjg5MS4yMjQtLjg5Ny4yMDgtLjg5LjE5MS0uOTAzLjE4LS45MDUuMTQtLjc3NS4wMjUtLjEyNy4xNDUtLjkxLjE2Ny0xLjEzOC4wMDUtLjA5MXptNS4wOS0uMTAydi4yOTRsLS4wMjIuMjk1LS4wMy4yODgtLjIzIDEuNTY4LS4xNjQuOTUxLS4xNzIuOTQ3LS4xOTEuOTQ1LS4yMS45NDQtLjIxNy45NC0uMjM1LjkzNS0uMjU0LjkzLS4yNjguOTI3LS4yNzkuOTI0LS4yOTIuOTE1LS4zMTIuOTE2LS4zMTcuOTEtLjM0NC45MDItLjM1Ljg5Ny0uMzY5Ljg5LS4zODMuODgzLS4zOTMuODgzLS40MDguODcyLS40MjYuODY0LS40MzIuODYtLjQ1MS44NS0uNDY1Ljg0Ny0uNDc2LjgzOS0uNDkyLjgyNS0uNTAzLjgyMi0uNTEzLjgxMS0uNTI4LjgwOS0uNTQ3Ljc5Mi0uNTU1Ljc4Ni0uNTY2Ljc3Ni0uNTguNzctLjU5Ljc2MS0uNjA0Ljc0OC0uNjE1LjczNy0uNjI2LjczMi0uNjQyLjcyMy0uNjQ4LjcwNC0uNjYyLjY5OS0uNjcyLjY5My0uNjguNjctLjY5NS42NjYtLjcwNS42Ni0uNzE0LjY0MS0uNzI0LjYzNS0uNzM4LjYxMy0uNzQ2LjYwOC0uNzUuNTk3LS43NjIuNTgzLS43NzcuNTctLjc4MS41NTgtLjc4OC41NS0uODAzLjUzMy0uODAxLjUxNy0xLjMyLS44NjYtLjc5Ni0uNTM3LS43OS0uNTUtLjc3Ny0uNTY5LS43NjUtLjU3Ny0uNzU0LS41OTctLjc1Mi0uNi0uNzM2LS42MTUtLjcyNy0uNjI3LS43MTktLjYzNi0uNzEtLjY1NC0uNjk0LS42Ni0uNjg3LS42NzEtLjY4LS42ODUtLjY2Mi0uNjk4LS42NTYtLjcwNC0uNjQyLS43MTMtLjYzLS43MjgtLjYyMi0uNzM4LS42MDQtLjc0Mi0uNi0uNzU2LS41ODItLjc2Ny0uNTczLS43NzYtLjU1My0uNzgxLS41NDktLjc5NS0uNTMzLS44LS41MjItLjgwNi0uNTA5LS44MjItLjQ5NS0uODI1LS40ODMtLjgzMy0uNDY1LS44NDQtLjQ2LS44NDctLjQzNy0uODU4LS40MjYtLjg2NC0uNDIxLS44NzItLjM5NC0uODc3LS4zODgtLjg4My0uMzc1LS44ODUtLjM1Ny0uODk3LS4zNDItLjkwMi0uMzMtLjkwMi0uMzEzLS45MTUtLjMtLjkxNi0uMjg1LS45MjItLjI3My0uOTI0LS4yNTQtLjkyNi0uMjQ0LS45MzgtLjIyMS0uOTM1LS4yMTYtLjk0LS4xOTEtLjk1LS4xODQtLjk0NS0uMTY2LS45NDktLjE1My0uOTU0LS4xMzQtLjk1NC0uMDQ0LS41NS0uMDA4LS4yOS4wMTQtLjI5Ni4wMjQtLjI4Ni4wMzgtLjI4OS4wNi0uMjg2LjA2My0uMjkyLjA4LS4yNjYuMDAyLS4wMDkuMTAxLS4yNzQuMTEtLjI3LjEyNi0uMjcuMTM0LS4yNTUuMTUzLS4yNS4xNTgtLjIzNC4xNzgtLjI0LjE4Ni0uMjIyLjE5Ni0uMjEyLjIxMS0uMjA2LjIxNi0uMTkzLjIzLS4xODQuMjM1LS4xNjUuMjQtLjE2Mi4yNTctLjE0NiAxLjU0LS44MDMuNzkyLS4zOS43OTYtLjM3Mi44MDYtLjM1Ny44MDktLjM1NS44Mi0uMzI1LjgyLS4zMjEuODI4LS4zMDUuODMxLS4yOS44NDItLjI3NC44MzctLjI2Mi44NDctLjI0NC44NTMtLjIzMS44NTMtLjIxOC44NTgtLjIwNi44NTktLjE4NC44NjQtLjE3My44NjYtLjE2My44Ny0uMTM3Ljg3MS0uMTMuODczLS4xMTUuODc3LS4wOTYuODc3LS4wODMuODc4LS4wNzEuODgtLjA1Mi44ODMtLjAzNi44NzgtLjAyOC44ODMtLjAwNSAxLjczNi4wMzMuODc3LjAzNi44OC4wNTIuODc4LjA2My44NzcuMDg2Ljg3OC4wOTYuODcyLjExNS44NzIuMTI3Ljg3LjE0My44NjYuMTU2Ljg2My4xNzYuODY3LjE4NS44NS4yMDYuODU5LjIxNy44NDcuMjMxLjg0NC4yNDIuODQ4LjI2NC44My4yNzUuODM1LjI4Ni44MjguMzA4LjgyNi4zMTQuODE0LjMzNS44MTUuMzQ3LjguMzU0LjgwMi4zOC43ODcuMzg1Ljc5LjQwMi43NzYuNDEyLjQ3LjI4Ni4yMzYuMTY4LjIzLjE3OS4yMTUuMTkyLjIxLjIwNi4xOTcuMjEuMTkyLjIyNS4xNzIuMjI4LjE2NC4yNDUuMTUzLjI1LjE0LjI1Ni4xMjUuMjY0LjExLjI2Ni4xMDQuMjc4LjAxMy4wNDR2LjAwM2wuMDY2LjIyOC4wNzQuMjg2LjA1NC4yODQuMDQ3LjI4OC4wMjQuMjk0LjAxNC4yOXoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjMDAwIiBkPSJNNTMuODU1IDkuNjg1bC0uMTU3LS4xMjMtLjE2NS0uMTE3LS4xNzItLjEwMy0uMTc2LS4wOTFMNTMgOS4xNzNsLS4xOS0uMDYzLS4xOS0uMDQ2LS4xOTYtLjAzOS0uMTk0LS4wMThMNTIuMDI3IDlsLS4xOTYuMDA3LS4xOTUuMDI1LS4xOTYuMDMyLS4xOTcuMDUyLS4xOS4wNjQtLjE3Ni4wNzgtLjE4NC4wOTgtLjE2NS4xMDMtLjI3Ny4yMDgtMS41IDEuMjg4LTE0LjM2NSAxMi4zMy0zLjkzNSAzLjM3OC0xLjMyMiAxLjE0LS4yMDIuMTU1LS4xNjUuMTAzLS4xNjUuMDkxLS4xNy4wNzgtLjE4My4wNjMtLjE3OS4wNTMtLjE4OC4wMzItLjE5LjAyLS4xODUuMDEyLS4yNTItLjAxMS0uMTktLjAzMi0uMTgzLS4wNC0uMTg0LS4wNTItLjE3Ni0uMDctLjE3Mi0uMDc4LS4xNjMtLjA5OC0uMTU5LS4xMS0uMTUyLS4xMTYtMS4zMjItMS4xNC0zLjkzNS0zLjM3OEw2LjI1IDEwLjk1NSA0Ljc1MSA5LjY2N2wtLjE1OC0uMTI0LS4xNjYtLjExNi0uMTctLjEwNS0uMTc2LS4wODItLjE5LS4wNzgtLjE5LS4wNi0uMTktLjA0NS0uMTk2LS4wMzktLjE5Ny0uMDExTDIuOTE3IDlsLS4xOTcuMDExLS4xOTYuMDItLjE5Ny4wNDctLjE5NC4wNS0uMTg2LjA2Ni0uMTgzLjA4NC0uMTc2LjA5LS4xNy4xMS0uMTU5LjExNkwxIDkuODI3bDQuNTQ3IDMuOTAzLjAwNi4wMDUgMTMuMDkzIDExLjI0IDMuOTM0IDMuMzc4IDEuNjY1IDEuNDMuMjEuMTY5LjIxNC4xNjIuMjIxLjE0Mi4yMzUuMTM3LjIzNC4xMi4yNDYuMTA2LjI0OC4wOTYuMjUzLjA4NC4yNi4wNjQuMjU4LjA1My4yNi4wNDUuMjY1LjAyNi4zNTMuMDEzLjI2Mi0uMDEzLjI2My0uMDE5LjI2Ni0uMDMyLjI2LS4wNTIuMjYtLjA2NC4yNTMtLjA3OC4yNDYtLjA5MS4yNDgtLjEwMy4yNC0uMTE2LjIyNy0uMTMuMjI4LS4xMzguMjIxLS4xNTUuMjgtLjIyNiAxLjY2NC0xLjQzIDMuOTM0LTMuMzc4IDEzLjA5NS0xMS4yNC4wMDQtLjAwNUw1NCA5LjgyN3oiIG9wYWNpdHk9Ii4xMiIvPgogICAgPC9nPjxwYXRoIGZpbGw9IiNjZmQwZDIiIGQ9Ik0yMCwzNWMtOC4yNzEsMC0xNS02LjcyOS0xNS0xNVMxMS43MjksNSwyMCw1czE1LDYuNzI5LDE1LDE1UzI4LjI3MSwzNSwyMCwzNXogTTIwLDUuMjAzJiMxMDsgICAgQzExLjg0MSw1LjIwMyw1LjIwMywxMS44NDEsNS4yMDMsMjBjMCw4LjE1OSw2LjYzOCwxNC43OTcsMTQuNzk3LDE0Ljc5N1MzNC43OTcsMjguMTU5LDM0Ljc5NywyMCYjMTA7ICAgIEMzNC43OTcsMTEuODQxLDI4LjE1OSw1LjIwMywyMCw1LjIwM3oiPgogIDwvcGF0aD48cGF0aCBmaWxsPSIjY2ZkMGQyIiBkPSJNMjAsMzMuMTI1Yy03LjIzNywwLTEzLjEyNS01Ljg4OC0xMy4xMjUtMTMuMTI1UzEyLjc2Myw2Ljg3NSwyMCw2Ljg3NVMzMy4xMjUsMTIuNzYzLDMzLjEyNSwyMCYjMTA7ICAgIFMyNy4yMzcsMzMuMTI1LDIwLDMzLjEyNXogTTIwLDcuMDc4QzEyLjg3NSw3LjA3OCw3LjA3OCwxMi44NzUsNy4wNzgsMjBjMCw3LjEyNSw1Ljc5NywxMi45MjIsMTIuOTIyLDEyLjkyMiYjMTA7ICAgIFMzMi45MjIsMjcuMTI1LDMyLjkyMiwyMEMzMi45MjIsMTIuODc1LDI3LjEyNSw3LjA3OCwyMCw3LjA3OHoiPgogIDwvcGF0aD48cGF0aCBmaWxsPSIjM2E0ZTYzIiBzdHJva2U9IiMzYTRlNjMiIHN0cm9rZS13aWR0aD0iMC42MDI3IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik01LjIwMywyMCYjMTA7JiM5OyYjOTsmIzk7YzAtOC4xNTksNi42MzgtMTQuNzk3LDE0Ljc5Ny0xNC43OTdWNUMxMS43MjksNSw1LDExLjcyOSw1LDIwczYuNzI5LDE1LDE1LDE1di0wLjIwM0MxMS44NDEsMzQuNzk3LDUuMjAzLDI4LjE1OSw1LjIwMywyMHoiIHRyYW5zZm9ybT0icm90YXRlKDApIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZnJvbT0iMCAyMCAyMCIgdG89IjM2MCAyMCAyMCIgY2FsY01vZGU9InNwbGluZSIga2V5U3BsaW5lcz0iMC40LCAwLCAwLjIsIDEiIGtleVRpbWVzPSIwOzEiIGR1cj0iMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+ICAgICAgCiAgIDwvcGF0aD48cGF0aCBmaWxsPSIjZTc0YzNjIiBzdHJva2U9IiNlNzRjM2MiIHN0cm9rZS13aWR0aD0iMC4yMDI3IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjA3OCwyMCYjMTA7ICBjMC03LjEyNSw1Ljc5Ny0xMi45MjIsMTIuOTIyLTEyLjkyMlY2Ljg3NUMxMi43NjMsNi44NzUsNi44NzUsMTIuNzYzLDYuODc1LDIwUzEyLjc2MywzMy4xMjUsMjAsMzMuMTI1di0wLjIwMyYjMTA7ICBDMTIuODc1LDMyLjkyMiw3LjA3OCwyNy4xMjUsNy4wNzgsMjB6IiB0cmFuc2Zvcm09InJvdGF0ZSgwKSI+CiAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiBmcm9tPSIwIDIwIDIwIiB0bz0iMzYwIDIwIDIwIiBkdXI9IjEuOHMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+CiAgICA8L3BhdGg+PC9nPjwvc3ZnPg==';\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\n\nimport { apiUrl } from '../../shared/config';\nimport { Timezone } from '../datatypes';\n\n@Injectable()\nexport class TimezoneService {\n  constructor(private http: HttpClient) {}\n\n  getTimezones() {\n    return this.http.get<Timezone[]>(`${apiUrl}data/timezones/`).pipe(map((item: any) => item.timezones));\n  }\n}\n","import { Observable, throwError as observableThrowError } from 'rxjs';\nimport { Injectable, Injector } from '@angular/core';\nimport {\n  HttpErrorResponse,\n  HttpEvent,\n  HttpHandler,\n  HttpInterceptor,\n  HttpRequest,\n  HttpResponse,\n} from '@angular/common/http';\nimport { Store } from '@ngrx/store';\nimport { catchError, tap } from 'rxjs/operators';\n\nimport {\n  Logout,\n  PaymentFailure,\n  StopGettingUnreadMailsCount,\n  SetAuthenticatedState,\n  ClearMailsOnLogout,\n} from '../actions';\nimport { AppState, AuthState } from '../datatypes';\nimport { apiUrl } from '../../shared/config';\nimport { WebsocketService } from '../../shared/services/websocket.service';\n\nimport { UsersService } from './users.service';\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n  private authService: UsersService;\n\n  private isAuthenticated = false;\n\n  constructor(private injector: Injector, private store: Store<AppState>, private websocketService: WebsocketService) {\n    this.store\n      .select(state => state.auth)\n      .pipe()\n      .subscribe((authState: AuthState) => {\n        this.isAuthenticated = authState.isAuthenticated;\n      });\n  }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    this.authService = this.injector.get(UsersService);\n    request = request.clone({\n      withCredentials: true,\n    });\n\n    return next.handle(request).pipe(\n      tap(event => {\n        if (event instanceof HttpResponse) {\n          if (\n            event.ok &&\n            event.url.includes(apiUrl) &&\n            !event.url.includes('auth/sign-out') &&\n            !event.url.includes('auth/sign-in') &&\n            !this.isAuthenticated\n          ) {\n            this.store.dispatch(new SetAuthenticatedState({ isAuthenticated: true }));\n          }\n        }\n      }),\n      catchError((error: any) => {\n        if (error instanceof HttpErrorResponse) {\n          if (error.status === 401 && !error.url.includes('auth/sign-out')) {\n            this.websocketService.disconnect();\n            this.store.dispatch(new ClearMailsOnLogout());\n            this.store.dispatch(new Logout({ session_expired: true }));\n          } else if (error.status === 423) {\n            this.store.dispatch(new StopGettingUnreadMailsCount());\n            this.store.dispatch(new PaymentFailure());\n          }\n        }\n        if (error.error.error) {\n          error.error = error.error.error.error;\n        } else if (error.error.detail) {\n          error.error = error.error.detail;\n        }\n        return observableThrowError(error);\n      }),\n    );\n  }\n}\n","import { HttpClient, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { distinctUntilChanged, map, tap } from 'rxjs/operators';\nimport { Observable, of } from 'rxjs';\nimport { Store } from '@ngrx/store';\nimport * as bcrypt from 'bcryptjs';\n\nimport { LogInSuccess } from '../actions';\nimport {\n  apiUrl,\n  PRIMARY_DOMAIN,\n  PROMO_CODE_KEY,\n  REFFERAL_CODE_KEY,\n  REFFERAL_ID_KEY,\n  JWT_AUTH_COOKIE,\n} from '../../shared/config';\nimport { AppState, AutoResponder, Contact, Settings, AuthState } from '../datatypes';\nimport { Filter } from '../models/filter.model';\n\n@Injectable()\nexport class UsersService {\n  private userKey: string;\n\n  constructor(private http: HttpClient, private router: Router, private store: Store<AppState>) {\n    this.store\n      .select(state => state.auth)\n      .pipe(distinctUntilChanged((previous, current) => previous.isAuthenticated === current.isAuthenticated))\n      .subscribe((authState: AuthState) => {\n        if (authState.isAuthenticated && this.getUserKey()) {\n          this.store.dispatch(new LogInSuccess({}));\n        }\n      });\n  }\n\n  setTokenExpiration() {\n    const expiration = new Date().getTime() + 1000 * 60 * 60 * 3; // set 3 hours expiration token time.\n    localStorage.setItem('token_expiration', expiration.toString());\n  }\n\n  refreshToken(): Observable<any> {\n    if (this.doesHttpOnlyCookieExist(JWT_AUTH_COOKIE)) {\n      const body = {};\n      const url = `${apiUrl}auth/refresh/`;\n      return this.http.post<any>(url, body).pipe(\n        tap(data => {\n          this.setTokenExpiration();\n        }),\n      );\n    }\n    return of({});\n  }\n\n  isTokenExpired() {\n    return +localStorage.getItem('token_expiration') < new Date().getTime();\n  }\n\n  signIn(body): Observable<any> {\n    const requestData: any = { ...body };\n    requestData.username = this.trimUsername(requestData.username);\n    requestData.password = this.hashData(requestData);\n    const url = `${apiUrl}auth/sign-in/`;\n    return this.http.post<any>(url, requestData).pipe(\n      tap(data => {\n        if (data.token) {\n          this.setLoginData(data, body);\n        }\n      }),\n    );\n  }\n\n  trimUsername(username: string) {\n    username = username.toLowerCase();\n    if (username.split('@')[1] === PRIMARY_DOMAIN) {\n      username = username.split('@')[0];\n    }\n    return username;\n  }\n\n  private hashData(requestData: any, field = 'password'): string {\n    const username = requestData.username.toLowerCase();\n    const salt = this.createSalt('$2a$10$', username);\n    return bcrypt.hashSync(requestData[field], salt);\n  }\n\n  private createSalt(salt, username) {\n    username = username.replace(/[^ A-Za-z]/g, '');\n    username = username || 'test';\n    if (salt.length < 29) {\n      return this.createSalt(salt + username, username);\n    }\n    return salt.slice(0, 29);\n  }\n\n  private setLoginData(tokenResponse: any, requestData) {\n    this.userKey = btoa(requestData.password);\n    this.setTokenExpiration();\n    localStorage.setItem('user_key', this.userKey);\n    localStorage.removeItem(PROMO_CODE_KEY);\n    localStorage.removeItem(REFFERAL_CODE_KEY);\n  }\n\n  signOut() {\n    this.router.navigateByUrl('/signin');\n    localStorage.removeItem('token_expiration');\n    localStorage.removeItem('user_key');\n    localStorage.removeItem(PROMO_CODE_KEY);\n  }\n\n  expireSession() {\n    this.userKey = null;\n    localStorage.removeItem('user_key');\n    this.router.navigateByUrl('/signin');\n    return this.http.get(`${apiUrl}auth/sign-out/`);\n  }\n\n  onBeforeLoader(e) {\n    const confirmationMessage =\n      \"If you close the window now all the progress will be lost and your account won't be created.\";\n    (e || window.event).returnValue = confirmationMessage; // Gecko + IE\n    return confirmationMessage; // Gecko + Webkit, Safari, Chrome etc.\n  }\n\n  signUp(user): Observable<any> {\n    const requestData = { ...user, timezone_offset: new Date().getTimezoneOffset() };\n    const referralCode = localStorage.getItem(REFFERAL_CODE_KEY);\n    if (referralCode) {\n      requestData[REFFERAL_CODE_KEY] = referralCode;\n    }\n    requestData.password = this.hashData(requestData);\n    return this.http.post<any>(`${apiUrl}auth/sign-up/`, this.updateSignupDataWithPromo(requestData)).pipe(\n      tap(data => {\n        this.setLoginData(data, user);\n      }),\n    );\n  }\n\n  recoverPassword(data): Observable<any> {\n    return this.http.post<any>(`${apiUrl}auth/recover/`, data);\n  }\n\n  resetPassword(data): Observable<any> {\n    const requestData = { ...data };\n    requestData.password = this.hashData(requestData);\n    return this.http.post<any>(`${apiUrl}auth/reset/`, requestData).pipe(\n      tap(res => {\n        this.setLoginData(res, data);\n      }),\n    );\n  }\n\n  changePassword(data): Observable<any> {\n    const requestData = { ...data };\n    requestData.old_password = this.hashData(requestData, 'old_password');\n    requestData.password = this.hashData(requestData, 'password');\n    requestData.confirm_password = this.hashData(requestData, 'confirm_password');\n    delete requestData.username;\n    return this.http.post<any>(`${apiUrl}auth/change-password/`, requestData).pipe(\n      tap(response => {\n        this.setLoginData(response, data);\n      }),\n    );\n  }\n\n  verifyToken(): Observable<any> {\n    const body = { token: localStorage.getItem('token') };\n    const url = `${apiUrl}auth/verify/`;\n    return this.http.post<any>(url, body);\n  }\n\n  getUserKey(): string {\n    return this.userKey || localStorage.getItem('user_key');\n  }\n\n  getNecessaryTokenUrl(url) {\n    url = url.replace(apiUrl, '');\n    const authenticatedUrls: string[] = [\n      'users/myself/',\n      'users/users/',\n      'users/payment-method/',\n      'users/payment-method/add/',\n      'users/payment-method/delete/',\n      'users/whitelist/',\n      'users/blacklist/',\n      'users/contact',\n      'users/bulk-contact/create/',\n      'users/filters/',\n      'emails/messages/',\n      'emails/mailboxes',\n      'emails/custom-folder',\n      'emails/unread/',\n      'emails/customfolder-message-count/',\n      'users/settings',\n      'emails/attachments',\n      'emails/keys',\n      'auth/upgrade',\n      'auth/change-password',\n      'auth/delete',\n      'emails/domains',\n      'search/messages',\n      'domains/verify',\n      'emails/mailbox-order',\n      'emails-forward/send-verification-code',\n      'emails-forward/verify-verification-code',\n      'emails/folder-order',\n      'emails/empty-folder',\n      'users/autoresponder',\n      'users/invoices',\n      'auth/sign-out/',\n      'auth/add-user/',\n      'auth/update-user/',\n      'emails/domain-users/',\n      'auth/otp-secret/',\n      'auth/enable-2fa/',\n      'users/contact-bulk-update/',\n      'emails/delete-message/',\n      'users/prorated',\n      'btc-wallet/create/',\n      'promo-code/validate',\n      'users/invites/',\n      'notifications',\n    ];\n    if (authenticatedUrls.includes(url)) {\n      return true;\n    }\n    let authenticated = false;\n    authenticatedUrls.forEach(item => {\n      if (url.includes(item)) {\n        authenticated = true;\n      }\n    });\n    return authenticated;\n  }\n\n  getAccounts(id) {\n    return this.http.get<any>(`${apiUrl}users/users/${id}/`);\n  }\n\n  getAccountDetails() {\n    return this.http.get<any>(`${apiUrl}users/myself/`).pipe(map(data => data.results));\n  }\n\n  getWhiteList(limit = 0, offset = 0) {\n    const url = `${apiUrl}users/whitelist/?limit=${limit}&offset=${offset}`;\n    const body = {};\n    return this.http.get<any>(url, body);\n  }\n\n  addWhiteList(email, name) {\n    const url = `${apiUrl}users/whitelist/`;\n    const body = { email, name };\n    return this.http.post<any>(url, body);\n  }\n\n  updateSettings(data: Settings) {\n    return this.http.patch<any>(`${apiUrl}users/settings/${data.id}/`, data);\n  }\n\n  deleteWhiteList(id) {\n    const url = `${apiUrl}users/whitelist/${id}/`;\n    const body = {};\n    return this.http.delete<any>(url, body);\n  }\n\n  getBlackList(limit = 0, offset = 0) {\n    const url = `${apiUrl}users/blacklist/?limit=${limit}&offset=${offset}`;\n    const body = {};\n    return this.http.get<any>(url, body);\n  }\n\n  addBlackList(email, name) {\n    const url = `${apiUrl}users/blacklist/`;\n    const body = { email, name };\n    return this.http.post<any>(url, body);\n  }\n\n  deleteBlackList(id) {\n    const url = `${apiUrl}users/blacklist/${id}/`;\n    const body = {};\n    return this.http.delete<any>(url, body);\n  }\n\n  getContact(limit = 0, offset = 0, query = '') {\n    return this.http.get<any>(`${apiUrl}users/contacts/?limit=${limit}&offset=${offset}&q=${query}`);\n  }\n\n  getEmailContacts() {\n    return this.http.get<any>(`${apiUrl}users/contacts-v1/`);\n  }\n\n  updateBatchContacts(data: any) {\n    return this.http.post<any>(`${apiUrl}users/contact-bulk-update/`, data);\n  }\n\n  getInvoices() {\n    return this.http.get<any>(`${apiUrl}users/invoices/`);\n  }\n\n  getUpgradeAmount(data: any) {\n    return this.http.post<any>(`${apiUrl}users/prorated/`, data);\n  }\n\n  validatePromoCode(data: any) {\n    return this.http.post<any>(`${apiUrl}promo-code/validate/`, data);\n  }\n\n  getInviteCodes() {\n    return this.http.get<any>(`${apiUrl}users/invites/`).pipe(map(response => response.results));\n  }\n\n  generateInviteCodes() {\n    return this.http.post<any>(`${apiUrl}users/invites/`, {});\n  }\n\n  addContact(payload: Contact) {\n    const url = `${apiUrl}users/contacts/`;\n    if (payload.id) {\n      return this.http.patch<any>(`${url}${payload.id}/`, payload);\n    }\n    return this.http.post<any>(url, payload);\n  }\n\n  deleteContact(ids) {\n    if (ids === 'all') {\n      return this.http.delete<any>(`${apiUrl}users/contacts/?selectAll=true`);\n    }\n    return this.http.delete<any>(`${apiUrl}users/contacts/?id__in=${ids}`);\n  }\n\n  notifyContact(payload: any) {\n    return this.http.post<any>(`${apiUrl}notify-contacts/`, payload);\n  }\n\n  importContacts(data: any) {\n    const formData = new FormData();\n    formData.append('csv_file', data.file);\n    formData.append('provider', data.provider);\n\n    const request = new HttpRequest('POST', `${apiUrl}users/bulk-contact/create/`, formData);\n\n    return this.http.request(request);\n  }\n\n  checkUsernameAvailability(username): Observable<any> {\n    return this.http.post<any>(`${apiUrl}auth/check-username/`, { username });\n  }\n\n  addOrganizationUser(data: any): Observable<any> {\n    data.password = this.hashData(data, 'password');\n    return this.http.post<any>(`${apiUrl}auth/add-user/`, data);\n  }\n\n  updateOrganizationUser(data: any): Observable<any> {\n    return this.http.post<any>(`${apiUrl}auth/update-user/`, {\n      user_id: data.user_id,\n      recovery_email: data.recovery_email,\n    });\n  }\n\n  deleteOrganizationUser(data: any): Observable<any> {\n    return this.http.post<any>(`${apiUrl}auth/delete-user/`, { username: data.username });\n  }\n\n  getOrganizationUsers(limit = 0, offset = 0) {\n    const url = `${apiUrl}emails/domain-users/?limit=${limit}&offset=${offset}`;\n    return this.http.get<any>(url);\n  }\n\n  upgradeAccount(data) {\n    return this.http.post<any>(`${apiUrl}auth/upgrade/`, this.updateSignupDataWithPromo(data));\n  }\n\n  private updateSignupDataWithPromo(data: any = {}) {\n    // Get cookie for cjevent\n    const referralId = document.cookie.split('; ').find(row => row.startsWith(REFFERAL_ID_KEY));\n    if (referralId) {\n      data[REFFERAL_ID_KEY] = referralId.split('=')[1];\n    }\n    return data;\n  }\n\n  getFilters(limit = 0, offset = 0) {\n    const url = `${apiUrl}users/filters/?limit=${limit}&offset=${offset}`;\n    return this.http.get<any>(url);\n  }\n\n  createFilter(data: Filter) {\n    const url = `${apiUrl}users/filters/`;\n    if (data.id) {\n      return this.http.patch<any>(`${url}${data.id}/`, data);\n    }\n    return this.http.post<any>(url, data);\n  }\n\n  deleteFilter(filterId: number) {\n    return this.http.delete<any>(`${apiUrl}users/filters/${filterId}/`);\n  }\n\n  deleteAccount(data: any) {\n    const requestData = { ...data };\n    requestData.password = this.hashData(requestData);\n    delete requestData.username;\n    return this.http.post<any>(`${apiUrl}auth/delete/`, requestData);\n  }\n\n  getDomains(limit = 0, offset = 0) {\n    const url = `${apiUrl}emails/domains/?limit=${limit}&offset=${offset}`;\n    const body = {};\n    return this.http.get<any>(url, body);\n  }\n\n  createDomain(domain) {\n    const body = { domain };\n    return this.http.post<any>(`${apiUrl}emails/domains/`, body);\n  }\n\n  updateDomain(domain: any) {\n    return this.http.patch<any>(`${apiUrl}emails/domains/${domain.id}/`, domain);\n  }\n\n  readDomain(id: number) {\n    const url = `${apiUrl}emails/domains/${id}/`;\n    const body = {};\n    return this.http.get<any>(url, body);\n  }\n\n  deleteDomain(id: number) {\n    return this.http.delete<any>(`${apiUrl}emails/domains/${id}/`);\n  }\n\n  verifyDomain(id: number) {\n    const url = `${apiUrl}domains/verify/${id}/`;\n    const body = {};\n    return this.http.get<any>(url, body);\n  }\n\n  sendEmailForwardingCode(email: string): Observable<any> {\n    const body = { email };\n    return this.http.post(`${apiUrl}emails-forward/send-verification-code/`, body);\n  }\n\n  verifyEmailForwardingCode(email: string, code: number): Observable<any> {\n    const body = { email, code };\n    return this.http.post(`${apiUrl}emails-forward/verify-verification-code/`, body);\n  }\n\n  saveAutoResponder(autoResponder: AutoResponder): Observable<any> {\n    if (autoResponder.id) {\n      return this.http.patch<any>(`${apiUrl}users/autoresponder/${autoResponder.id}/`, autoResponder);\n    }\n    return this.http.post<any>(`${apiUrl}users/autoresponder/`, autoResponder);\n  }\n\n  getCaptcha(): Observable<any> {\n    return this.http.get<any>(`${apiUrl}auth/captcha/`);\n  }\n\n  get2FASecret(): Observable<any> {\n    return this.http.get<any>(`${apiUrl}auth/otp-secret/`);\n  }\n\n  update2FA(data: any): Observable<any> {\n    data.password = this.hashData(data);\n    return this.http.post<any>(`${apiUrl}auth/enable-2fa/`, data);\n  }\n\n  verifyCaptcha(data: any): Observable<any> {\n    return this.http.post<any>(`${apiUrl}auth/captcha-verify/`, data);\n  }\n\n  getUserNotifications() {\n    return this.http.get<any>(`${apiUrl}notifications`);\n  }\n\n  getPaymentMethods() {\n    return this.http.get<any>(`${apiUrl}users/payment-method/`);\n  }\n\n  addPaymentMethod(data: any) {\n    return this.http.post<any>(`${apiUrl}users/payment-method/add/`, { stripe_token: data });\n  }\n\n  deletePaymentMethod(data: any) {\n    return this.http.post<any>(`${apiUrl}users/payment-method/delete/`, { card_id: data });\n  }\n\n  makePaymentPrimary(data: any) {\n    return this.http.post<any>(`${apiUrl}users/payment-method/make-primary/`, { card_id: data });\n  }\n\n  private handleError<T>(operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n      // TODO: send the error to remote logging infrastructure\n      console.error(error); // log to console instead\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n\n  // TODO\n  // This part is almost trick, but would work perfectly, needs to update later\n  doesHttpOnlyCookieExist(cookiename) {\n    const d = new Date();\n    d.setTime(d.getTime() + 1000);\n    const expires = `expires=${d.toUTCString()}`;\n\n    document.cookie = `${cookiename}=new_value;path=/;${expires}`;\n    if (!document.cookie.includes(`${cookiename}=`)) {\n      return true;\n    }\n    return false;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { EffectsModule } from '@ngrx/effects';\nimport { RouterStateSerializer, StoreRouterConnectingModule } from '@ngrx/router-store';\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\nimport { StoreModule } from '@ngrx/store';\n\nimport { AppConfig } from '../../environments/environment';\n\nimport { logoutReducer } from './reducers/auth.reducers';\n\nimport { CustomSerializer, effects, reducers } from '.';\n\n@NgModule({\n  imports: [\n    EffectsModule.forRoot(effects),\n    StoreModule.forRoot(reducers, { metaReducers: [logoutReducer] }),\n    StoreDevtoolsModule.instrument({ maxAge: 100, logOnly: AppConfig.production }),\n    StoreRouterConnectingModule.forRoot(),\n  ],\n  providers: [{ provide: RouterStateSerializer, useClass: CustomSerializer }],\n})\nexport class AppStoreModule {}\n","import { Action } from '@ngrx/store';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\nimport { EMPTY } from 'rxjs/internal/observable/empty';\nimport { Injectable } from '@angular/core';\nimport { map, switchMap } from 'rxjs/operators';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { of } from 'rxjs/internal/observable/of';\n\nimport { Message } from '../shared/services/websocket.service';\n\nexport enum WebSocketActionTypes {\n  WEB_SOCKET_NEW_MESSAGE = '[WEB_SOCKET] New Message',\n  WEB_SOCKET_CLOSE = '[WEB_SOCKET] Close',\n}\n\nexport class WebSocketNewMessage implements Action {\n  readonly type = WebSocketActionTypes.WEB_SOCKET_NEW_MESSAGE;\n\n  constructor(public payload: any) {}\n}\n\nexport class WebSocketClose implements Action {\n  readonly type = WebSocketActionTypes.WEB_SOCKET_CLOSE;\n\n  constructor(public payload: any) {}\n}\n\nexport type WebSocketActionAll = WebSocketNewMessage | WebSocketClose;\n\n@Injectable()\nexport class WebSocketEffects {\n  constructor(private actions: Actions) {}\n\n  @Effect()\n  webSocketNewMessage: Observable<any> = this.actions.pipe(\n    ofType(WebSocketActionTypes.WEB_SOCKET_NEW_MESSAGE),\n    map((action: WebSocketNewMessage) => action.payload),\n    switchMap(payload => {\n      return of(EMPTY);\n    }),\n  );\n\n  @Effect()\n  webSocketClose: Observable<any> = this.actions.pipe(\n    ofType(WebSocketActionTypes.WEB_SOCKET_CLOSE),\n    map((action: WebSocketClose) => action.payload),\n    switchMap(payload => {\n      return of(EMPTY);\n    }),\n  );\n}\n\nexport interface WebSocketState {\n  message?: Message;\n  isClosed?: boolean;\n}\n\nexport function reducer(state: WebSocketState = {}, action: WebSocketActionAll) {\n  switch (action.type) {\n    case WebSocketActionTypes.WEB_SOCKET_NEW_MESSAGE: {\n      return { message: action.payload, isClosed: false };\n    }\n\n    case WebSocketActionTypes.WEB_SOCKET_CLOSE: {\n      return { isClosed: true, message: null };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","<!-- PAGE SECTION -->\n<section class=\"l-block l-block-text l-block-h-600 gap-p-eq position-relative has-cover decrypt-block\">\n  <div class=\"container position-static\">\n    <div class=\"go-back-holder\">\n      <a routerLink=\"/\" class=\"text-white\" role=\"button\"><i class=\"icon icon-arrow-left icon-sm mr-2\"></i>Go to ctemplar.com</a>\n    </div>\n    <header *ngIf=\"isMessageExpired; else messageNotExpired\" class=\"l-block-header text-center position-relative mb-md-2\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-sm-12 col-md-10 px-sm-5 px-md-0\">\n          <h1 class=\"l-block-title text-white text-uppercase\">\n            <strong>This message has expired</strong>\n          </h1>\n        </div>\n      </div>\n    </header>\n\n    <ng-template #messageNotExpired>\n      <ng-container *ngIf=\"!message || !decryptedContent; else displayMessage\">\n        <header class=\"l-block-header text-center position-relative mb-md-2\">\n          <div class=\"row justify-content-center\">\n            <div class=\"col-sm-12 col-md-10 px-sm-5 px-md-0\">\n              <h1 class=\"l-block-title text-white text-uppercase\">\n                <strong>Decrypt Message</strong>\n              </h1>\n            </div>\n          </div>\n        </header>\n        <div class=\"l-block-body px-xs\">\n          <div class=\"l-content-holder l-form-content-holder mx-auto mt-md-0\">\n            <div class=\"form\">\n              <form class=\"decrypt-form position-relative\" [formGroup]=\"decryptForm\" (submit)=\"onSubmit(decryptForm.value)\">\n                <div class=\"form-group\">\n                  <label for=\"password\" class=\"d-block text-faded text-left hidden-sm-up\">Message password</label>\n                  <div class=\"input-group\">\n                    <input #passwordInput formControlName=\"password\" class=\"form-control form-control-lg border-right-0\" id=\"password\" placeholder=\"Message password\" type=\"password\" name=\"password\" aria-describedby=\"passwordToggle\" />\n                    <span class=\"input-group-addon password-toggle bg-white text-muted\" id=\"passwordToggle\" (click)=\"passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password'\">\n                      <i class=\"fa fa-eye\"></i>\n                    </span>\n                  </div>\n                  <span *ngIf=\"decryptForm.controls['password'].errors && showFormErrors\" class=\"validate-message\">\n                    <span *ngIf=\"decryptForm.controls['password'].errors.required\" [translate]=\"'login.password_required'\">Message password is required.</span>\n                  </span>\n                </div>\n                <div *ngIf=\"errorMessage\" class=\"login-form__failed l-alert l-alert-danger\">{{ errorMessage }}</div>\n                <div class=\"form-group form-user-actions mt-4 pt-sm-2 text-center\">\n                  <button class=\"btn btn-gradient-primary btn-lg login-btn\" role=\"button\" type=\"submit\" [disabled]=\"isLoading\">Decrypt</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </ng-container>\n\n      <ng-template #displayMessage>\n        <app-display-secure-message *ngIf=\"!isReplying; else replyMessage\" [message]=\"message\" [decryptedContent]=\"decryptedContent\" [decryptedSubject]=\"decryptedSubject\" [decryptedKey]=\"secureMessageState.decryptedKey\" [hash]=\"hash\" [secret]=\"secret\" (reply)=\"onReply()\" (expired)=\"onExpired()\"></app-display-secure-message>\n\n        <ng-template #replyMessage>\n          <app-reply-secure-message [sourceMessage]=\"message\" *ngIf=\"message?.is_subject_encrypted === false || decryptedSubject\" [hash]=\"hash\" [secret]=\"secret\" [senderId]=\"senderId\" (cancel)=\"onCancelReply()\" (replySuccess)=\"onReplySuccess()\"></app-reply-secure-message>\n        </ng-template>\n      </ng-template>\n    </ng-template>\n  </div>\n</section>\n\n<img *ngIf=\"isLoading\" class=\"loading-icon\" src=\"assets/icons/spinner.svg\" />\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { GetMessage } from '../../store/actions';\nimport { AppState, SecureContent, SecureMessageState } from '../../store/datatypes';\nimport { Mail } from '../../store/models';\nimport { OpenPgpService, SharedService } from '../../store/services';\nimport { DateTimeUtilService } from '../../store/services/datetime-util.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-decrypt-message',\n  templateUrl: './decrypt-message.component.html',\n  styleUrls: ['./decrypt-message.component.scss'],\n})\nexport class DecryptMessageComponent implements OnInit, OnDestroy {\n  decryptForm: FormGroup;\n\n  hash: string;\n\n  secret: string;\n\n  senderId: string;\n\n  message: Mail;\n\n  decryptedContent: string;\n\n  showFormErrors: boolean;\n\n  errorMessage: string;\n\n  isLoading: boolean;\n\n  isMessageExpired: boolean;\n\n  isReplying: boolean;\n\n  decryptedSubject: string;\n\n  secureMessageState: SecureMessageState;\n\n  constructor(\n    private route: ActivatedRoute,\n    private store: Store<AppState>,\n    private formBuilder: FormBuilder,\n    private sharedService: SharedService,\n    private openPgpService: OpenPgpService,\n    private dateTimeUtilService: DateTimeUtilService,\n  ) {}\n\n  ngOnInit() {\n    this.sharedService.hideEntireFooter.emit(true);\n    this.sharedService.isExternalPage.emit(true);\n\n    this.decryptForm = this.formBuilder.group({\n      password: ['', [Validators.required]],\n    });\n\n    this.route.params.pipe(untilDestroyed(this)).subscribe(parameters => {\n      this.hash = parameters.hash;\n      this.secret = parameters.secret;\n      this.senderId = decodeURIComponent(parameters.senderId);\n      this.store.dispatch(new GetMessage({ hash: this.hash, secret: this.secret }));\n    });\n\n    this.store\n      .select(state => state.secureMessage)\n      .pipe(untilDestroyed(this))\n      .subscribe((state: SecureMessageState) => {\n        this.isLoading = state.inProgress || state.isContentDecryptionInProgress;\n        this.errorMessage = state.errorMessage;\n        if (!this.message && state.message) {\n          // message is loaded so check if it has expired\n          if (this.dateTimeUtilService.isDateTimeInPast(state.message.encryption.expires)) {\n            this.isMessageExpired = true;\n          }\n        }\n        this.message = state.message;\n        if (this.secureMessageState) {\n          if (\n            this.secureMessageState.isKeyDecryptionInProgress &&\n            !state.isKeyDecryptionInProgress &&\n            !state.errorMessage\n          ) {\n            this.openPgpService.decryptSecureMessageContent(state.decryptedKey, new SecureContent(this.message));\n          } else if (this.secureMessageState.isContentDecryptionInProgress && !state.isContentDecryptionInProgress) {\n            this.decryptedContent = state.decryptedContent.content;\n            if (this.message && this.message.is_subject_encrypted) {\n              this.decryptedSubject = state.decryptedContent.subject;\n              this.message.subject = state.decryptedContent.subject;\n            }\n          }\n        }\n        this.secureMessageState = state;\n      });\n  }\n\n  ngOnDestroy() {\n    this.sharedService.hideEntireFooter.emit(false);\n    this.sharedService.isExternalPage.emit(false);\n  }\n\n  onSubmit(data: any) {\n    this.showFormErrors = true;\n    if (this.decryptForm.valid && this.message) {\n      this.isLoading = true;\n      this.openPgpService.decryptSecureMessagePrivKey(this.message.encryption.private_key, data.password);\n    }\n  }\n\n  onReply() {\n    this.isReplying = true;\n  }\n\n  onCancelReply() {\n    this.isReplying = false;\n  }\n\n  onReplySuccess() {\n    this.isReplying = false;\n  }\n\n  onExpired() {\n    this.isMessageExpired = true;\n  }\n}\n","<div class=\"modal-header justify-content-sm-center align-items-center\">\n  <h3 class=\"modal-title w-100 text-dark title\"><strong>Welcome to CTemplar</strong></h3>\n  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"activeModal.dismiss()\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button>\n</div>\n<form [formGroup]=\"changeDisplayNameForm\">\n  <div class=\"modal-body bg-faded\">\n    <div class=\"mb-4 text-holder text-dark text-medium\">\n      <h4 class=\"font-weight-bold\">Backup Your Recovery Key</h4>\n      <p>\n        Please save this recovery key in a safe place, if you forget your password, you can use it to reset your password even if you don't remember your recovery email.\n        <a href=\"https://ctemplar.com/help/answer/what-is-a-recovery-key/\" target=\"_blank\">Learn more</a>\n      </p>\n      <div class=\"bg-white px-3 py-3\">\n        <span class=\"text-dark\"><b>Recovery key: </b>{{ recoveryKey }}</span>\n        <button mat-icon-button (click)=\"copyToClipboard(recoveryKey)\" class=\"copy-btn\">\n          <i class=\"fas fa-copy font-20px\" ngbTooltip=\"Copy to clipboard\"></i>\n        </button>\n      </div>\n    </div>\n    <div class=\"text-holder text-dark text-medium\">\n      <h4 class=\"font-weight-bold\" [translate]=\"'create_account.change_display_name'\">Your Display Name</h4>\n      <p [translate]=\"'create_account.with_email_address'\">This is the display name that will be shown next to your email address.</p>\n      <div class=\"form\">\n        <div class=\"form-group form-group\">\n          <input class=\"form-control text-dark display-name-input\" id=\"displayName\" autocomplete=\"off\" maxlength=\"32\" required [placeholder]=\"'create_account.enter_display_name' | translate\" type=\"text\" name=\"displayName\" formControlName=\"username\" />\n          <span *ngIf=\"changeDisplayNameForm.controls['username'].errors && changeDisplayNameForm.controls['username'].touched\" class=\"validate-message\" [translate]=\"'create_account.display_name_req'\">Enter a valid display name with maximum 32 characters. </span>\n        </div>\n      </div>\n      <p><span [translate]=\"'common.email'\">Email</span>: \"{{ changeDisplayNameForm.controls['username'].value }} <{{ email }}>\". <br /><span [translate]=\"'create_account.can_change_settings'\">You can change this in the settings page later.</span></p>\n    </div>\n  </div>\n  <div class=\"modal-footer justify-content-center\">\n    <button class=\"btn btn-danger submit-display-name-btn\" type=\"submit\" (click)=\"submitDisplayNameForm()\" [disabled]=\"!changeDisplayNameForm.valid || inProgress\" [translate]=\"'settings.compose.confirm'\">Confirm</button>\n    <app-loading-spinner [showSpinner]=\"inProgress\"></app-loading-spinner>\n  </div>\n</form>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, AuthState, MailBoxesState } from '../../../store/datatypes';\nimport { Mailbox } from '../../../store/models';\nimport { MailboxSettingsUpdate } from '../../../store/actions';\nimport { SharedService } from '../../../store/services';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-display-name-dialog',\n  templateUrl: './display-name-dialog.component.html',\n  styleUrls: ['./display-name-dialog.component.scss'],\n})\nexport class DisplayNameDialogComponent implements OnInit, OnDestroy {\n  changeDisplayNameForm: FormGroup;\n\n  email = 'username@ctemplar.com';\n\n  inProgress: boolean;\n\n  recoveryKey: string;\n\n  private selectedMailbox: Mailbox;\n\n  constructor(\n    public activeModal: NgbActiveModal,\n    private store: Store<AppState>,\n    private sharedService: SharedService,\n    private formBuilder: FormBuilder,\n  ) {}\n\n  ngOnInit() {\n    this.changeDisplayNameForm = this.formBuilder.group({\n      username: ['', [Validators.required]],\n    });\n\n    this.store\n      .select(state => state.mailboxes)\n      .pipe(untilDestroyed(this))\n      .subscribe((mailboxesState: MailBoxesState) => {\n        this.inProgress = mailboxesState.inProgress;\n        this.selectedMailbox = mailboxesState.currentMailbox;\n        if (this.selectedMailbox) {\n          this.email = this.selectedMailbox.email;\n        } else if (mailboxesState.mailboxes && mailboxesState.mailboxes[0]) {\n          this.email = mailboxesState.mailboxes[0].email;\n        }\n      });\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        this.recoveryKey = authState.recovery_key;\n      });\n  }\n\n  submitDisplayNameForm() {\n    if (!this.selectedMailbox) {\n      this.close();\n      return;\n    }\n    const dispName = this.changeDisplayNameForm.controls.username.value;\n    if (this.changeDisplayNameForm.valid && dispName !== '') {\n      this.selectedMailbox.display_name = dispName;\n      this.store.dispatch(\n        new MailboxSettingsUpdate({ ...this.selectedMailbox, successMsg: 'Display name saved successfully.' }),\n      );\n      this.close();\n    }\n  }\n\n  copyToClipboard(text: string) {\n    this.sharedService.copyToClipboard(text);\n  }\n\n  private close() {\n    this.activeModal.dismiss();\n  }\n\n  ngOnDestroy(): void {}\n}\n","<div class=\"modal-body bg-faded account-creation\">\n  <img src=\"assets/images/account-creation-img.jpg\" alt=\"\" />\n  <app-progress-bar [active]=\"true\"></app-progress-bar>\n  <div class=\"account-creation-info\">\n    <div class=\"info-box1\" @pageAnimation1 (@pageAnimation1.start)=\"onAnimationStart($event)\" (@pageAnimation1.done)=\"onAnimationDone($event)\">\n      <h3 [translate]=\"'account_init.creation_init'\">Account Creation Initiated</h3>\n      <ul>\n        <li [translate]=\"'account_init.encrypted_conn_being'\">Encrypted connection between user and website being verified</li>\n        <li [innerHTML]=\"'account_init.account_creation' | translate\">Account creation in user&apos;s browser initiated</li>\n        <li [innerHTML]=\"'account_init.mailbox_creation' | translate\">Mailbox creation in user&apos;s browser initiated</li>\n      </ul>\n    </div>\n    <div class=\"info-box2\" @pageAnimation2 (@pageAnimation2.start)=\"onAnimationStart($event)\" (@pageAnimation2.done)=\"onAnimationDone($event)\" *ngIf=\"step >= 1\">\n      <h3>Account Creation in User's Browser Completed</h3>\n      <ul>\n        <li><i class=\"fas fa-check\"></i><span [translate]=\"'account_init.encrypted_conn'\">Encrypted connection between user and website verified</span></li>\n        <li><i class=\"fas fa-check\"></i><span [innerHTML]=\"'account_init.acc_creation_complete' | translate\">Account creation in user&apos;s browser complete</span></li>\n        <li><i class=\"fas fa-check\"></i><span [innerHTML]=\"'account_init.mail_creation_comp' | translate\">Mailbox creation in user&apos;s browser complete</span></li>\n      </ul>\n    </div>\n    <div class=\"info-box3\" @pageAnimation3 (@pageAnimation3.start)=\"onAnimationStart($event)\" (@pageAnimation3.done)=\"onAnimationDone($event)\" *ngIf=\"step >= 2\">\n      <h3 [translate]=\"'account_init.crypto_protect'\">Cryptographic Protection Initiated</h3>\n      <ul>\n        <li [translate]=\"'account_init.gen_pgp_key'\">Generate 4096 bit PGP Encryption Key</li>\n        <li [translate]=\"'account_init.crypto_hash_pass'\">Apply Cryptographic hash to password</li>\n        <li [translate]=\"'account_init.rec_hash_value'\">Receive hash value from cryptographic hash</li>\n        <li [translate]=\"'account_init.crypto_salt'\">Apply cryptographic salt to hash value</li>\n        <li [translate]=\"'account_init.mailbox_encrypted'\">Your mailbox is now encrypted and password protected</li>\n      </ul>\n    </div>\n    <div class=\"info-box4\" @pageAnimation4 (@pageAnimation4.start)=\"onAnimationStart($event)\" (@pageAnimation4.done)=\"onAnimationDone($event)\" *ngIf=\"step >= 3\">\n      <h3 [translate]=\"'account_init.creation_finished'\">Account Creation Finished</h3>\n      <ul>\n        <li [translate]=\"'account_init.mailbox_saved'\">Mailbox sent and saved to Icelandic server</li>\n        <li [innerHTML]=\"'account_init.secured_with_hash' | translate\">Mailbox secured with user&apos;s hash & Salted value.</li>\n        <li [translate]=\"'account_init.encypt_secure'\">Encrypted, Secure & Anonymous</li>\n        <li [translate]=\"'account_init.max_strength'\">Welcome to your Maximum strength mailbox</li>\n      </ul>\n    </div>\n  </div>\n</div>\n","import { animate, query, stagger, style, transition, trigger } from '@angular/animations';\nimport { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, AuthState, SignupState } from '../../../store/datatypes';\nimport { Mailbox } from '../../../store/models';\nimport { DisplayNameDialogComponent } from '../display-name-dialog/display-name-dialog.component';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-user-account-init-dialog',\n  templateUrl: './user-account-init-dialog.component.html',\n  styleUrls: ['./user-account-init-dialog.component.scss'],\n  providers: [],\n  animations: [\n    trigger('pageAnimation1', [\n      transition(':enter', [\n        query('h3, li', [\n          style({ opacity: 0, transform: 'translateY(-100%)' }),\n          stagger(833, [animate('833ms', style({ opacity: 1, transform: 'none' }))]),\n        ]),\n      ]),\n    ]),\n    trigger('pageAnimation2', [\n      transition(':enter', [\n        query('li', [\n          style({ opacity: 0, transform: 'translateY(-100%)' }),\n          stagger(833, [animate('833ms', style({ opacity: 1, transform: 'none' }))]),\n        ]),\n      ]),\n    ]),\n    trigger('pageAnimation3', [\n      transition(':enter', [\n        query('h3, li', [\n          style({ opacity: 0, transform: 'translateY(-100%)' }),\n          stagger(833, [animate('833ms', style({ opacity: 1, transform: 'none' }))]),\n        ]),\n      ]),\n    ]),\n    trigger('pageAnimation4', [\n      transition(':enter', [\n        query('h3, li', [\n          style({ opacity: 0, transform: 'translateY(-100%)' }),\n          stagger(833, [animate('833ms', style({ opacity: 1, transform: 'none' }))]),\n        ]),\n      ]),\n    ]),\n  ],\n})\nexport class UserAccountInitDialogComponent implements OnInit, OnDestroy {\n  @Input() isPgpGenerationComplete: boolean;\n\n  mailboxes: Mailbox[];\n\n  step = 0;\n\n  emails: string;\n\n  private signupState: SignupState;\n\n  private isAccountCreationComplete: boolean;\n\n  private isDisplayNameOpened: boolean;\n\n  constructor(public activeModal: NgbActiveModal, private modalService: NgbModal, private store: Store<AppState>) {}\n\n  ngOnInit() {\n    this.isDisplayNameOpened = false;\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        if (this.signupState && this.signupState.inProgress && !authState.signupState.inProgress) {\n          if (authState.errorMessage || this.step === 4) {\n            this.isDisplayNameOpened = authState.errorMessage ? true : this.isDisplayNameOpened;\n            this.close();\n          } else {\n            this.isAccountCreationComplete = true;\n            setTimeout(() => {\n              this.close();\n            }, 5000);\n          }\n        }\n        this.signupState = { ...authState.signupState };\n      });\n    setTimeout(() => {\n      this.close();\n    }, 120000);\n  }\n\n  pgpGenerationCompleted() {\n    this.isPgpGenerationComplete = true;\n    if (this.step === 2) {\n      // move animation to page 4\n      setTimeout(() => {\n        this.step++;\n      }, 1000);\n    }\n  }\n\n  ngOnDestroy() {}\n\n  onAnimationStart(event_) {}\n\n  onAnimationDone(event_) {\n    if (this.step === 2 && !this.isPgpGenerationComplete) {\n      // pause animation because pgp key generation is not complete\n    } else if (this.step === 3) {\n      setTimeout(() => {\n        this.step++;\n        if (this.isAccountCreationComplete) {\n          this.close();\n        }\n      }, 2000);\n    } else {\n      setTimeout(() => {\n        this.step++;\n      }, 2000);\n    }\n  }\n\n  close() {\n    if (this.activeModal) {\n      this.activeModal.close();\n    }\n    if (!this.isDisplayNameOpened) {\n      this.isDisplayNameOpened = true;\n      this.modalService.open(DisplayNameDialogComponent, {\n        centered: true,\n        windowClass: 'modal-sm',\n        backdrop: 'static',\n      });\n    }\n  }\n}\n","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { take } from 'rxjs/operators';\n\nimport { FilenamePipe } from '../../shared/pipes/filename.pipe';\nimport { SnackErrorPush } from '../../store/actions';\nimport { AppState } from '../../store/datatypes';\nimport { Attachment, Mail } from '../../store/models';\nimport { MailService, OpenPgpService, SharedService } from '../../store/services';\nimport { DateTimeUtilService } from '../../store/services/datetime-util.service';\n\n@Component({\n  selector: 'app-display-secure-message',\n  templateUrl: './display-secure-message.component.html',\n  styleUrls: ['./display-secure-message.component.scss'],\n})\nexport class DisplaySecureMessageComponent implements OnInit, OnDestroy {\n  @Input() message: Mail;\n\n  @Input() decryptedContent: string;\n\n  @Input() decryptedSubject: string;\n\n  @Input() decryptedKey: any;\n\n  @Input() hash: any;\n\n  @Input() secret: any;\n\n  @Output() reply: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  @Output() expired: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  expiryDurationInSeconds: number;\n\n  decryptedAttachments: any = {};\n\n  constructor(\n    private dateTimeUtilService: DateTimeUtilService,\n    private store: Store<AppState>,\n    private mailService: MailService,\n    private shareService: SharedService,\n    private pgpService: OpenPgpService,\n  ) {}\n\n  ngOnInit() {\n    this.expiryDurationInSeconds = this.dateTimeUtilService.getDiffFromCurrentDateTime(\n      this.message.encryption.expires,\n      'seconds',\n    );\n  }\n\n  ngOnDestroy() {}\n\n  onExpired() {\n    this.expired.emit(true);\n  }\n\n  onReply() {\n    this.reply.emit(true);\n  }\n\n  // TODO: Merge with mail-detail and compose-mail components\n  decryptAttachment(attachment: Attachment) {\n    if (this.decryptedAttachments[attachment.id]) {\n      if (!this.decryptedAttachments[attachment.id].inProgress) {\n        this.downloadAttachment(this.decryptedAttachments[attachment.id]);\n      }\n    } else {\n      this.decryptedAttachments[attachment.id] = { ...attachment, inProgress: true };\n      this.mailService.getSecureMessageAttachment(attachment, this.hash, this.secret).subscribe(\n        response => {\n          const uint8Array = this.shareService.base64ToUint8Array(response.data);\n          if (!attachment.name) {\n            attachment.name = FilenamePipe.tranformToFilename(attachment.document);\n          }\n          const fileInfo = { attachment, type: response.file_type };\n          this.pgpService\n            .decryptSecureMessageAttachment(this.decryptedKey, uint8Array, fileInfo)\n            .pipe(take(1))\n            .subscribe(\n              (decryptedAttachment: Attachment) => {\n                this.decryptedAttachments[attachment.id] = { ...decryptedAttachment, inProgress: false };\n                this.downloadAttachment(decryptedAttachment);\n              },\n              error => console.log(error),\n            );\n        },\n        errorResponse =>\n          this.store.dispatch(\n            new SnackErrorPush({\n              message: errorResponse.error || 'Failed to download attachment.',\n            }),\n          ),\n      );\n    }\n  }\n\n  downloadAttachment(attachment: Attachment) {\n    this.shareService.downloadFile(attachment.decryptedDocument);\n  }\n}\n","<div class=\"l-block-body px-xs\">\n  <div id=\"secure-message-card\" class=\"ui-card\">\n    <div class=\"ui-card-header bg-primary text-sm-center\">\n      <h6 class=\"ui-card-title mb-0 fw-light text-white pr-4 px-sm-0\">\n        Expiring in\n        <strong>\n          <app-countdown-timer [duration]=\"expiryDurationInSeconds\" (finished)=\"onExpired()\"></app-countdown-timer>\n        </strong>\n      </h6>\n      <button role=\"button\" class=\"close ui-card-dismiss hidden-md-up\">\n        <i class=\"icon icon-cross text-white\"></i>\n      </button>\n    </div>\n    <div class=\"ui-card-body\">\n      <div class=\"msg-reply-card\">\n        <div class=\"msg-reply-card-header d-sm-flex justify-content-sm-start align-items-sm-center\">\n          <h5 class=\"text-dark mb-3 mb-sm-0\">\n            <strong *ngIf=\"message?.is_subject_encrypted; else plainSubject\">{{ decryptedSubject }}</strong>\n            <ng-template #plainSubject\n              ><strong>{{ message.subject }}</strong></ng-template\n            >\n          </h5>\n          <button class=\"btn btn-disabled btn-sm btn-reply ml-sm-auto\" role=\"button\" (click)=\"onReply()\"><i class=\"icon icon-reply mr-2\"></i><strong>Reply Securely</strong></button>\n        </div>\n        <div class=\"msg-reply-address-row\">\n          <div class=\"msg-reply-address\">\n            <span class=\"text-muted\">From: </span>\n            <span class=\"text-muted\">&lt;{{ message.sender }}&gt;</span>\n          </div>\n          <div class=\"msg-reply-address\">\n            <span class=\"text-muted\">To: </span>\n            <ng-container *ngFor=\"let receiver of message.receiver; let i = index\">\n              <span class=\"text-muted\">&lt;{{ receiver }}&gt;</span>\n              <!--Comma as a separator-->\n              <span *ngIf=\"i < message.receiver?.length - 1\">, </span>\n            </ng-container>\n          </div>\n        </div>\n        <div class=\"msg-reply-card-body\">\n          <div class=\"msg-reply-content text-dark\" [innerHTML]=\"decryptedContent | safe: 'html'\"></div>\n          <div>\n            <ul class=\"list-style-none mt-3\">\n              <ng-container *ngFor=\"let attachment of message.attachments\">\n                <li class=\"download-attachment-wrapper mr-1\" *ngIf=\"!attachment.is_inline\">\n                  <app-progress-bar [active]=\"decryptedAttachments[attachment.id]?.inProgress\"></app-progress-bar>\n                  <a *ngIf=\"!attachment.is_encrypted; else encryptedAttachment\" class=\"download-attachment\" [href]=\"attachment.document\" placement=\"top\" [ngbTooltip]=\"attachment.document | filename\" target=\"_blank\" rel=\"noopener\">\n                    <div class=\"attachment-icon\">\n                      <i class=\"icon icon-attachment\"></i>\n                    </div>\n                    <div class=\"attachment-name\">\n                      {{ attachment.document | filename }}\n                    </div>\n                  </a>\n                  <ng-template #encryptedAttachment>\n                    <a class=\"download-attachment\" (click)=\"decryptAttachment(attachment)\" href=\"javascript:void(0)\" placement=\"top\" [ngbTooltip]=\"attachment.document | filename\">\n                      <div class=\"attachment-icon\">\n                        <i class=\"icon icon-attachment\"></i>\n                      </div>\n                      <div class=\"attachment-name\">\n                        {{ attachment.document | filename }}\n                      </div>\n                    </a>\n                  </ng-template>\n                </li>\n              </ng-container>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","<div class=\"l-block-body px-xs\">\n  <div id=\"secure-message-reply-card d-block\" class=\"ui-card\">\n    <div class=\"ui-card-body\">\n      <div class=\"msg-reply-card\">\n        <div class=\"msg-reply-card-header position-relative d-sm-flex justify-content-sm-start align-items-sm-center\">\n          <h5 class=\"text-dark mb-0\">\n            <strong>{{ sourceMessage.subject }}</strong>\n          </h5>\n          <button role=\"button\" class=\"close ui-card-dismiss ml-sm-auto hidden-md-up\">\n            <i class=\"icon icon-cross text-dark\"></i>\n          </button>\n        </div>\n        <div class=\"msg-reply-address-row\">\n          <div class=\"msg-reply-address\">\n            <span class=\"text-muted\">To: </span>\n            <span class=\"text-muted\">&lt;{{ sourceMessage.sender }}&gt;</span>\n          </div>\n        </div>\n        <div class=\"msg-reply-card-body\">\n          <div class=\"msg-reply-card-innerbody has-custom-scroll has-custom-scroll-sm\">\n            <div class=\"secure-message-editor mail-compose-editable-box\">\n              <div #editor></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"ui-card-footer mail-composer-footer\">\n      <div class=\"mail-composer-actions-row d-flex align-items-center\">\n        <div class=\"mail-composer-actions-col mail-composer-actions-col-lg\">\n          <ul class=\"mail-composer-actions d-flex align-items-center\">\n            <li class=\"send-mail-item\">\n              <button class=\"btn btn-sm btn-secondary btn-mail-send btn-xs-rounded\" (click)=\"onSend()\" [disabled]=\"inProgress\" role=\"button\" placement=\"top\" ngbTooltip=\"{{ inProgress ? 'Sending...' : 'Send Mail' }}\"><i class=\"hidden-sm-up icon icon-paper-plane\"></i><span class=\"hidden-xs-down\">Send</span></button>\n            </li>\n            <li>\n              <div ngbDropdown [autoClose]=\"'outside'\" placement=\"top-left\" class=\"dropdown\">\n                <button ngbDropdownToggle class=\"actions-btn mail-typo-btn hide-arrow\" id=\"typoDropdownMenu\" role=\"button\" placement=\"top\" ngbTooltip=\"Text formatting\">\n                  <i class=\"icon icon-text-color\"></i>\n                </button>\n                <div ngbDropdownMenu class=\"typo-actions-dropdown-menu\" aria-labelledby=\"typoDropdownMenu\">\n                  <div #toolbar class=\"mail-comopser-typo-actions-holder\">\n                    <ul class=\"mail-composer-actions d-flex align-items-center justify-content-end\">\n                      <li class=\"pr-0\">\n                        <div ngbDropdown placement=\"top\" class=\"dropup\">\n                          <button ngbDropdownToggle role=\"button\" class=\"actions-btn mail-font-family-btn border-right-0 border-radius-r-0\" id=\"typoFamilyDropdownMenu\">\n                            <i class=\"icon icon-text-size\"></i>\n                          </button>\n                          <div ngbDropdownMenu class=\"typo-family-dropdown-menu\" aria-labelledby=\"typoFamilyDropdownMenu\">\n                            <div class=\"typo-holder\">\n                              <ul class=\"typo-list list-styled\">\n                                <li *ngFor=\"let font of fonts\">\n                                  <button [value]=\"font\" class=\"ql-font typo-select-link text-capitalize\">\n                                    {{ font }}\n                                  </button>\n                                </li>\n                              </ul>\n                            </div>\n                          </div>\n                        </div>\n                      </li>\n                      <li class=\"pl-0\">\n                        <div ngbDropdown placement=\"top\" class=\"dropup\">\n                          <button ngbDropdownToggle role=\"button\" class=\"actions-btn mail-font-family-btn\" id=\"typoSizeDropdownMenu\">\n                            <i class=\"icon icon-text-size-alt\"></i>\n                          </button>\n                          <div ngbDropdownMenu class=\"typo-size-dropdown-menu\" aria-labelledby=\"typoSizeDropdownMenu\">\n                            <div class=\"typo-holder\">\n                              <ul class=\"typo-list list-styled\">\n                                <li>\n                                  <button value=\"10px\" class=\"ql-size typo-select-link is-small\">Small</button>\n                                </li>\n                                <li>\n                                  <button value=\"\" class=\"ql-size typo-select-link is-normal\">Normal</button>\n                                </li>\n                                <li>\n                                  <button value=\"18px\" class=\"ql-size typo-select-link is-large\">Large</button>\n                                </li>\n                                <li>\n                                  <button value=\"32px\" class=\"ql-size typo-select-link is-huge\">Huge</button>\n                                </li>\n                              </ul>\n                            </div>\n                          </div>\n                        </div>\n                      </li>\n\n                      <li class=\"pr-0\">\n                        <button role=\"button\" class=\"ql-bold actions-btn mail-bold-btn border-right-0 border-radius-r-0\">\n                          <i class=\"icon icon-bold\"></i>\n                        </button>\n                      </li>\n                      <li class=\"px-0\">\n                        <button role=\"button\" class=\"ql-italic actions-btn mail-italic-btn border-right-0 border-radius-0\">\n                          <i class=\"icon icon-italic\"></i>\n                        </button>\n                      </li>\n                      <li class=\"px-0\">\n                        <button role=\"button\" class=\"ql-underline actions-btn mail-underline-btn border-right-0 border-radius-0\">\n                          <i class=\"icon icon-underline\"></i>\n                        </button>\n                      </li>\n                      <li class=\"pl-0\">\n                        <div ngbDropdown placement=\"top\" class=\"dropdown\">\n                          <button ngbDropdownToggle class=\"actions-btn mail-font-color-btn border-radius-l-0\" id=\"typoColorDropdownMenu\" role=\"button\">\n                            <i class=\"icon icon-text-color\"></i>\n                          </button>\n                          <div ngbDropdownMenu class=\"left-0\" aria-labelledby=\"typoColorDropdownMenu\">\n                            <div class=\"color-picker-holder\">\n                              <div class=\"row\">\n                                <div class=\"col-sm-6 mb-3 mb-sm-0\">\n                                  <div class=\"color-picker\">\n                                    <div class=\"color-picker-title\"><strong>Background Color</strong></div>\n                                    <ul class=\"color-picker-list d-flex flex-wrap\">\n                                      <li *ngFor=\"let color of colors\">\n                                        <button class=\"ql-background color-shape\" [class.border-lightgrey]=\"color === '#ffffff'\" [value]=\"color\" [style.background]=\"color\"></button>\n                                      </li>\n                                    </ul>\n                                  </div>\n                                </div>\n\n                                <div class=\"col-sm-6 mb-3 mb-sm-0\">\n                                  <div class=\"color-picker\">\n                                    <div class=\"color-picker-title\"><strong>Text Color</strong></div>\n                                    <ul class=\"color-picker-list d-flex flex-wrap\">\n                                      <li *ngFor=\"let color of colors\">\n                                        <button class=\"ql-color color-shape\" [class.border-lightgrey]=\"color === '#ffffff'\" [value]=\"color\" [style.background]=\"color\"></button>\n                                      </li>\n                                    </ul>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </li>\n\n                      <li class=\"pr-0\">\n                        <button role=\"button\" class=\"ql-align actions-btn mail-align-right-btn border-right-0 border-radius-r-0\" value=\"right\">\n                          <i class=\"icon icon-text-align-right\"></i>\n                        </button>\n                      </li>\n                      <li class=\"px-0\">\n                        <button role=\"button\" class=\"ql-align actions-btn mail-align-center-btn border-right-0 border-radius-0\" value=\"center\">\n                          <i class=\"icon icon-text-align-center\"></i>\n                        </button>\n                      </li>\n                      <li class=\"pl-0\">\n                        <button role=\"button\" class=\"ql-align actions-btn mail-align-left-btn border-radius-l-0\">\n                          <i class=\"icon icon-text-align-left\"></i>\n                        </button>\n                      </li>\n\n                      <li class=\"pr-0\">\n                        <button role=\"button\" class=\"ql-list actions-btn mail-unorder-list-btn border-right-0 border-radius-r-0\" value=\"bullet\">\n                          <i class=\"icon icon-unorder-list\"></i>\n                        </button>\n                      </li>\n                      <li class=\"px-0\">\n                        <button role=\"button\" class=\"ql-list actions-btn mail-order-list-btn border-right-0 border-radius-0\" value=\"ordered\">\n                          <i class=\"icon icon-ordered-list\"></i>\n                        </button>\n                      </li>\n                      <li class=\"px-0\">\n                        <button role=\"button\" class=\"ql-indent actions-btn mail-indent-decrease-btn border-right-0 border-radius-0\" value=\"-1\">\n                          <i class=\"icon icon-indent-decrease\"></i>\n                        </button>\n                      </li>\n                      <li class=\"px-0\">\n                        <button role=\"button\" class=\"ql-indent actions-btn mail-indent-increase-btn border-right-0 border-radius-0\" value=\"+1\">\n                          <i class=\"icon icon-indent-increase\"></i>\n                        </button>\n                      </li>\n                      <li class=\"pl-0\">\n                        <button role=\"button\" class=\"ql-blockquote actions-btn mail-quote-right-btn border-radius-l-0\">\n                          <i class=\"icon icon-quote-right\"></i>\n                        </button>\n                      </li>\n\n                      <li>\n                        <button role=\"button\" class=\"ql-clean actions-btn mail-format-clear-btn\">\n                          <i class=\"icon icon-format-clear\"></i>\n                        </button>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div class=\"mail-composer-actions-col mail-composer-actions-col-sm\">\n          <ul class=\"mail-composer-actions d-flex align-items-center justify-content-end\">\n            <li class=\"pr-1\" *ngIf=\"inProgress\">\n              <span>Sending...</span>\n            </li>\n            <li class=\"pl-0\">\n              <button role=\"button\" (click)=\"onCancel()\" [disabled]=\"inProgress\" class=\"btn btn-sm btn-outline-danger\" placement=\"top\" ngbTooltip=\"Cancel\">Cancel</button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { AfterViewInit, Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport * as QuillNamespace from 'quill';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { COLORS, FONTS } from '../../shared/config';\nimport { GetSecureMessageUserKeys, SendSecureMessageReply } from '../../store/actions';\nimport { AppState, SecureMessageState } from '../../store/datatypes';\nimport { Attachment, Mail } from '../../store/models';\nimport { OpenPgpService } from '../../store/services';\n\nconst Quill: any = QuillNamespace;\n\nconst FontAttributor = Quill.import('attributors/style/font');\nFontAttributor.whitelist = [...FONTS];\nQuill.register(FontAttributor, true);\n\nconst SizeAttributor = Quill.import('attributors/style/size');\nSizeAttributor.whitelist = ['10px', '18px', '32px'];\nQuill.register(SizeAttributor, true);\nQuill.register(Quill.import('attributors/style/align'), true);\nQuill.register(Quill.import('attributors/style/background'), true);\nQuill.register(Quill.import('attributors/style/color'), true);\n\nconst QuillBlockEmbed = Quill.import('blots/block/embed');\n\nclass ImageBlot extends QuillBlockEmbed {\n  static create(value) {\n    const node: any = super.create(value);\n    node.setAttribute('src', value.url);\n    if (value.content_id) {\n      node.setAttribute('data-content-id', value.content_id);\n    }\n    return node;\n  }\n\n  static value(node) {\n    return {\n      content_id: node.getAttribute('data-content-id'),\n      url: node.getAttribute('src'),\n    };\n  }\n}\n\nImageBlot.blotName = 'image';\nImageBlot.tagName = 'img';\n\nQuill.register(ImageBlot);\n\n@UntilDestroy()\n@Component({\n  selector: 'app-reply-secure-message',\n  templateUrl: './reply-secure-message.component.html',\n  styleUrls: ['./reply-secure-message.component.scss'],\n})\nexport class ReplySecureMessageComponent implements OnInit, AfterViewInit, OnDestroy {\n  @Input() sourceMessage: Mail;\n\n  @Input() hash: string;\n\n  @Input() secret: string;\n\n  @Input() senderId: string;\n\n  @Output() cancel: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  @Output() replySuccess: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  @ViewChild('editor') editor;\n\n  @ViewChild('toolbar') toolbar;\n\n  colors = COLORS;\n\n  fonts = FONTS;\n\n  attachments: Attachment[] = [];\n\n  inProgress: boolean;\n\n  private message: Mail;\n\n  private quill: any;\n\n  private secureMessageState: SecureMessageState;\n\n  constructor(private store: Store<AppState>, private openPgpService: OpenPgpService) {}\n\n  ngOnInit() {\n    this.store\n      .select(state => state.secureMessage)\n      .pipe(untilDestroyed(this))\n      .subscribe((state: SecureMessageState) => {\n        this.inProgress = state.inProgress || state.isEncryptionInProgress;\n        if (this.secureMessageState) {\n          if (this.secureMessageState.getUserKeyInProgress && !state.getUserKeyInProgress) {\n            const keys = [\n              ...state.usersKeys\n                .filter(item => this.message.receiver.includes(item.email) && item.is_enabled)\n                .map(item => item.public_key),\n              this.sourceMessage.encryption.public_key,\n            ];\n            this.openPgpService.encryptSecureMessageContent(this.message.content, keys);\n          } else if (this.secureMessageState.isEncryptionInProgress && !state.isEncryptionInProgress) {\n            this.message.content = state.encryptedContent;\n            this.store.dispatch(\n              new SendSecureMessageReply({ hash: this.hash, secret: this.secret, message: this.message }),\n            );\n          } else if (this.secureMessageState.inProgress && !state.inProgress) {\n            if (!state.errorMessage) {\n              this.replySuccess.emit(true);\n            }\n          }\n        }\n        this.secureMessageState = state;\n      });\n  }\n\n  ngAfterViewInit() {\n    this.initializeQuillEditor();\n  }\n\n  ngOnDestroy(): void {}\n\n  initializeQuillEditor() {\n    this.quill = new Quill(this.editor.nativeElement, {\n      modules: {\n        toolbar: this.toolbar.nativeElement,\n      },\n    });\n  }\n\n  onSend() {\n    if (this.hasData()) {\n      this.message = {\n        receiver: [this.sourceMessage.sender],\n        subject: this.sourceMessage.subject,\n        content: this.editor.nativeElement.firstChild.innerHTML,\n        sender: this.senderId,\n      };\n      this.store.dispatch(new GetSecureMessageUserKeys({ hash: this.hash, secret: this.secret }));\n    }\n  }\n\n  onCancel() {\n    this.cancel.emit(true);\n  }\n\n  private hasData() {\n    // using >1 because there is always a blank line represented by \\n (quill docs)\n    return this.quill.getLength() > 1;\n  }\n}\n","<!-- PAGE SECTION -->\n<section class=\"l-block l-block-text bg-white gap-p-eq main-container\">\n  <div class=\"container container-sm\">\n    <header class=\"l-block-header position-relative text-center\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-sm-12 col-md-10 position-sm-static px-sm-5 px-md-0\">\n          <h1 class=\"l-block-title text-uppercase text-secondary mb-3 pb-2\">\n            <strong [translate]=\"'create_account.name'\">Create your account</strong>\n          </h1>\n        </div>\n      </div>\n    </header>\n    <div class=\"l-block-body px-md\">\n      <div class=\"form-card-holder mx-auto\">\n        <div class=\"info-card bg-faded text-sm-center\">\n          <p class=\"text-medium\">\n            <span [translate]=\"'create_account.take_back_liberty'\">Take Back Your Liberty! </span>\n            <br />\n            <span [innerHTML]=\"'create_account.class_encrypted_email' | translate\"\n              >Best in class encrypted email <br />\n              Account creation in only minutes</span\n            >\n          </p>\n        </div>\n        <div class=\"ml-1 row selected-plan\">\n          <h3 class=\"mt-3 text-dark\">\n            <strong>Plan : {{ this.selectedPlan | uppercase }}</strong>\n          </h3>\n        </div>\n        <div class=\"form\">\n          <form class=\"signup-form\" [formGroup]=\"signupForm\" #form=\"ngForm\" (ngSubmit)=\"signup()\">\n            <div *ngIf=\"errorMessage\" class=\"l-alert l-alert-danger my-3 reset-form__failed text-center\">\n              {{ errorMessage }}\n            </div>\n            <div class=\"form-step-card-holder\">\n              <div class=\"form-step-card\">\n                <h3 class=\"form-step-card-title text-dark mb-0\">\n                  <strong [translate]=\"'create_account.username_and_domain'\">Username and domain</strong>\n                </h3>\n                <div class=\"form-step-card-subtitle\">\n                  <small [translate]=\"'create_account.new_email_address'\">This will be your new Ctemplar email address. </small>\n                </div>\n                <div class=\"form-group\">\n                  <div\n                    class=\"form-inline userame-field-group\"\n                    [ngClass]=\"{\n                      'is-validate': signupForm.controls.username.invalid && (signupForm.controls.username.touched || submitted)\n                    }\"\n                  >\n                    <label for=\"username\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'create_account.choose_username'\">Choose username</label>\n                    <input class=\"form-control text-dark mb-3 mb-sm-0\" id=\"username\" [placeholder]=\"'create_account.choose_username' | translate\" type=\"text\" name=\"username\" formControlName=\"username\" />\n                    <span class=\"domain-separator text-center text-dark\">@</span>\n                    <input class=\"form-control text-dark is-readonly border-0 px-0 email-input\" value=\"ctemplar.com\" type=\"text\" readonly tabindex=\"-1\" />\n                    <ng-container *ngIf=\"signupState?.inProgress; else showIcons\">\n                      <app-loading-spinner class=\"username-availability-spinner\" [showSpinner]=\"true\"></app-loading-spinner>\n                    </ng-container>\n                    <ng-template #showIcons>\n                      <i class=\"fas fa-check green\" *ngIf=\"signupState.usernameExists === false && !signupForm.controls['username'].errors\"></i>\n                      <i class=\"fas fa-times text-danger\" *ngIf=\"signupState.usernameExists === true || (signupForm.controls['username'].errors && (signupForm.controls['username'].touched || submitted))\"></i>\n                    </ng-template>\n                  </div>\n                  <ng-container *ngIf=\"signupForm.controls['username'].errors && (signupForm.controls['username'].touched || submitted); else usernameExistsBlock\">\n                    <span class=\"validate-message\" *ngIf=\"signupForm.controls['username'].errors; else usernameRequiredError\">\n                      <ng-container *ngIf=\"signupForm.controls['username'].errors.pattern; else usernameLengthBlock\">\n                        The username must start with a letter and end with a letter or number.It may only contain\n                        <em>a-z</em>, <em>A-Z</em>, <em>0-9</em> or <em>._-</em> characters and minimum length is 4 characters.\n                      </ng-container>\n                      <ng-template #usernameLengthBlock>\n                        <ng-container *ngIf=\"signupForm.controls['username'].errors.minlength || signupForm.controls['username'].errors.maxlength\"> The username must be between 4 and 64 characters. </ng-container>\n                      </ng-template>\n                    </span>\n                    <ng-template #usernameRequiredError>\n                      <span class=\"validate-message\">The username is required.</span>\n                    </ng-template>\n                  </ng-container>\n                  <ng-template #usernameExistsBlock>\n                    <span *ngIf=\"signupState.usernameExists === true\" class=\"validate-message\">Username already exists. </span>\n                  </ng-template>\n                </div>\n              </div>\n              <div class=\"form-step-card\">\n                <h3 class=\"form-step-card-title text-dark mb-0\">\n                  <strong [translate]=\"'settings.password'\">Password</strong>\n                </h3>\n                <div class=\"form-group\">\n                  <label for=\"choosePassword\" class=\"d-block text-muted text-left hidden-sm-up\">Choose Password</label>\n                  <div class=\"input-group\">\n                    <input #input class=\"form-control border-right-0\" id=\"choosePassword\" [placeholder]=\"'create_account.choose_password' | translate\" type=\"password\" aria-describedby=\"passwordToggle\" name=\"password\" formControlName=\"password\" />\n                    <span class=\"input-group-addon password-toggle bg-white text-muted\" id=\"passwordToggle\" (click)=\"togglePassword(input)\">\n                      <i class=\"fa fa-eye\"></i>\n                      <i class=\"fa fa-eye-slash\"></i>\n                    </span>\n                  </div>\n                  <i class=\"fas fa-check green input-ok\" *ngIf=\"signupForm.controls['password']?.value?.length > 0 && signupForm.controls['password']?.value?.length <= 128\"></i>\n                  <div *ngIf=\"signupForm.controls['password'].errors && (signupForm.controls['password'].touched || submitted)\" class=\"validate-message\">\n                    <ng-container *ngIf=\"signupForm.controls['password'].errors.required\">The password is required. </ng-container>\n                    <ng-container *ngIf=\"signupForm.controls['password'].errors.maxlength\">The password must be between 1 and 128 characters. </ng-container>\n                  </div>\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"confirmPassword\" class=\"d-block text-muted text-left hidden-sm-up\">Confirm Password</label>\n                  <div\n                    class=\"input-group\"\n                    [ngClass]=\"{\n                      'is-validate': signupForm.controls.confirmPwd.invalid && !signupForm.controls.confirmPwd.pristine\n                    }\"\n                  >\n                    <input #input2 class=\"form-control border-right-0\" id=\"confirmPassword\" [placeholder]=\"'create_account.confirm_password' | translate\" type=\"password\" aria-describedby=\"cofirmpasswordToggle\" name=\"confirmPwd\" formControlName=\"confirmPwd\" />\n                    <span class=\"input-group-addon password-toggle bg-white text-muted\" id=\"cofirmpasswordToggle\" (click)=\"togglePassword(input2)\">\n                      <i class=\"fa fa-eye\"></i>\n                      <i class=\"fa fa-eye-slash\"></i>\n                    </span>\n                  </div>\n                  <i class=\"fas fa-check green input-ok\" *ngIf=\"!signupForm.controls['confirmPwd'].errors\"></i>\n                  <span *ngIf=\"signupForm.controls['confirmPwd'].errors && (!signupForm.controls.confirmPwd.pristine || submitted)\" class=\"validate-message\">\n                    <span [translate]=\"'create_account.passwords_not_match'\">Passwords do not match.</span>\n                  </span>\n                </div>\n                <div class=\"form-group\">\n                  <div class=\"info-card d-flex bg-faded\">\n                    <span class=\"fancy-field-group mr-3\">\n                      <input class=\"d-none fancy-field-control fancy-field-control-lg\" id=\"moreInfoCheckbox\" name=\"[]\" type=\"checkbox\" [(ngModel)]=\"isRecoveryEmail\" [ngModelOptions]=\"{ standalone: true }\" />\n                      <label for=\"moreInfoCheckbox\" class=\"fancy-field-empty\"></label>\n                    </span>\n                    <div class=\"checkbox-text lh-sm\" [ngClass]=\"{ 'd-none': isTextToggled }\">\n                      <span class=\"info-text\">\n                        <small [translate]=\"'create_account.checking_box'\">By checking this box you understand that If you lose your password and do not set a recovery email your account will not be recoverable.</small>\n                      </span>\n                      <a href=\"javascript:void(0);\" (click)=\"toggleText()\">\n                        <u>\n                          <small [translate]=\"'create_account.more_info'\">More info</small>\n                        </u>\n                      </a>\n                    </div>\n                    <div class=\"checkbox-text lh-sm\" [ngClass]=\"{ 'd-none': !isTextToggled }\">\n                      <span class=\"info-text\">\n                        <small> <span [translate]=\"'create_account.checking_box'\">By checking this box you understand that If you lose your password and do not set a recovery email your account will not be recoverable.</span><br /><span [translate]=\"'create_account.password_connected'\">Your password is connected to your encryption key, if you change your password then you will be issued a new encryption key and ALL contents of your account will be lost except for your email address.</span></small>\n                      </span>\n                      <a href=\"javascript:void(0);\" (click)=\"toggleText()\">\n                        <u>\n                          <small [translate]=\"'create_account.less'\">Less</small>\n                        </u>\n                      </a>\n                    </div>\n                  </div>\n                </div>\n                <div *ngIf=\"isRecoveryEmail !== null && !isRecoveryEmail && (!signupForm.get('recoveryEmail').value || signupForm.get('recoveryEmail').invalid)\" class=\"l-alert l-alert-danger\" role=\"alert\">Please agree to above terms or enter recovery email.</div>\n              </div>\n              <div\n                class=\"form-step-card\"\n                [ngClass]=\"{\n                  'is-validate': signupForm.get('recoveryEmail').invalid && signupForm.controls['recoveryEmail'].touched\n                }\"\n                *ngIf=\"!isRecoveryEmail\"\n              >\n                <h3 class=\"form-step-card-title text-dark mb-0\">\n                  <strong [translate]=\"'create_account.recovery_email_optional'\">Recovery email (optional)</strong>\n                </h3>\n                <div class=\"form-step-card-subtitle\">\n                  <small [translate]=\"'create_account.recover_account'\">This is used to recover your account if you forget your password </small>\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"recoveryEmail\" class=\"d-block text-muted text-left hidden-sm-up\" [translate]=\"'settings.recovery_email'\">Recovery email </label>\n                  <input class=\"form-control text-dark\" id=\"recoveryEmail\" [placeholder]=\"'settings.recovery_email' | translate\" type=\"email\" name=\"recoveryEmail\" formControlName=\"recoveryEmail\" />\n                  <span *ngIf=\"signupForm.controls['recoveryEmail'].errors && signupForm.controls['recoveryEmail'].touched\" id=\"email-valid1\" class=\"validate-message\" [translate]=\"'settings.email_invalid'\">The email is invalid. </span>\n                </div>\n              </div>\n\n              <div class=\"form-step-card\" [ngClass]=\"{ 'is-validate': !inviteCode && submitted }\" *ngIf=\"selectedPlan === planType.FREE\">\n                <h3 class=\"form-step-card-title text-dark mb-0\">\n                  <strong [translate]=\"'create_account.invite_code'\">Invitation code</strong>\n                </h3>\n                <div class=\"form-step-card-subtitle\">\n                  <small [translate]=\"'create_account.invite_code_explanation'\">You can get invitation code from any existing paid customer or you can request from us.</small><br />\n                  <small [translate]=\"'create_account.about_invite_code'\">Why invite codes and how to get one?</small>\n                  <small\n                    ><a target=\"_blank\" href=\"{{ primaryWebsite }}/email-creation-restriction/\">{{ 'mail_header.learn_more' | translate }}</a></small\n                  >\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"inviteCode\" [translate]=\"'create_account.invite_code'\" class=\"d-block text-muted text-left hidden-sm-up\">Invitation code </label>\n                  <input class=\"form-control text-dark\" id=\"inviteCode\" required [placeholder]=\"'create_account.invite_code' | translate\" type=\"text\" name=\"inviteCode\" [(ngModel)]=\"inviteCode\" [ngModelOptions]=\"{ standalone: true }\" />\n                </div>\n              </div>\n\n              <div class=\"info-card d-flex align-items-center bg-faded mb-3\" [ngClass]=\"{ 'is-validate': isConfirmedPrivacy == false }\">\n                <span class=\"fancy-field-group mr-3\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-lg\" id=\"termsConditionCheckbox\" name=\"[]\" type=\"checkbox\" [(ngModel)]=\"isConfirmedPrivacy\" [ngModelOptions]=\"{ standalone: true }\" />\n                  <label for=\"termsConditionCheckbox\" class=\"fancy-field-empty\"></label>\n                </span>\n                <div class=\"checkbox-text lh-sm\">\n                  <span class=\"info-text\">\n                    <small>\n                      <span [translate]=\"'create_account.check_box'\">Please check this box if you agree to abide by our </span>\n                      <a href=\"{{ primaryWebsite }}/terms\">\n                        <u [innerHTML]=\"'create_account.terms_and_conditions' | translate\">Terms &amp; Conditions</u>\n                      </a>\n                    </small>\n                  </span>\n                </div>\n              </div>\n              <div *ngIf=\"isConfirmedPrivacy !== null && !isConfirmedPrivacy\" class=\"l-alert l-alert-danger mb-4\" role=\"alert\">Please abide by our Terms &amp; Conditions</div>\n\n              <div class=\"form-group text-center\">\n                <button class=\"btn btn-lg btn-secondary\" [disabled]=\"signupInProgress\" type=\"submit\" role=\"button\">\n                  <span [translate]=\"'login.create_account'\">Create Account</span>\n                </button>\n              </div>\n\n              <div class=\"text-holder text-center\">\n                <a routerLink=\"/signin\">\n                  <u [translate]=\"'create_account.already_have_account'\">Already have an Account?</u>\n                </a>\n\n                <!-- Please remove the html structure below -->\n                <div class=\"mb-3\"></div>\n                <!-- Please remove the html structure above -->\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n    <app-loading-spinner [showSpinner]=\"generatingKeys\"></app-loading-spinner>\n  </div>\n  <div *ngIf=\"submitted\" class=\"text-center form-group mt-4\">\n    <div class=\"col-sm col-sm-6 mx-auto\">\n      <div *ngIf=\"errorMessage\" class=\"reset-form__failed l-alert l-alert-danger mb-3\">\n        {{ errorMessage }}\n      </div>\n    </div>\n    <app-loading-spinner [showSpinner]=\"signupInProgress\"></app-loading-spinner>\n  </div>\n  <div></div>\n  <!-- /.Site container ends -->\n</section>\n<!-- /.PAGE SECTION ENDS -->\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AbstractControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { TranslateService } from '@ngx-translate/core';\nimport { debounceTime } from 'rxjs/operators';\nimport { NgbModalRef } from '@ng-bootstrap/ng-bootstrap/modal/modal-ref';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\n\nimport { AppState, AuthState, PaymentType, PlanType, SignupState } from '../../store/datatypes';\nimport { CheckUsernameAvailability, FinalLoading, SignUp, UpdateSignupData } from '../../store/actions';\nimport { OpenPgpService, SharedService, UsersService } from '../../store/services';\nimport { NotificationService } from '../../store/services/notification.service';\nimport { PRIMARY_WEBSITE, VALID_EMAIL_REGEX, LANGUAGES } from '../../shared/config';\nimport { UserAccountInitDialogComponent } from '../dialogs/user-account-init-dialog/user-account-init-dialog.component';\n\nexport class PasswordValidation {\n  static MatchPassword(AC: AbstractControl) {\n    const password = AC.get('password').value; // to get value in input tag\n    const confirmPassword = AC.get('confirmPwd').value; // to get value in input tag\n    if (password !== confirmPassword) {\n      AC.get('confirmPwd').setErrors({ MatchPassword: true });\n    } else {\n      return null;\n    }\n  }\n}\n\n@UntilDestroy()\n@Component({\n  selector: 'app-users-create-account',\n  templateUrl: './users-create-account.component.html',\n  styleUrls: ['./users-create-account.component.scss'],\n})\nexport class UsersCreateAccountComponent implements OnInit, OnDestroy {\n  isTextToggled = false;\n\n  signupForm: FormGroup;\n\n  isRecoveryEmail: boolean = null;\n\n  isConfirmedPrivacy: boolean = null;\n\n  errorMessage = '';\n\n  selectedPlan: PlanType;\n\n  planType = PlanType;\n\n  data: any = null;\n\n  signupInProgress = false;\n\n  signupState: SignupState;\n\n  submitted = false;\n\n  userKeys: any;\n\n  generatingKeys: boolean;\n\n  modalRef: NgbModalRef;\n\n  inviteCode: string;\n\n  primaryWebsite = PRIMARY_WEBSITE;\n\n  private paymentType: PaymentType;\n\n  constructor(\n    private modalService: NgbModal,\n    private formBuilder: FormBuilder,\n    private router: Router,\n    private store: Store<AppState>,\n    private openPgpService: OpenPgpService,\n    private sharedService: SharedService,\n    private activatedRoute: ActivatedRoute,\n    private authService: UsersService,\n    private notificationService: NotificationService,\n    private translate: TranslateService,\n  ) {}\n\n  ngOnInit() {\n    this.handleUserState();\n    this.sharedService.hideFooter.emit(true);\n\n    this.signupForm = this.formBuilder.group(\n      {\n        username: [\n          '',\n          [\n            Validators.required,\n            Validators.pattern(/^[a-z]+([\\da-z]*[._-]?[\\da-z]+)+$/i),\n            Validators.minLength(4),\n            Validators.maxLength(64),\n          ],\n        ],\n        password: ['', [Validators.required, Validators.maxLength(128)]],\n        confirmPwd: ['', [Validators.required, Validators.maxLength(128)]],\n        recoveryEmail: ['', [Validators.pattern(VALID_EMAIL_REGEX)]],\n      },\n      {\n        validator: PasswordValidation.MatchPassword,\n      },\n    );\n\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((state: AuthState) => {\n        const { queryParams } = this.activatedRoute.snapshot;\n        this.selectedPlan = state.signupState.plan_type || queryParams.plan || PlanType.PRIME;\n        this.paymentType = state.signupState.payment_type || queryParams.billing || PaymentType.ANNUALLY;\n        this.errorMessage = state.errorMessage;\n      });\n\n    setTimeout(() => this.store.dispatch(new FinalLoading({ loadingState: false })));\n    this.handleUsernameAvailability();\n    this.sharedService.loadPricingPlans();\n    window.addEventListener('beforeunload', this.authService.onBeforeLoader, true);\n  }\n\n  // == Toggle password visibility\n  togglePassword(input: any): any {\n    if (!input.value) {\n      return;\n    }\n    input.type = input.type === 'password' ? 'text' : 'password';\n  }\n\n  // == Is text toggled\n  toggleText(): void {\n    const bool = this.isTextToggled;\n    this.isTextToggled = bool === false;\n  }\n\n  signup() {\n    this.submitted = true;\n    if (this.isConfirmedPrivacy === null) {\n      this.isConfirmedPrivacy = false;\n    }\n\n    if (this.isRecoveryEmail === null) {\n      this.isRecoveryEmail = false;\n    }\n\n    if (\n      this.signupState.usernameExists !== false ||\n      this.signupForm.invalid ||\n      !this.isConfirmedPrivacy ||\n      (!this.isRecoveryEmail &&\n        (!this.signupForm.get('recoveryEmail').value || this.signupForm.get('recoveryEmail').invalid))\n    ) {\n      return false;\n    }\n\n    if (this.selectedPlan !== PlanType.FREE) {\n      this.navigateToBillingPage();\n    } else {\n      this.signupFormCompleted();\n    }\n  }\n\n  openAccountInitModal() {\n    this.modalRef = this.modalService.open(UserAccountInitDialogComponent, {\n      centered: true,\n      windowClass: 'modal-sm',\n      backdrop: 'static',\n      keyboard: false,\n    });\n  }\n\n  private navigateToBillingPage() {\n    this.store.dispatch(\n      new UpdateSignupData({\n        recovery_email: this.signupForm.get('recoveryEmail').value,\n        username: this.signupForm.get('username').value,\n        password: this.signupForm.get('password').value,\n        recaptcha: this.signupForm.value.captchaResponse,\n      }),\n    );\n    this.router.navigateByUrl(`/billing-info?plan=${this.selectedPlan}&billing=${this.paymentType}`);\n  }\n\n  signupFormCompleted() {\n    if (this.selectedPlan !== PlanType.FREE) {\n      this.navigateToBillingPage();\n    } else {\n      this.signupInProgress = true;\n      this.openAccountInitModal();\n      this.openPgpService.generateUserKeys(\n        this.signupForm.get('username').value,\n        this.signupForm.get('password').value,\n      );\n      this.waitForPGPKeys();\n    }\n  }\n\n  waitForPGPKeys() {\n    setTimeout(() => {\n      this.userKeys = this.openPgpService.getUserKeys();\n      if (this.userKeys) {\n        this.pgpKeyGenerationCompleted();\n        return;\n      }\n      this.waitForPGPKeys();\n    }, 1000);\n  }\n\n  pgpKeyGenerationCompleted() {\n    if (this.modalRef) {\n      this.modalRef.componentInstance.pgpGenerationCompleted();\n    }\n    const currentLocale = this.translate.currentLang ? this.translate.currentLang : 'en';\n    const currentLang = LANGUAGES.find(lang => {\n      if (lang.locale === currentLocale) {\n        return true;\n      }\n    });\n    this.data = {\n      ...this.userKeys,\n      recovery_email: this.signupForm.get('recoveryEmail').value,\n      username: this.signupForm.get('username').value,\n      password: this.signupForm.get('password').value,\n      invite_code: this.inviteCode,\n      language: currentLang.name,\n    };\n    this.store.dispatch(new SignUp(this.data));\n  }\n\n  private handleUserState(): void {\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        if (this.signupInProgress && !authState.inProgress) {\n          if (authState.errorMessage) {\n            this.notificationService.showSnackBar(`Failed to create account.${authState.errorMessage}`);\n          }\n          this.signupInProgress = false;\n        }\n        this.signupState = authState.signupState;\n      });\n  }\n\n  handleUsernameAvailability() {\n    this.signupForm\n      .get('username')\n      .valueChanges.pipe(debounceTime(500))\n      .subscribe(username => {\n        if (!this.signupForm.controls.username.errors) {\n          this.store.dispatch(new CheckUsernameAvailability(username));\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.sharedService.hideFooter.emit(false);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { UsersBillingInfoComponent } from '../shared/components/users-billing-info/users-billing-info.component';\nimport { AuthGuard } from '../store/services';\n\nimport { UsersSignInComponent } from './users-sign-in/users-sign-in.component';\nimport { UsersSignUpComponent } from './users-sign-up/users-sign-up.component';\nimport { UsersCreateAccountComponent } from './users-create-account/users-create-account.component';\nimport { DecryptMessageComponent } from './decrypt/decrypt-message.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'signin', pathMatch: 'full' },\n  { path: 'signin', component: UsersSignInComponent, canActivate: [AuthGuard] },\n  { path: 'signup', component: UsersSignUpComponent },\n  { path: 'create-account', component: UsersCreateAccountComponent },\n  { path: 'billing-info', component: UsersBillingInfoComponent },\n  { path: 'message/:hash/:secret/:senderId', component: DecryptMessageComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class UsersRoutingModule {}\n","<!-- PAGE SECTION -->\n<section class=\"l-block l-block-text bg-white text-center text-white gap-p-eq has-cover login-main\" style=\"background-image: url(assets/images/user-actions/login-bg.jpg)\">\n  <div class=\"container container-xs\" *ngIf=\"!authState.isAuthenticated || authState.anti_phishing_phrase\">\n    <header class=\"l-block-header position-relative mb-md-2\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-sm-12 col-md-10 px-sm-5 px-md-0\">\n          <h1 *ngIf=\"!authState.auth2FA.show2FALogin && !authState.isAuthenticated\" class=\"l-block-title text-white text-uppercase\">\n            <strong [translate]=\"'login.user_login'\" *showInIE=\"false\">User Login</strong>\n          </h1>\n          <h2 *ngIf=\"authState.auth2FA.show2FALogin\" class=\"l-block-title text-white text-uppercase\">\n            <strong>2 Factor Authentication</strong>\n          </h2>\n          <h4 class=\"l-block-title text-white\">\n            <strong *showInIE=\"true\">IE has limited support. For better experience use Chrome, Firefox, Safari, Opera, Edge etc.</strong>\n          </h4>\n        </div>\n      </div>\n    </header>\n    <div class=\"l-block-body px-xs\" *showInIE=\"false\">\n      <div class=\"l-content-holder l-form-content-holder mx-auto mt-md-0\">\n        <div class=\"form\">\n          <form *ngIf=\"!authState.auth2FA.show2FALogin && !authState.isAuthenticated\" class=\"login-form position-relative\" [formGroup]=\"loginForm\" #form=\"ngForm\" (ngSubmit)=\"login(loginForm.value)\">\n            <div\n              class=\"form-group\"\n              [ngClass]=\"{\n                'is-validate': loginForm.controls.username.invalid && showFormErrors\n              }\"\n            >\n              <label for=\"loginUsername\" class=\"d-block text-faded text-left hidden-sm-up\" [translate]=\"'settings.username'\">Username</label>\n              <div class=\"input-group\">\n                <span class=\"input-group-addon password-toggle bg-white text-muted\" id=\"passwordToggle\" (click)=\"openOSK(inputFields.USERNAME)\">\n                  <i class=\"fa fa-keyboard\"></i>\n                </span>\n                <input #usernameVC class=\"form-control form-control-lg border-right-0\" id=\"username_noSpan\" [placeholder]=\"'settings.username' | translate\" type=\"text\" (click)=\"onInputFocusChange(inputFields.USERNAME)\" name=\"username\" formControlName=\"username\" required />\n              </div>\n              <span *ngIf=\"loginForm.controls['username'].errors && showFormErrors\" id=\"email-valid\" class=\"validate-message\">\n                <span *ngIf=\"loginForm.controls['username'].errors.required\" [translate]=\"'settings.username_required'\">The username is required.</span>\n              </span>\n            </div>\n            <div\n              class=\"form-group\"\n              [ngClass]=\"{\n                'is-validate': loginForm.controls.password.invalid && showFormErrors\n              }\"\n            >\n              <label for=\"loginPassword\" class=\"d-block text-faded text-left hidden-sm-up\" [translate]=\"'settings.password'\">Password</label>\n              <div class=\"input-group\">\n                <span class=\"input-group-addon password-toggle bg-white text-muted\" id=\"keyboardToggle\" (click)=\"openOSK(inputFields.PASSWORD)\">\n                  <i class=\"fa fa-keyboard\"></i>\n                </span>\n                <input #passwordVC formControlName=\"password\" class=\"form-control form-control-lg border-right-0\" (click)=\"onInputFocusChange(inputFields.PASSWORD)\" type=\"password\" id=\"password_noSpan\" [placeholder]=\"'settings.password' | translate\" aria-describedby=\"passwordToggle\" name=\"password\" required />\n                <span class=\"input-group-addon password-toggle bg-white text-muted\" id=\"passwordToggle\" (click)=\"togglePassword(passwordVC)\">\n                  <i class=\"fa fa-eye\"></i>\n                  <i class=\"fa fa-eye-slash\"></i>\n                </span>\n              </div>\n              <span *ngIf=\"loginForm.controls['password'].errors && showFormErrors\" class=\"validate-message\">\n                <span *ngIf=\"loginForm.controls['password'].errors.required\" [translate]=\"'login.password_required'\">The password is required.</span>\n              </span>\n            </div>\n\n            <div class=\"form-group remember-me\">\n              <div class=\"d-flex\">\n                <span class=\"fancy-field-group mr-3\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-lg\" id=\"moreInfoCheckbox\" name=\"[]\" type=\"checkbox\" formControlName=\"rememberMe\" />\n                  <label for=\"moreInfoCheckbox\" class=\"fancy-field-empty\"></label>\n                </span>\n                <div class=\"checkbox-text lh-sm cursor-pointer\" (click)=\"toggleRememberMe()\">\n                  <span class=\"info-text\" [translate]=\"'login.remember_me'\"> Remember me on this computer. </span>\n                </div>\n              </div>\n            </div>\n            <div *ngIf=\"errorMessage\" class=\"login-form__failed l-alert l-alert-danger\">\n              {{ errorMessage }}\n            </div>\n            <div class=\"form-group form-user-actions mt-4 pt-sm-2\">\n              <button class=\"btn btn-gradient-primary btn-lg login-btn\" role=\"button\" type=\"submit\">\n                <span [translate]=\"'login.name'\">Login</span>\n              </button>\n            </div>\n          </form>\n        </div>\n        <!--dd*****************-->\n\n        <div>\n          <div *ngIf=\"authState.anti_phishing_phrase\">\n            <div class=\"mb-4 text-justify\" style=\"margin-top: -20px\">\n              Please verify your Anti-Phishing phrase. If it is missing or incorrect, you may be the victim of phishing. You should immediately confirm that you are visiting\n              <a href=\"https://ctemplar.com\">https://ctemplar.com</a>. If you are not, then a malicious site might have your login credentials for your CTemplar account. To prevent harm to your account, you should immediately visit <a href=\"https://ctemplar.com\">https://ctemplar.com</a> and change your password.\n              <div class=\"mt-2\">\n                Your Anti-Phishing Phrase:\n                <b style=\"font-size: 20px\">{{ authState.anti_phishing_phrase }}</b>\n              </div>\n            </div>\n            <div class=\"form-group form-user-actions mt-4 pt-sm-2\" *ngIf=\"!authState.auth2FA.show2FALogin\">\n              <button (click)=\"continueLogin()\" class=\"btn btn-gradient-primary btn-lg login-btn\" role=\"button\">Continue Login</button>\n            </div>\n          </div>\n          <div *ngIf=\"authState.auth2FA.show2FALogin\">\n            <div class=\"mb-1 text-left\">Enter code generated by app</div>\n            <div class=\"form-group\">\n              <label for=\"code2FA\" class=\"d-block text-faded text-left hidden-sm-up\">2FA Code</label>\n              <div class=\"input-group\">\n                <input class=\"form-control form-control-lg border-right-0\" id=\"code2FA\" type=\"text\" #otpInput [(ngModel)]=\"otp\" (keyup.enter)=\"login(loginForm.value, otp, true)\" placeholder=\"2FA Code\" required />\n              </div>\n              <div *ngIf=\"errorMessage\" class=\"login-form__failed l-alert l-alert-danger my-2\">\n                {{ errorMessage }}\n              </div>\n              <div class=\"form-group form-user-actions mt-4 pt-sm-2\">\n                <button (click)=\"login(loginForm.value, otp, true)\" [disabled]=\"!otp\" class=\"btn btn-gradient-primary btn-lg login-btn\" role=\"button\">\n                  <span [translate]=\"'billing_info.submit'\">Submit</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div>\n          <div class=\"form-alternative-content\">\n            <div class=\"reset-password mb-0 mb-sm-1\">\n              <a class=\"text-faded\" (click)=\"openResetPasswordModal()\" role=\"button\">\n                <small>\n                  <u [translate]=\"'login.reset_password'\">Reset Password</u>\n                </small>\n              </a>\n            </div>\n            <div class=\"create-account\">\n              <a routerLink=\"/signup\" class=\"text-white\">\n                <strong>\n                  <u [translate]=\"'login.create_account'\">Create Account</u>\n                </strong>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- /.Site container ends -->\n  <div class=\"simple-keyboard\" [style.visibility]=\"isKeyboardOpened ? 'visible' : 'hidden'\"></div>\n\n  <div align=\"center\" class=\"logged-in-spinner\" *ngIf=\"authState.isAuthenticated && !authState.anti_phishing_phrase\">\n    <img class=\"logo\" style=\"width: 400px; height: 300px\" [src]=\"loadingImage | safe: 'url'\" />\n    <p class=\"quote\">Loading your mailbox...</p>\n  </div>\n</section>\n<!-- /.PAGE SECTION ENDS -->\n\n<img *ngIf=\"isLoading && !authState.isAuthenticated\" class=\"loading-icon\" src=\"assets/icons/spinner.svg\" />\n\n<ng-template #resetPasswordModal let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header text-center justify-content-center\">\n    <h3 class=\"modal-title w-100 text-dark\" id=\"resetPasswordModalLabel\">\n      <strong>Reset Password</strong>\n    </h3>\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"d()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body bg-faded\">\n    <div class=\"text-holder text-dark text-medium\">\n      <ng-container *ngIf=\"!isRecoveryCodeSent; else recoveryCodeSent\">\n        <p>We will send a reset code to your <b>recovery email</b> to reset your password.</p>\n        <p>Your encryption key is connected to your password. Because of this you will not be able to decrypt old emails if you reset your password.</p>\n        <p>\n          If you did not set a recovery email then you can use your\n          <b>recovery key</b>\n          to reset your password. Your account is not recoverable if you didn't set your recovery email and don't have recovery key as well.\n          <br />\n          <a (click)=\"isRecoveryCodeSent = isRecoveryKeyMode = true; showResetPasswordFormErrors = false; resetPasswordErrorMessage = null\"> Reset password using Recovery key</a>\n        </p>\n\n        <div class=\"login-content-holder mx-auto mt-4 pt-sm-2\">\n          <div class=\"form\">\n            <form [formGroup]=\"recoverPasswordForm\" #form=\"ngForm\" (submit)=\"recoverPassword(recoverPasswordForm.value)\">\n              <div class=\"form-group\">\n                <label for=\"recoverPasswordUsername\" class=\"d-block text-muted text-left\">Username</label>\n                <input class=\"form-control form-control-lg\" id=\"recoverPasswordUsername\" placeholder=\"Username\" type=\"text\" formControlName=\"username\" required />\n                <span *ngIf=\"recoverPasswordForm.controls['username'].errors && showResetPasswordFormErrors\" id=\"recover-username-valid\" class=\"validate-message\">\n                  <span *ngIf=\"recoverPasswordForm.controls['username'].errors.required\">The username is required.</span>\n                </span>\n              </div>\n\n              <div class=\"form-group\">\n                <label for=\"recoverPasswordemail\" class=\"d-block text-muted text-left\" [translate]=\"'settings.recovery_email'\">Recovery Email </label>\n                <input class=\"form-control form-control-lg\" id=\"recoverPasswordemail\" [placeholder]=\"'settings.recovery_email' | translate\" type=\"email\" formControlName=\"recovery_email\" required />\n                <span *ngIf=\"recoverPasswordForm.controls['recovery_email'].errors && showResetPasswordFormErrors\" id=\"recovery-email-valid\" class=\"validate-message\">\n                  <span *ngIf=\"recoverPasswordForm.controls['recovery_email'].errors.email\">The recovery email is invalid.</span>\n                </span>\n              </div>\n              <div *ngIf=\"resetPasswordErrorMessage\" class=\"reset-form__failed l-alert l-alert-danger mb-3\">\n                {{ resetPasswordErrorMessage }}\n              </div>\n\n              <div class=\"d-flex align-items-baseline bg-faded mb-3\" [ngClass]=\"{ 'is-validated': isConfirmedPrivacy == false }\">\n                <span class=\"fancy-field-group mr-3\">\n                  <input class=\"d-none fancy-field-control fancy-field-control-lg\" id=\"termsConditionCheckbox\" name=\"[]\" type=\"checkbox\" [(ngModel)]=\"isConfirmedPrivacy\" [ngModelOptions]=\"{ standalone: true }\" />\n                  <label for=\"termsConditionCheckbox\" class=\"fancy-field-empty\"></label>\n                </span>\n                <div class=\"checkbox-text lh-sm\">\n                  <p [translate]=\"'settings.reset_password'\">I understand that action will delete all data and generate a new encryption key.</p>\n                </div>\n              </div>\n              <div *ngIf=\"isConfirmedPrivacy !== null && !isConfirmedPrivacy\" class=\"l-alert l-alert-danger mb-4\" role=\"alert\">Please agree to above condition in order to reset your password.</div>\n\n              <div class=\"form-group form-user-actions text-center mb-0\">\n                <button class=\"btn btn-gradient-primary btn-sm reset-btn\" role=\"button\" type=\"submit\" [disabled]=\"isLoading\">Reset Password</button>\n                <app-loading-spinner [showSpinner]=\"isLoading\"></app-loading-spinner>\n              </div>\n            </form>\n            <div class=\"text-center mt-2\">\n              <a (click)=\"isRecoveryCodeSent = true; showResetPasswordFormErrors = false; resetPasswordErrorMessage = null\" role=\"button\">\n                <small>\n                  <u>Already have the code</u>\n                </small>\n              </a>\n            </div>\n          </div>\n        </div>\n      </ng-container>\n      <ng-template #recoveryCodeSent>\n        <p *ngIf=\"!isRecoveryKeyMode\">We have sent a reset code to your recovery email.</p>\n        <p>Please enter the {{ isRecoveryKeyMode ? 'recovery key' : 'code' }} and your new password below.</p>\n\n        <div class=\"login-content-holder mx-auto mt-4 pt-sm-2\">\n          <div class=\"form\">\n            <form [formGroup]=\"resetPasswordForm\" #form=\"ngForm\" (submit)=\"resetPassword(resetPasswordForm.value)\">\n              <div class=\"form-group\">\n                <label for=\"resetCode\" class=\"d-block text-muted text-left\">{{ isRecoveryKeyMode ? 'Recovery key' : 'Code' }}</label>\n                <input class=\"form-control form-control-lg\" id=\"resetCode\" placeholder=\"Code\" type=\"text\" formControlName=\"code\" required />\n                <span *ngIf=\"resetPasswordForm.controls['code'].errors && showResetPasswordFormErrors\" id=\"reset-code-valid\" class=\"validate-message\">\n                  <span *ngIf=\"resetPasswordForm.controls['code'].errors.required\">Reset code is required.</span>\n                </span>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"resetPasswordUsername\" class=\"d-block text-muted text-left\">Username</label>\n                <input class=\"form-control form-control-lg\" id=\"resetPasswordUsername\" placeholder=\"Username\" type=\"text\" formControlName=\"username\" required />\n                <span *ngIf=\"resetPasswordForm.controls['username'].errors && showResetPasswordFormErrors\" id=\"username-valid\" class=\"validate-message\">\n                  <span *ngIf=\"resetPasswordForm.controls['username'].errors.required\">The username is required.</span>\n                </span>\n              </div>\n\n              <div class=\"form-group\">\n                <label for=\"resetPassword\" class=\"d-block text-muted text-left\" [translate]=\"'settings.new_password'\">New Password</label>\n                <div class=\"input-group\">\n                  <input #resetPasswordInput class=\"form-control form-control-lg\" id=\"resetPassword\" [placeholder]=\"'settings.password' | translate\" type=\"password\" aria-describedby=\"resetPasswordToggle\" name=\"password\" formControlName=\"password\" />\n                  <span class=\"input-group-addon password-toggle bg-white text-muted\" id=\"resetPasswordToggle\" (click)=\"togglePassword(resetPasswordInput)\">\n                    <i class=\"fa fa-eye\"></i>\n                    <i class=\"fa fa-eye-slash\"></i>\n                  </span>\n                </div>\n                <span *ngIf=\"resetPasswordForm.controls['password'].errors && showResetPasswordFormErrors\" id=\"reset-password-valid\" class=\"validate-message\">\n                  <span *ngIf=\"resetPasswordForm.controls['password'].errors.required\">The password is required.</span>\n                </span>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"resetConfirmPassword\" class=\"d-block text-muted text-left\" [translate]=\"'settings.confirm_new_password'\">Confirm New Password</label>\n                <div class=\"input-group\">\n                  <input #resetConfirmPasswordInput class=\"form-control form-control-lg\" id=\"resetConfirmPassword\" [placeholder]=\"'create_account.confirm_password' | translate\" type=\"password\" aria-describedby=\"resetConfirmPasswordToggle\" name=\"confirm-password\" formControlName=\"confirmPwd\" />\n                  <span class=\"input-group-addon password-toggle bg-white text-muted\" id=\"resetConfirmPasswordToggle\" (click)=\"togglePassword(resetConfirmPasswordInput)\">\n                    <i class=\"fa fa-eye\"></i>\n                    <i class=\"fa fa-eye-slash\"></i>\n                  </span>\n                </div>\n                <span *ngIf=\"resetPasswordForm.controls['confirmPwd'].errors && showResetPasswordFormErrors\" id=\"reset-confirm-password-valid\" class=\"validate-message\">\n                  <span [translate]=\"'create_account.passwords_not_match'\">Passwords do not match.</span>\n                </span>\n              </div>\n              <div *ngIf=\"resetPasswordErrorMessage\" class=\"reset-form__failed l-alert l-alert-danger mb-3\">\n                {{ resetPasswordErrorMessage }}\n              </div>\n              <div class=\"form-group form-user-actions text-center mb-0\">\n                <button class=\"btn btn-gradient-primary btn-sm reset-btn\" role=\"button\" type=\"submit\" [disabled]=\"isGeneratingKeys || isLoading\">Submit</button>\n                <app-loading-spinner [showSpinner]=\"isGeneratingKeys || isLoading\"></app-loading-spinner>\n              </div>\n            </form>\n          </div>\n        </div>\n      </ng-template>\n    </div>\n  </div>\n</ng-template>\n","import { AfterViewInit, Component, ElementRef, HostListener, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Store } from '@ngrx/store';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { Router } from '@angular/router';\nimport Keyboard from 'simple-keyboard';\nimport { filter } from 'rxjs/operators';\n\nimport { AppState, AuthState } from '../../store/datatypes';\nimport { ClearAuthErrorMessage, FinalLoading, LogIn, RecoverPassword, ResetPassword } from '../../store/actions';\nimport { LOADING_IMAGE, OpenPgpService, SharedService, UsersService } from '../../store/services';\nimport { ESCAPE_KEYCODE } from '../../shared/config';\nimport { PasswordValidation } from '../users-create-account/users-create-account.component';\n\n@UntilDestroy()\n@Component({\n  selector: 'app-users-sign-in',\n  templateUrl: './users-sign-in.component.html',\n  styleUrls: ['./users-sign-in.component.scss'],\n})\nexport class UsersSignInComponent implements OnDestroy, OnInit, AfterViewInit {\n  loginForm: FormGroup;\n\n  recoverPasswordForm: FormGroup;\n\n  resetPasswordForm: FormGroup;\n\n  showFormErrors = false;\n\n  showResetPasswordFormErrors = false;\n\n  errorMessage = '';\n\n  resetPasswordErrorMessage = '';\n\n  isLoading = false;\n\n  isConfirmedPrivacy: boolean = null;\n\n  // == NgBootstrap Modal stuffs\n  resetModalRef: any;\n\n  username = '';\n\n  password = 'password';\n\n  layout: any = 'alphanumeric';\n\n  isKeyboardOpened: boolean;\n\n  isRecoverFormSubmitted: boolean;\n\n  isGeneratingKeys: boolean;\n\n  isRecoveryCodeSent: boolean;\n\n  authState: AuthState;\n\n  otp: string;\n\n  loadingImage = LOADING_IMAGE;\n\n  isRecoveryKeyMode: boolean;\n\n  @ViewChild('usernameVC') usernameVC: ElementRef;\n\n  @ViewChild('passwordVC') passwordVC: ElementRef;\n\n  @ViewChild('resetPasswordModal') resetPasswordModal;\n\n  @ViewChild('otpInput') otpInput: ElementRef;\n\n  keyboard: Keyboard;\n\n  currentInput: InputFields;\n\n  inputFields = InputFields;\n\n  constructor(\n    private modalService: NgbModal,\n    private formBuilder: FormBuilder,\n    private store: Store<AppState>,\n    private sharedService: SharedService,\n    private userService: UsersService,\n    private router: Router,\n    private openPgpService: OpenPgpService,\n  ) {}\n\n  ngOnInit() {\n    this.store.dispatch(new ClearAuthErrorMessage());\n    setTimeout(() => {\n      this.store.dispatch(new FinalLoading({ loadingState: false }));\n    });\n\n    this.sharedService.hideFooter.emit(true);\n\n    this.loginForm = this.formBuilder.group({\n      username: ['', [Validators.required]],\n      password: ['', [Validators.required]],\n      rememberMe: [false],\n    });\n\n    this.recoverPasswordForm = this.formBuilder.group({\n      username: ['', [Validators.required]],\n      recovery_email: ['', [Validators.required, Validators.email]],\n    });\n    this.resetPasswordForm = this.formBuilder.group(\n      {\n        code: ['', [Validators.required]],\n        password: ['', [Validators.required]],\n        confirmPwd: ['', [Validators.required]],\n        username: ['', [Validators.required]],\n      },\n      {\n        validator: PasswordValidation.MatchPassword,\n      },\n    );\n\n    this.store\n      .select(state => state.auth)\n      .pipe(untilDestroyed(this))\n      .subscribe((authState: AuthState) => {\n        if (!authState.isAuthenticated) {\n          this.isLoading = authState.inProgress;\n        }\n        this.errorMessage = authState.errorMessage;\n        this.isRecoveryCodeSent = authState.isRecoveryCodeSent;\n        this.resetPasswordErrorMessage = authState.resetPasswordErrorMessage;\n        if (authState.errorMessage) {\n        }\n        if (\n          this.isRecoverFormSubmitted &&\n          this.authState.inProgress &&\n          !authState.inProgress &&\n          !authState.resetPasswordErrorMessage\n        ) {\n          this.resetModalRef.dismiss();\n        }\n        if (authState.auth2FA.show2FALogin) {\n          setTimeout(() => {\n            this.otpInput.nativeElement.focus();\n          }, 200);\n        }\n        this.authState = authState;\n      });\n  }\n\n  ngOnDestroy() {\n    this.store.dispatch(new ClearAuthErrorMessage());\n    this.sharedService.hideFooter.emit(false);\n  }\n\n  openResetPasswordModal() {\n    this.isRecoverFormSubmitted = false;\n    this.isRecoveryCodeSent = false;\n    this.isRecoveryKeyMode = false;\n    this.showResetPasswordFormErrors = false;\n    this.resetPasswordErrorMessage = '';\n    this.recoverPasswordForm.reset();\n    this.resetPasswordForm.reset();\n    this.resetModalRef = this.modalService.open(this.resetPasswordModal, {\n      centered: true,\n      windowClass: 'modal-md',\n      backdrop: 'static',\n    });\n  }\n\n  // == Toggle password visibility\n  togglePassword(input: any): any {\n    if (!input.value) {\n      return;\n    }\n    input.type = input.type === 'password' ? 'text' : 'password';\n  }\n\n  login(user, otp?: string, isOtp?: boolean) {\n    this.showFormErrors = true;\n    if (isOtp && !otp) {\n      return;\n    }\n    if (this.loginForm.valid) {\n      this.store.dispatch(new LogIn({ ...user, otp }));\n    }\n  }\n\n  toggleRememberMe() {\n    this.loginForm.controls.rememberMe.setValue(!this.loginForm.controls.rememberMe.value);\n  }\n\n  continueLogin() {\n    this.authState.anti_phishing_phrase = '';\n    this.router.navigateByUrl('/mail');\n  }\n\n  recoverPassword(data) {\n    this.showResetPasswordFormErrors = true;\n    if (this.isConfirmedPrivacy === null) {\n      this.isConfirmedPrivacy = false;\n    }\n    if (this.recoverPasswordForm.valid && this.isConfirmedPrivacy) {\n      data.username = this.userService.trimUsername(data.username);\n      this.store.dispatch(new RecoverPassword(data));\n      this.resetPasswordForm.get('username').setValue(data.username);\n      this.showResetPasswordFormErrors = false;\n    }\n  }\n\n  resetPassword(data) {\n    this.showResetPasswordFormErrors = true;\n    if (this.resetPasswordForm.valid) {\n      data.username = this.userService.trimUsername(data.username);\n      this.isGeneratingKeys = true;\n      this.openPgpService.generateUserKeys(data.username, data.password);\n      if (this.openPgpService.getUserKeys()) {\n        this.resetPasswordConfirmed(data);\n      } else {\n        this.waitForPGPKeys(data);\n      }\n    }\n  }\n\n  waitForPGPKeys(data) {\n    setTimeout(() => {\n      if (this.openPgpService.getUserKeys()) {\n        this.resetPasswordConfirmed(data);\n        return;\n      }\n      this.waitForPGPKeys(data);\n    }, 1000);\n  }\n\n  resetPasswordConfirmed(data) {\n    this.isGeneratingKeys = false;\n    const requestData = {\n      code: data.code,\n      username: data.username,\n      password: data.password,\n      ...this.openPgpService.getUserKeys(),\n    };\n    this.isRecoverFormSubmitted = true;\n    this.store.dispatch(new ResetPassword(requestData));\n  }\n\n  // On screen keyboard handling\n  ngAfterViewInit() {\n    this.keyboard = new Keyboard({\n      onChange: input => this.onChange(input),\n      onKeyPress: button => this.onKeyPress(button),\n    });\n    this.loginForm\n      .get(InputFields.USERNAME)\n      .valueChanges.pipe(\n        untilDestroyed(this),\n        filter(value => this.isKeyboardOpened && value !== this.keyboard.getInput()),\n      )\n      .subscribe(value => {\n        this.onInputChange(value);\n      });\n    this.loginForm\n      .get(InputFields.PASSWORD)\n      .valueChanges.pipe(\n        untilDestroyed(this),\n        filter(value => this.isKeyboardOpened && value !== this.keyboard.getInput()),\n      )\n      .subscribe(value => {\n        this.onInputChange(value);\n      });\n  }\n\n  onChange(input: string) {\n    this.loginForm.get(this.currentInput).setValue(input);\n  }\n\n  onKeyPress(button: string) {\n    console.log('Button pressed', button);\n\n    /**\n     * If you want to handle the shift and caps lock buttons\n     */\n    if (button === '{shift}' || button === '{lock}') {\n      this.handleShift();\n    }\n  }\n\n  onInputChange(value: string) {\n    this.keyboard.setInput(value);\n  }\n\n  handleShift() {\n    const currentLayout = this.keyboard.options.layoutName;\n    const shiftToggle = currentLayout === 'default' ? 'shift' : 'default';\n\n    this.keyboard.setOptions({\n      layoutName: shiftToggle,\n    });\n  }\n\n  openOSK(input) {\n    if (!(this.isKeyboardOpened && this.currentInput !== input)) {\n      this.isKeyboardOpened = !this.isKeyboardOpened;\n    }\n    this.currentInput = input;\n    if (this.isKeyboardOpened) {\n      if (this.currentInput === InputFields.PASSWORD) {\n        this.passwordVC.nativeElement.focus();\n      } else {\n        this.usernameVC.nativeElement.focus();\n      }\n      this.onInputChange(this.loginForm.get(this.currentInput).value);\n    }\n  }\n\n  onInputFocusChange(input) {\n    if (this.isKeyboardOpened) {\n      this.isKeyboardOpened = false;\n      this.openOSK(input);\n    }\n  }\n\n  @HostListener('document:keydown', ['$event'])\n  onKeydownHandler(event: KeyboardEvent) {\n    if (event.keyCode === ESCAPE_KEYCODE) {\n      this.isKeyboardOpened = false;\n    }\n  }\n}\n\nenum InputFields {\n  USERNAME = 'username',\n  PASSWORD = 'password',\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\n\nimport { Storage, StorageData } from '../../store/models';\nimport { SharedService } from '../../store/services';\nimport { FinalLoading } from '../../store/actions';\nimport { PRIMARY_WEBSITE } from '../../shared/config';\n\n@Component({\n  selector: 'app-users-sign-up',\n  templateUrl: './users-sign-up.component.html',\n  styleUrls: ['./users-sign-up.component.scss'],\n})\nexport class UsersSignUpComponent implements OnDestroy, OnInit {\n  public storageList: Storage[];\n\n  public selectedStorage: Storage;\n\n  public mainPayments: any[];\n\n  public selectedPayment = 0;\n\n  // == Defining public property as boolean\n  public selectedIndex = -1; // Assuming no element are selected initially\n\n  public primaryWebsite = PRIMARY_WEBSITE;\n\n  constructor(private sharedService: SharedService, private store: Store<any>) {}\n\n  ngOnInit() {\n    this.sharedService.hideFooter.emit(true);\n    this.storageList = StorageData;\n    this.selectedStorage = this.storageList[0];\n    this.mainPayments = [\n      {\n        id: 'pay-monthly',\n        title: 'Pay Monthly',\n        checked: true,\n        moMoney: 0,\n        totalMoney: 0,\n      },\n      {\n        id: 'pay-annullay',\n        title: 'Pay Annually',\n        checked: false,\n        moMoney: 0,\n        totalMoney: 0,\n      },\n    ];\n    this.makePayments();\n    this.store.dispatch(new FinalLoading({ loadingState: false }));\n  }\n\n  // == Toggle active state of the slide in price page\n  toggleSlides(index) {\n    this.selectedIndex = index;\n    document.querySelector('.package-xs-tab > li').classList.remove('active');\n    document.querySelector('.package-prime-col').classList.remove('active-slide');\n  }\n\n  onChangeType(item) {\n    this.selectedStorage = item;\n    this.makePayments();\n  }\n\n  makePayments() {\n    this.mainPayments[0].moMoney = this.selectedStorage.price;\n    this.mainPayments[1].moMoney = (this.selectedStorage.price * 0.8).toFixed(1);\n    this.mainPayments[1].totalMoney = (this.selectedStorage.price * 9.6).toFixed(1);\n  }\n\n  onChangePayment(index) {\n    this.selectedPayment = index;\n  }\n\n  ngOnDestroy() {\n    this.sharedService.hideFooter.emit(false);\n  }\n}\n","<!-- PAGE SECTION -->\n<section class=\"l-block l-block-text bg-white gap-p-eq\">\n  <div class=\"container\">\n    <header class=\"l-block-header position-relative text-center\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-sm-12 col-md-10 position-sm-static px-sm-5 px-md-0\">\n          <h1 class=\"l-block-title text-uppercase text-secondary\">\n            <strong [translate]=\"'page_pricing.select_account_type'\">Select account type</strong>\n          </h1>\n          <h4 class=\"l-block-subtitle mb-0 text-dark fw-light pb-3\" [innerHTML]=\"'page_pricing.do_not_show_ads' | translate\">\n            <p>CTemplar is the world's most secure & private email service based on an analysis of technical specifications. <br />**CTemplar can not be used for sending spam or bulk emails</p>\n          </h4>\n          <p class=\"mt-3\">\n            14 Day Money back Guarantee (Cryptocurrency excluded)<br />\n            <a href=\"{{ primaryWebsite }}our-pricing-explained/\" target=\"_blank\">Pricing explained</a>\n          </p>\n        </div>\n      </div>\n    </header>\n    <app-pricing-plans hideHeader=\"true\" blockGapsZero=\"true\"></app-pricing-plans>\n  </div>\n  <!-- /.Site container ends -->\n</section>\n<!-- /.PAGE SECTION ENDS -->\n","import { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgbModalModule, NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { SharedModule } from '../shared/shared.module';\nimport { UsersService } from '../store/services';\n\nimport { DecryptMessageComponent } from './decrypt/decrypt-message.component';\nimport { DisplaySecureMessageComponent } from './display-secure-message/display-secure-message.component';\nimport { UsersCreateAccountComponent } from './users-create-account/users-create-account.component';\nimport { UsersSignInComponent } from './users-sign-in/users-sign-in.component';\nimport { UsersSignUpComponent } from './users-sign-up/users-sign-up.component';\nimport { UsersRoutingModule } from './users-routing.module';\nimport { DisplayNameDialogComponent } from './dialogs/display-name-dialog/display-name-dialog.component';\nimport { ReplySecureMessageComponent } from './reply-secure-message/reply-secure-message.component';\nimport { UserAccountInitDialogComponent } from './dialogs/user-account-init-dialog/user-account-init-dialog.component';\n\n@NgModule({\n  entryComponents: [DisplayNameDialogComponent, UserAccountInitDialogComponent],\n  declarations: [\n    DecryptMessageComponent,\n    DisplayNameDialogComponent,\n    DisplaySecureMessageComponent,\n    ReplySecureMessageComponent,\n    UserAccountInitDialogComponent,\n    UsersCreateAccountComponent,\n    UsersSignInComponent,\n    UsersSignUpComponent,\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    NgbModalModule,\n    NgbModule,\n    ReactiveFormsModule,\n    SharedModule,\n    TranslateModule,\n    UsersRoutingModule,\n  ],\n  exports: [UsersRoutingModule],\n  providers: [UsersService],\n})\nexport class UsersModule {}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const AppConfig = {\n  debug: true,\n  production: false,\n  local: false,\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { AppConfig } from './environments/environment';\n\nif (AppConfig.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule, {\n    preserveWhitespaces: false,\n  })\n  .catch(error => console.error(error));\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"]}